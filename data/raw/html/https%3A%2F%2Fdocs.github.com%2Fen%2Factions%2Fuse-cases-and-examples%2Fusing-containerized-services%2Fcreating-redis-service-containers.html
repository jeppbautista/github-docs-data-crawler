<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="GitHub Actions" href="/en/actions">GitHub Actions</a><span>/</span>
</li>
<li>
<a title="Use cases and examples" href="/en/actions/use-cases-and-examples">Use cases and examples</a><span>/</span>
</li>
<li>
<a title="Containerized services" href="/en/actions/use-cases-and-examples/using-containerized-services">Containerized services</a><span>/</span>
</li>
<li><a title="Create Redis service containers" href="/en/actions/use-cases-and-examples/using-containerized-services/creating-redis-service-containers">Create Redis service containers</a></li>
</ul></nav></div>
<div>
<div><div><h1>Creating Redis service containers</h1></div></div>
<div><div><p>You can use service containers to create a Redis client in your workflow. This guide shows examples of creating a Redis service for jobs that run in containers or directly on the runner machine.</p></div></div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#introduction"><div><span>Introduction</span></div></a></li>
<li><a href="#prerequisites"><div><span>Prerequisites</span></div></a></li>
<li><a href="#running-jobs-in-containers"><div><span>Running jobs in containers</span></div></a></li>
<li><a href="#running-jobs-directly-on-the-runner-machine"><div><span>Running jobs directly on the runner machine</span></div></a></li>
<li><a href="#testing-the-redis-service-container"><div><span>Testing the Redis service container</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<h2><a href="#introduction">Introduction</a></h2>
<p>This guide shows you workflow examples that configure a service container using the Docker Hub <code>redis</code> image. The workflow runs a script to create a Redis client and populate the client with data. To test that the workflow creates and populates the Redis client, the script prints the client's data to the console.</p>
<div>
<p>
If your workflows use Docker container actions, job containers, or service containers, then you must use a Linux runner:</p>
<ul>
<li>If you are using GitHub-hosted runners, you must use an Ubuntu runner.</li>
<li>If you are using self-hosted runners, you must use a Linux machine as your runner and Docker must be installed.</li>
</ul>
</div>
<h2><a href="#prerequisites">Prerequisites</a></h2>
<p>You should be familiar with how service containers work with GitHub Actions and the networking differences between running jobs directly on the runner or in a container. For more information, see <a href="/en/actions/using-containerized-services/about-service-containers">About service containers</a>.</p>
<p>You may also find it helpful to have a basic understanding of YAML, the syntax for GitHub Actions, and Redis. For more information, see:</p>
<ul>
<li><a href="/en/actions/learn-github-actions">Writing workflows</a></li>
<li>
<a href="https://redislabs.com/get-started-with-redis/">Getting Started with Redis</a> in the Redis documentation</li>
</ul>
<h2><a href="#running-jobs-in-containers">Running jobs in containers</a></h2>
<p>Configuring jobs to run in a container simplifies networking configurations between the job and the service containers. Docker containers on the same user-defined bridge network expose all ports to each other, so you don't need to map any of the service container ports to the Docker host. You can access the service container from the job container using the label you configure in the workflow.</p>
<p>You can copy this workflow file to the <code>.github/workflows</code> directory of your repository and modify it as needed.</p>
<div>
<header><span>YAML</span><pre>name: Redis container example
on: push

jobs:
  # Label of the container job
  container-job:
    # Containers must run in Linux based operating systems
    runs-on: ubuntu-latest
    # Docker Hub image that `container-job` executes in
    container: node:20-bookworm-slim

    # Service containers to run with `container-job`
    services:
      # Label used to access the service container
      redis:
        # Docker Hub image
        image: redis
        # Set health checks to wait until redis has started
        options: &gt;-
          --health-cmd "redis-cli ping"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5

    steps:
      # Downloads a copy of the code in your repository before running CI tests
      - name: Check out repository code
        uses: actions/checkout@v4

      # Performs a clean installation of all dependencies in the `package.json` file
      # For more information, see https://docs.npmjs.com/cli/ci.html
      - name: Install dependencies
        run: npm ci

      - name: Connect to Redis
        # Runs a script that creates a Redis client, populates
        # the client with data, and retrieves data
        run: node client.js
        # Environment variable used by the `client.js` script to create a new Redis client.
        env:
          # The hostname used to communicate with the Redis service container
          REDIS_HOST: redis
          # The default Redis port
          REDIS_PORT: 6379
</pre></header><pre><code><span>name:</span> <span>Redis</span> <span>container</span> <span>example</span>
<span>on:</span> <span>push</span>

<span>jobs:</span>
  <span># Label of the container job</span>
  <span>container-job:</span>
    <span># Containers must run in Linux based operating systems</span>
    <span>runs-on:</span> <span>ubuntu-latest</span>
    <span># Docker Hub image that `container-job` executes in</span>
    <span>container:</span> <span>node:20-bookworm-slim</span>

    <span># Service containers to run with `container-job`</span>
    <span>services:</span>
      <span># Label used to access the service container</span>
      <span>redis:</span>
        <span># Docker Hub image</span>
        <span>image:</span> <span>redis</span>
        <span># Set health checks to wait until redis has started</span>
        <span>options:</span> <span>&gt;-
          --health-cmd "redis-cli ping"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
</span>
    <span>steps:</span>
      <span># Downloads a copy of the code in your repository before running CI tests</span>
      <span>-</span> <span>name:</span> <span>Check</span> <span>out</span> <span>repository</span> <span>code</span>
        <span>uses:</span> <span>actions/checkout@v4</span>

      <span># Performs a clean installation of all dependencies in the `package.json` file</span>
      <span># For more information, see https://docs.npmjs.com/cli/ci.html</span>
      <span>-</span> <span>name:</span> <span>Install</span> <span>dependencies</span>
        <span>run:</span> <span>npm</span> <span>ci</span>

      <span>-</span> <span>name:</span> <span>Connect</span> <span>to</span> <span>Redis</span>
        <span># Runs a script that creates a Redis client, populates</span>
        <span># the client with data, and retrieves data</span>
        <span>run:</span> <span>node</span> <span>client.js</span>
        <span># Environment variable used by the `client.js` script to create a new Redis client.</span>
        <span>env:</span>
          <span># The hostname used to communicate with the Redis service container</span>
          <span>REDIS_HOST:</span> <span>redis</span>
          <span># The default Redis port</span>
          <span>REDIS_PORT:</span> <span>6379</span>
</code></pre>
</div>
<h3><a href="#configuring-the-container-job">Configuring the container job</a></h3>
<p>This workflow configures a job that runs in the <code>node:20-bookworm-slim</code> container and uses the <code>ubuntu-latest</code>  GitHub-hosted runner as the Docker host for the container. For more information about the <code>node:20-bookworm-slim</code> container, see the <a href="https://hub.docker.com/_/node">node image</a> on Docker Hub.</p>
<p>The workflow configures a service container with the label <code>redis</code>. All services must run in a container, so each service requires that you specify the container <code>image</code>. This example uses the <code>redis</code> container image, and includes health check options to make sure the service is running. Append a tag to the image name to specify a version, e.g. <code>redis:6</code>. For more information, see the <a href="https://hub.docker.com/_/redis">redis image</a> on Docker Hub.</p>
<div>
<header><span>YAML</span><pre>jobs:
  # Label of the container job
  container-job:
    # Containers must run in Linux based operating systems
    runs-on: ubuntu-latest
    # Docker Hub image that `container-job` executes in
    container: node:20-bookworm-slim

    # Service containers to run with `container-job`
    services:
      # Label used to access the service container
      redis:
        # Docker Hub image
        image: redis
        # Set health checks to wait until redis has started
        options: &gt;-
          --health-cmd "redis-cli ping"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
</pre></header><pre><code><span>jobs:</span>
  <span># Label of the container job</span>
  <span>container-job:</span>
    <span># Containers must run in Linux based operating systems</span>
    <span>runs-on:</span> <span>ubuntu-latest</span>
    <span># Docker Hub image that `container-job` executes in</span>
    <span>container:</span> <span>node:20-bookworm-slim</span>

    <span># Service containers to run with `container-job`</span>
    <span>services:</span>
      <span># Label used to access the service container</span>
      <span>redis:</span>
        <span># Docker Hub image</span>
        <span>image:</span> <span>redis</span>
        <span># Set health checks to wait until redis has started</span>
        <span>options:</span> <span>&gt;-
          --health-cmd "redis-cli ping"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
</span></code></pre>
</div>
<h3><a href="#configuring-the-steps-for-the-container-job">Configuring the steps for the container job</a></h3>
<p>The workflow performs the following steps:</p>
<ol>
<li>Checks out the repository on the runner</li>
<li>Installs dependencies</li>
<li>Runs a script to create a client</li>
</ol>
<div>
<header><span>YAML</span><pre>steps:
  # Downloads a copy of the code in your repository before running CI tests
  - name: Check out repository code
    uses: actions/checkout@v4

  # Performs a clean installation of all dependencies in the `package.json` file
  # For more information, see https://docs.npmjs.com/cli/ci.html
  - name: Install dependencies
    run: npm ci

  - name: Connect to Redis
    # Runs a script that creates a Redis client, populates
    # the client with data, and retrieves data
    run: node client.js
    # Environment variable used by the `client.js` script to create a new Redis client.
    env:
      # The hostname used to communicate with the Redis service container
      REDIS_HOST: redis
      # The default Redis port
      REDIS_PORT: 6379
</pre></header><pre><code><span>steps:</span>
  <span># Downloads a copy of the code in your repository before running CI tests</span>
  <span>-</span> <span>name:</span> <span>Check</span> <span>out</span> <span>repository</span> <span>code</span>
    <span>uses:</span> <span>actions/checkout@v4</span>

  <span># Performs a clean installation of all dependencies in the `package.json` file</span>
  <span># For more information, see https://docs.npmjs.com/cli/ci.html</span>
  <span>-</span> <span>name:</span> <span>Install</span> <span>dependencies</span>
    <span>run:</span> <span>npm</span> <span>ci</span>

  <span>-</span> <span>name:</span> <span>Connect</span> <span>to</span> <span>Redis</span>
    <span># Runs a script that creates a Redis client, populates</span>
    <span># the client with data, and retrieves data</span>
    <span>run:</span> <span>node</span> <span>client.js</span>
    <span># Environment variable used by the `client.js` script to create a new Redis client.</span>
    <span>env:</span>
      <span># The hostname used to communicate with the Redis service container</span>
      <span>REDIS_HOST:</span> <span>redis</span>
      <span># The default Redis port</span>
      <span>REDIS_PORT:</span> <span>6379</span>
</code></pre>
</div>
<p>The <em>client.js</em> script looks for the <code>REDIS_HOST</code> and <code>REDIS_PORT</code> environment variables to create the client. The workflow sets those two environment variables as part of the "Connect to Redis" step to make them available to the <em>client.js</em> script. For more information about the script, see <a href="#testing-the-redis-service-container">Testing the Redis service container</a>.</p>
<p>The hostname of the Redis service is the label you configured in your workflow, in this case, <code>redis</code>. Because Docker containers on the same user-defined bridge network open all ports by default, you'll be able to access the service container on the default Redis port 6379.</p>
<h2><a href="#running-jobs-directly-on-the-runner-machine">Running jobs directly on the runner machine</a></h2>
<p>When you run a job directly on the runner machine, you'll need to map the ports on the service container to ports on the Docker host. You can access service containers from the Docker host using <code>localhost</code> and the Docker host port number.</p>
<p>You can copy this workflow file to the <code>.github/workflows</code> directory of your repository and modify it as needed.</p>
<div>
<header><span>YAML</span><pre>name: Redis runner example
on: push

jobs:
  # Label of the runner job
  runner-job:
    # You must use a Linux environment when using service containers or container jobs
    runs-on: ubuntu-latest

    # Service containers to run with `runner-job`
    services:
      # Label used to access the service container
      redis:
        # Docker Hub image
        image: redis
        # Set health checks to wait until redis has started
        options: &gt;-
          --health-cmd "redis-cli ping"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
        ports:
          # Maps port 6379 on service container to the host
          - 6379:6379

    steps:
      # Downloads a copy of the code in your repository before running CI tests
      - name: Check out repository code
        uses: actions/checkout@v4

      # Performs a clean installation of all dependencies in the `package.json` file
      # For more information, see https://docs.npmjs.com/cli/ci.html
      - name: Install dependencies
        run: npm ci

      - name: Connect to Redis
        # Runs a script that creates a Redis client, populates
        # the client with data, and retrieves data
        run: node client.js
        # Environment variable used by the `client.js` script to create
        # a new Redis client.
        env:
          # The hostname used to communicate with the Redis service container
          REDIS_HOST: localhost
          # The default Redis port
          REDIS_PORT: 6379
</pre></header><pre><code><span>name:</span> <span>Redis</span> <span>runner</span> <span>example</span>
<span>on:</span> <span>push</span>

<span>jobs:</span>
  <span># Label of the runner job</span>
  <span>runner-job:</span>
    <span># You must use a Linux environment when using service containers or container jobs</span>
    <span>runs-on:</span> <span>ubuntu-latest</span>

    <span># Service containers to run with `runner-job`</span>
    <span>services:</span>
      <span># Label used to access the service container</span>
      <span>redis:</span>
        <span># Docker Hub image</span>
        <span>image:</span> <span>redis</span>
        <span># Set health checks to wait until redis has started</span>
        <span>options:</span> <span>&gt;-
          --health-cmd "redis-cli ping"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
</span>        <span>ports:</span>
          <span># Maps port 6379 on service container to the host</span>
          <span>-</span> <span>6379</span><span>:6379</span>

    <span>steps:</span>
      <span># Downloads a copy of the code in your repository before running CI tests</span>
      <span>-</span> <span>name:</span> <span>Check</span> <span>out</span> <span>repository</span> <span>code</span>
        <span>uses:</span> <span>actions/checkout@v4</span>

      <span># Performs a clean installation of all dependencies in the `package.json` file</span>
      <span># For more information, see https://docs.npmjs.com/cli/ci.html</span>
      <span>-</span> <span>name:</span> <span>Install</span> <span>dependencies</span>
        <span>run:</span> <span>npm</span> <span>ci</span>

      <span>-</span> <span>name:</span> <span>Connect</span> <span>to</span> <span>Redis</span>
        <span># Runs a script that creates a Redis client, populates</span>
        <span># the client with data, and retrieves data</span>
        <span>run:</span> <span>node</span> <span>client.js</span>
        <span># Environment variable used by the `client.js` script to create</span>
        <span># a new Redis client.</span>
        <span>env:</span>
          <span># The hostname used to communicate with the Redis service container</span>
          <span>REDIS_HOST:</span> <span>localhost</span>
          <span># The default Redis port</span>
          <span>REDIS_PORT:</span> <span>6379</span>
</code></pre>
</div>
<h3><a href="#configuring-the-runner-job">Configuring the runner job</a></h3>
<p>The example uses the <code>ubuntu-latest</code>  GitHub-hosted runner as the Docker host.</p>
<p>The workflow configures a service container with the label <code>redis</code>. All services must run in a container, so each service requires that you specify the container <code>image</code>. This example uses the <code>redis</code> container image, and includes health check options to make sure the service is running. Append a tag to the image name to specify a version, e.g. <code>redis:6</code>. For more information, see the <a href="https://hub.docker.com/_/redis">redis image</a> on Docker Hub.</p>
<p>The workflow maps port 6379 on the Redis service container to the Docker host. For more information about the <code>ports</code> keyword, see <a href="/en/actions/using-containerized-services/about-service-containers#mapping-docker-host-and-service-container-ports">About service containers</a>.</p>
<div>
<header><span>YAML</span><pre>jobs:
  # Label of the runner job
  runner-job:
    # You must use a Linux environment when using service containers or container jobs
    runs-on: ubuntu-latest

    # Service containers to run with `runner-job`
    services:
      # Label used to access the service container
      redis:
        # Docker Hub image
        image: redis
        # Set health checks to wait until redis has started
        options: &gt;-
          --health-cmd "redis-cli ping"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
        ports:
          # Maps port 6379 on service container to the host
          - 6379:6379
</pre></header><pre><code><span>jobs:</span>
  <span># Label of the runner job</span>
  <span>runner-job:</span>
    <span># You must use a Linux environment when using service containers or container jobs</span>
    <span>runs-on:</span> <span>ubuntu-latest</span>

    <span># Service containers to run with `runner-job`</span>
    <span>services:</span>
      <span># Label used to access the service container</span>
      <span>redis:</span>
        <span># Docker Hub image</span>
        <span>image:</span> <span>redis</span>
        <span># Set health checks to wait until redis has started</span>
        <span>options:</span> <span>&gt;-
          --health-cmd "redis-cli ping"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
</span>        <span>ports:</span>
          <span># Maps port 6379 on service container to the host</span>
          <span>-</span> <span>6379</span><span>:6379</span>
</code></pre>
</div>
<h3><a href="#configuring-the-steps-for-the-runner-job">Configuring the steps for the runner job</a></h3>
<p>The workflow performs the following steps:</p>
<ol>
<li>Checks out the repository on the runner</li>
<li>Installs dependencies</li>
<li>Runs a script to create a client</li>
</ol>
<div>
<header><span>YAML</span><pre>steps:
  # Downloads a copy of the code in your repository before running CI tests
  - name: Check out repository code
    uses: actions/checkout@v4

  # Performs a clean installation of all dependencies in the `package.json` file
  # For more information, see https://docs.npmjs.com/cli/ci.html
  - name: Install dependencies
    run: npm ci

  - name: Connect to Redis
    # Runs a script that creates a Redis client, populates
    # the client with data, and retrieves data
    run: node client.js
    # Environment variable used by the `client.js` script to create
    # a new Redis client.
    env:
      # The hostname used to communicate with the Redis service container
      REDIS_HOST: localhost
      # The default Redis port
      REDIS_PORT: 6379
</pre></header><pre><code><span>steps:</span>
  <span># Downloads a copy of the code in your repository before running CI tests</span>
  <span>-</span> <span>name:</span> <span>Check</span> <span>out</span> <span>repository</span> <span>code</span>
    <span>uses:</span> <span>actions/checkout@v4</span>

  <span># Performs a clean installation of all dependencies in the `package.json` file</span>
  <span># For more information, see https://docs.npmjs.com/cli/ci.html</span>
  <span>-</span> <span>name:</span> <span>Install</span> <span>dependencies</span>
    <span>run:</span> <span>npm</span> <span>ci</span>

  <span>-</span> <span>name:</span> <span>Connect</span> <span>to</span> <span>Redis</span>
    <span># Runs a script that creates a Redis client, populates</span>
    <span># the client with data, and retrieves data</span>
    <span>run:</span> <span>node</span> <span>client.js</span>
    <span># Environment variable used by the `client.js` script to create</span>
    <span># a new Redis client.</span>
    <span>env:</span>
      <span># The hostname used to communicate with the Redis service container</span>
      <span>REDIS_HOST:</span> <span>localhost</span>
      <span># The default Redis port</span>
      <span>REDIS_PORT:</span> <span>6379</span>
</code></pre>
</div>
<p>The <em>client.js</em> script looks for the <code>REDIS_HOST</code> and <code>REDIS_PORT</code> environment variables to create the client. The workflow sets those two environment variables as part of the "Connect to Redis" step to make them available to the <em>client.js</em> script. For more information about the script, see <a href="#testing-the-redis-service-container">Testing the Redis service container</a>.</p>
<p>The hostname is <code>localhost</code> or <code>127.0.0.1</code>.</p>
<h2><a href="#testing-the-redis-service-container">Testing the Redis service container</a></h2>
<p>You can test your workflow using the following script, which creates a Redis client and populates the client with some placeholder data. The script then prints the values stored in the Redis client to the terminal. Your script can use any language you'd like, but this example uses Node.js and the <code>redis</code> npm module. For more information, see the <a href="https://www.npmjs.com/package/redis">npm redis module</a>.</p>
<p>You can modify <em>client.js</em> to include any Redis operations needed by your workflow. In this example, the script creates the Redis client instance, adds placeholder data, then retrieves the data.</p>
<p>Add a new file called <em>client.js</em> to your repository with the following code.</p>
<div>
<header><span>JavaScript</span><pre>const redis = require("redis");

// Creates a new Redis client
// If REDIS_HOST is not set, the default host is localhost
// If REDIS_PORT is not set, the default port is 6379
const redisClient = redis.createClient({
  url: `redis://${process.env.REDIS_HOST}:${process.env.REDIS_PORT}`
});

redisClient.on("error", (err) =&gt; console.log("Error", err));

(async () =&gt; {
  await redisClient.connect();

  // Sets the key "octocat" to a value of "Mona the octocat"
  const setKeyReply = await redisClient.set("octocat", "Mona the Octocat");
  console.log("Reply: " + setKeyReply);
  // Sets a key to "species", field to "octocat", and "value" to "Cat and Octopus"
  const SetFieldOctocatReply = await redisClient.hSet("species", "octocat", "Cat and Octopus");
  console.log("Reply: " + SetFieldOctocatReply);
  // Sets a key to "species", field to "dinotocat", and "value" to "Dinosaur and Octopus"
  const SetFieldDinotocatReply = await redisClient.hSet("species", "dinotocat", "Dinosaur and Octopus");
  console.log("Reply: " + SetFieldDinotocatReply);
  // Sets a key to "species", field to "robotocat", and "value" to "Cat and Robot"
  const SetFieldRobotocatReply = await redisClient.hSet("species", "robotocat", "Cat and Robot");
  console.log("Reply: " + SetFieldRobotocatReply);

  try {
    // Gets all fields in "species" key
    const replies = await redisClient.hKeys("species");
    console.log(replies.length + " replies:");
    replies.forEach((reply, i) =&gt; {
        console.log("    " + i + ": " + reply);
    });
    await redisClient.quit();
  }
  catch (err) {
    // statements to handle any exceptions
  }
})();
</pre></header><pre><code><span>const</span> redis = <span>require</span>(<span>"redis"</span>);

<span>// Creates a new Redis client</span>
<span>// If REDIS_HOST is not set, the default host is localhost</span>
<span>// If REDIS_PORT is not set, the default port is 6379</span>
<span>const</span> redisClient = redis.<span>createClient</span>({
  <span>url</span>: <span>`redis://<span>${process.env.REDIS_HOST}</span>:<span>${process.env.REDIS_PORT}</span>`</span>
});

redisClient.<span>on</span>(<span>"error"</span>, <span>(<span>err</span>) =&gt;</span> <span>console</span>.<span>log</span>(<span>"Error"</span>, err));

(<span>async</span> () =&gt; {
  <span>await</span> redisClient.<span>connect</span>();

  <span>// Sets the key "octocat" to a value of "Mona the octocat"</span>
  <span>const</span> setKeyReply = <span>await</span> redisClient.<span>set</span>(<span>"octocat"</span>, <span>"Mona the Octocat"</span>);
  <span>console</span>.<span>log</span>(<span>"Reply: "</span> + setKeyReply);
  <span>// Sets a key to "species", field to "octocat", and "value" to "Cat and Octopus"</span>
  <span>const</span> <span>SetFieldOctocatReply</span> = <span>await</span> redisClient.<span>hSet</span>(<span>"species"</span>, <span>"octocat"</span>, <span>"Cat and Octopus"</span>);
  <span>console</span>.<span>log</span>(<span>"Reply: "</span> + <span>SetFieldOctocatReply</span>);
  <span>// Sets a key to "species", field to "dinotocat", and "value" to "Dinosaur and Octopus"</span>
  <span>const</span> <span>SetFieldDinotocatReply</span> = <span>await</span> redisClient.<span>hSet</span>(<span>"species"</span>, <span>"dinotocat"</span>, <span>"Dinosaur and Octopus"</span>);
  <span>console</span>.<span>log</span>(<span>"Reply: "</span> + <span>SetFieldDinotocatReply</span>);
  <span>// Sets a key to "species", field to "robotocat", and "value" to "Cat and Robot"</span>
  <span>const</span> <span>SetFieldRobotocatReply</span> = <span>await</span> redisClient.<span>hSet</span>(<span>"species"</span>, <span>"robotocat"</span>, <span>"Cat and Robot"</span>);
  <span>console</span>.<span>log</span>(<span>"Reply: "</span> + <span>SetFieldRobotocatReply</span>);

  <span>try</span> {
    <span>// Gets all fields in "species" key</span>
    <span>const</span> replies = <span>await</span> redisClient.<span>hKeys</span>(<span>"species"</span>);
    <span>console</span>.<span>log</span>(replies.<span>length</span> + <span>" replies:"</span>);
    replies.<span>forEach</span>(<span>(<span>reply, i</span>) =&gt;</span> {
        <span>console</span>.<span>log</span>(<span>"    "</span> + i + <span>": "</span> + reply);
    });
    <span>await</span> redisClient.<span>quit</span>();
  }
  <span>catch</span> (err) {
    <span>// statements to handle any exceptions</span>
  }
})();
</code></pre>
</div>
<p>The script creates a new Redis client using the <code>createClient</code> method, which accepts a <code>host</code> and <code>port</code> parameter. The script uses the <code>REDIS_HOST</code> and <code>REDIS_PORT</code> environment variables to set the client's IP address and port. If <code>host</code> and <code>port</code> are not defined, the default host is <code>localhost</code> and the default port is 6379.</p>
<p>The script uses the <code>set</code> and <code>hset</code> methods to populate the database with some keys, fields, and values. To confirm that the Redis client contains the data, the script prints the contents of the database to the console log.</p>
<p>When you run this workflow, you should see the following output in the "Connect to Redis" step confirming you created the Redis client and added data:</p>
<pre><code>Reply: OK
Reply: 1
Reply: 1
Reply: 1
3 replies:
    0: octocat
    1: dinotocat
    2: robotocat
</code></pre>
</div></div></div>
</div>
</div></main>
</div></body></html>