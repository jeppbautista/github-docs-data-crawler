<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="GitHub Actions" href="/en/actions">GitHub Actions</a><span>/</span>
</li>
<li>
<a title="Write workflows" href="/en/actions/writing-workflows">Write workflows</a><span>/</span>
</li>
<li>
<a title="Choose when workflows run" href="/en/actions/writing-workflows/choosing-when-your-workflow-runs">Choose when workflows run</a><span>/</span>
</li>
<li><a title="Use conditions to control job execution" href="/en/actions/writing-workflows/choosing-when-your-workflow-runs/using-conditions-to-control-job-execution">Use conditions to control job execution</a></li>
</ul></nav></div>
<div>
<div><div><h1>Using conditions to control job execution</h1></div></div>
<div><div><p>Prevent a job from running unless your conditions are met.</p></div></div>
<div><div><div>
<h2><a href="#overview">Overview</a></h2>
<div>
<p>
A job that is skipped will report its status as "Success". It will not prevent a pull request from merging, even if it is a required check.</p>
</div>
<p>You can use the <code>jobs.&lt;job_id&gt;.if</code> conditional to prevent a job from running unless a condition is met. You can use any supported context and expression to create a conditional. For more information on which contexts are supported in this key, see <a href="/en/actions/learn-github-actions/contexts#context-availability">Accessing contextual information about workflow runs</a>.</p>
<div>
<p>
The <code>jobs.&lt;job_id&gt;.if</code> condition is evaluated before <a href="/en/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idstrategymatrix"><code>jobs.&lt;job_id&gt;.strategy.matrix</code></a> is applied.</p>
</div>
<p>When you use expressions in an <code>if</code> conditional, you can, optionally, omit the <code>${{ }}</code> expression syntax because GitHub Actions automatically evaluates the <code>if</code> conditional as an expression. However, this exception does not apply everywhere.</p>
<p>You must always use the <code>${{ }}</code> expression syntax or escape with <code>''</code>, <code>""</code>, or <code>()</code> when the expression starts with <code>!</code>, since <code>!</code> is reserved notation in YAML format. For example:</p>
<pre><code><span>if:</span> <span>${{</span> <span>!</span> <span>startsWith(github.ref,</span> <span>'refs/tags/'</span><span>)</span> <span>}}</span>
</code></pre>
<p>For more information, see <a href="/en/actions/learn-github-actions/expressions">Evaluate expressions in workflows and actions</a>.</p>
<h3><a href="#example-only-run-job-for-specific-repository">Example: Only run job for specific repository</a></h3>
<p>This example uses <code>if</code> to control when the <code>production-deploy</code> job can run. It will only run if the repository is named <code>octo-repo-prod</code> and is within the <code>octo-org</code> organization. Otherwise, the job will be marked as <em>skipped</em>.</p>
<div>
<header><span>YAML</span><pre>name: example-workflow
on: [push]
jobs:
  production-deploy:
    if: github.repository == 'octo-org/octo-repo-prod'
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '14'
      - run: npm install -g bats
</pre></header><pre><code><span>name:</span> <span>example-workflow</span>
<span>on:</span> [<span>push</span>]
<span>jobs:</span>
  <span>production-deploy:</span>
    <span>if:</span> <span>github.repository</span> <span>==</span> <span>'octo-org/octo-repo-prod'</span>
    <span>runs-on:</span> <span>ubuntu-latest</span>
    <span>steps:</span>
      <span>-</span> <span>uses:</span> <span>actions/checkout@v4</span>
      <span>-</span> <span>uses:</span> <span>actions/setup-node@v4</span>
        <span>with:</span>
          <span>node-version:</span> <span>'14'</span>
      <span>-</span> <span>run:</span> <span>npm</span> <span>install</span> <span>-g</span> <span>bats</span>
</code></pre>
</div>
<p>On a skipped job, you should see "This check was skipped."</p>
<div>
<p>
In some parts of the workflow you cannot use environment variables. Instead you can use contexts to access the value of an environment variable. For more information, see <a href="/en/actions/learn-github-actions/variables#using-the-env-context-to-access-environment-variable-values">Store information in variables</a>.</p>
</div>
</div></div></div>
</div>
</div></main>
</div></body></html>