<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="Apps" href="/en/apps">Apps</a><span>/</span>
</li>
<li>
<a title="Sharing GitHub Apps" href="/en/apps/sharing-github-apps">Sharing GitHub Apps</a><span>/</span>
</li>
<li><a title="App manifest" href="/en/apps/sharing-github-apps/registering-a-github-app-from-a-manifest">App manifest</a></li>
</ul></nav></div>
<div>
<div><div><h1>Registering a GitHub App from a manifest</h1></div></div>
<div><div><p>A GitHub App manifest is a way to share a preconfigured GitHub App registration with other users. The manifest flow allows someone to quickly register a GitHub App.</p></div></div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#about-github-app-manifests"><div><span>About GitHub App Manifests</span></div></a></li>
<li><a href="#implementing-the-github-app-manifest-flow"><div><span>Implementing the GitHub App Manifest flow</span></div></a></li>
<li><a href="#using-probot-to-implement-the-github-app-manifest-flow"><div><span>Using Probot to implement the GitHub App Manifest flow</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<h2><a href="#about-github-app-manifests">About GitHub App Manifests</a></h2>
<p>When someone registers a GitHub App from a manifest, they only need to follow a URL and name the app. The manifest includes the permissions, events, and webhook URL needed to automatically register the app. The manifest flow creates the GitHub App registration and generates the app's webhook secret, private key (PEM file), client secret, and GitHub App ID. The person who creates the GitHub App registration from the manifest will own the GitHub App registration and can choose to edit the registration's settings, delete it, or transfer it to another person on GitHub.</p>
<p>You can use <a href="https://probot.github.io/">Probot</a> to get started with GitHub App Manifests or see an example implementation. See <a href="#using-probot-to-implement-the-github-app-manifest-flow">Using Probot to implement the GitHub App Manifest flow</a> to learn more.</p>
<p>Here are some scenarios where you might use GitHub App Manifests to register pre-configured apps:</p>
<ul>
<li>Help new team members come up-to-speed quickly when developing GitHub Apps.</li>
<li>Allow others to extend a GitHub App using the GitHub APIs without requiring them to configure an app.</li>
<li>Create GitHub App reference designs to share with the GitHub community.</li>
<li>Ensure you deploy GitHub Apps to development and production environments using the same configuration.</li>
<li>Track revisions to a GitHub App configuration.</li>
</ul>
<h2><a href="#implementing-the-github-app-manifest-flow">Implementing the GitHub App Manifest flow</a></h2>
<p>The GitHub App Manifest flow uses a handshaking process similar to the <a href="/en/apps/oauth-apps/building-oauth-apps/authorizing-oauth-apps">OAuth flow</a>. The flow uses a manifest to <a href="/en/apps/creating-github-apps/setting-up-a-github-app/creating-a-github-app">register a GitHub App</a> and receives a temporary <code>code</code> used to retrieve the app's private key, webhook secret, and ID.</p>
<div>
<p> You must complete all three steps in the GitHub App Manifest flow within one hour.</p>
</div>
<p>Follow these steps to implement the GitHub App Manifest flow:</p>
<ol>
<li>You redirect people to GitHub to register a new GitHub App.</li>
<li>GitHub redirects people back to your site.</li>
<li>You exchange the temporary code to retrieve the app configuration.</li>
</ol>
<h3><a href="#1-you-redirect-people-to-github-to-register-a-new-github-app">1. You redirect people to GitHub to register a new GitHub App</a></h3>
<p>To redirect people to register a new GitHub App, <a href="#examples">provide a link</a> for them to click that sends a <code>POST</code> request to <code>https://github.com/settings/apps/new</code> for a personal account or <code>https://github.com/organizations/ORGANIZATION/settings/apps/new</code> for an organization account, replacing <code>ORGANIZATION</code> with the name of the organization account where the app will be registered.</p>
<p>You must include the <a href="#github-app-manifest-parameters">GitHub App Manifest parameters</a> as a JSON-encoded string in a parameter called <code>manifest</code>. You can also include a <code>state</code> <a href="#parameters">parameter</a> for additional security.</p>
<p>The person registering the app will be redirected to a GitHub page with an input field where they can edit the name of the app you included in the <code>manifest</code> parameter. If you do not include a <code>name</code> in the <code>manifest</code>, they can set their own name for the app in this field.</p>
<h4><a href="#github-app-manifest-parameters">GitHub App Manifest parameters</a></h4>






































































<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code>name</code></td>
<td><code>string</code></td>
<td>The name of the GitHub App.</td>
</tr>
<tr>
<td><code>url</code></td>
<td><code>string</code></td>
<td>
<strong>Required.</strong> The homepage of your GitHub App.</td>
</tr>
<tr>
<td><code>hook_attributes</code></td>
<td><code>object</code></td>
<td>The configuration of the GitHub App's webhook.</td>
</tr>
<tr>
<td><code>redirect_url</code></td>
<td><code>string</code></td>
<td>The full URL to redirect to after a user initiates the registration of a GitHub App from a manifest.</td>
</tr>
<tr>
<td><code>callback_urls</code></td>
<td><code>array of strings</code></td>
<td>A full URL to redirect to after someone authorizes an installation. You can provide up to 10 callback URLs.</td>
</tr>
<tr>
<td><code>setup_url</code></td>
<td><code>string</code></td>
<td>A full URL to redirect users to after they install your GitHub App if additional setup is required.</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>string</code></td>
<td>A description of the GitHub App.</td>
</tr>
<tr>
<td><code>public</code></td>
<td><code>boolean</code></td>
<td>Set to <code>true</code> when your GitHub App is available to the public or <code>false</code> when it is only accessible to the owner of the app.</td>
</tr>
<tr>
<td><code>default_events</code></td>
<td><code>array</code></td>
<td>The list of <a href="/en/webhooks-and-events/webhooks/webhook-events-and-payloads">events</a> the GitHub App subscribes to.</td>
</tr>
<tr>
<td><code>default_permissions</code></td>
<td><code>object</code></td>
<td>The set of permissions needed by the GitHub App. The format of the object uses the permission name for the key (for example, <code>issues</code>) and the access type for the value (for example, <code>write</code>). For more information, see <a href="/en/apps/creating-github-apps/registering-a-github-app/choosing-permissions-for-a-github-app">Choosing permissions for a GitHub App</a>.</td>
</tr>
<tr>
<td><code>request_oauth_<wbr>on_install</wbr></code></td>
<td><code>boolean</code></td>
<td>Set to <code>true</code> to request the user to authorize the GitHub App, after the GitHub App is installed.</td>
</tr>
<tr>
<td><code>setup_on_update</code></td>
<td><code>boolean</code></td>
<td>Set to <code>true</code> to redirect users to the <code>setup_url</code> after they update your GitHub App installation.</td>
</tr>
</tbody>
</table>
<p>The <code>hook_attributes</code> object has the following keys.</p>




















<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code>url</code></td>
<td><code>string</code></td>
<td>
<strong>Required.</strong> The URL of the server that will receive the webhook <code>POST</code> requests.</td>
</tr>
<tr>
<td><code>active</code></td>
<td><code>boolean</code></td>
<td>Deliver event details when this hook is triggered, defaults to true.</td>
</tr>
</tbody>
</table>
<h4><a href="#parameters">Parameters</a></h4>















<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td><code>state</code></td>
<td><code>string</code></td>
<td>An unguessable random string. It is used to protect against cross-site request forgery attacks.</td>
</tr></tbody>
</table>
<h4><a href="#examples">Examples</a></h4>
<p>This example uses a form on a web page with a button that triggers the <code>POST</code> request for a personal account:</p>
<pre><code><span>&lt;<span>form</span> <span>action</span>=<span>"https://github.com/settings/apps/new?state=abc123"</span> <span>method</span>=<span>"post"</span>&gt;</span>
 Register a GitHub App Manifest: <span>&lt;<span>input</span> <span>type</span>=<span>"text"</span> <span>name</span>=<span>"manifest"</span> <span>id</span>=<span>"manifest"</span>&gt;</span><span>&lt;<span>br</span>&gt;</span>
 <span>&lt;<span>input</span> <span>type</span>=<span>"submit"</span> <span>value</span>=<span>"Submit"</span>&gt;</span>
<span>&lt;/<span>form</span>&gt;</span>

<span>&lt;<span>script</span>&gt;</span><span>
 input = <span>document</span>.<span>getElementById</span>(<span>"manifest"</span>)
 input.<span>value</span> = <span>JSON</span>.<span>stringify</span>({
   <span>"name"</span>: <span>"Octoapp"</span>,
   <span>"url"</span>: <span>"https://www.example.com"</span>,
   <span>"hook_attributes"</span>: {
     <span>"url"</span>: <span>"https://example.com/github/events"</span>,
   },
   <span>"redirect_url"</span>: <span>"https://example.com/redirect"</span>,
   <span>"callback_urls"</span>: [
     <span>"https://example.com/callback"</span>
   ],
   <span>"public"</span>: <span>true</span>,
   <span>"default_permissions"</span>: {
     <span>"issues"</span>: <span>"write"</span>,
     <span>"checks"</span>: <span>"write"</span>
   },
   <span>"default_events"</span>: [
     <span>"issues"</span>,
     <span>"issue_comment"</span>,
     <span>"check_suite"</span>,
     <span>"check_run"</span>
   ]
 })
</span><span>&lt;/<span>script</span>&gt;</span>
</code></pre>
<p>This example uses a form on a web page with a button that triggers the <code>POST</code> request for an organization account. Replace <code>ORGANIZATION</code> with the name of the organization account where you want to register the app.</p>
<pre><code><span>&lt;<span>form</span> <span>action</span>=<span>"https://github.com/organizations/ORGANIZATION/settings/apps/new?state=abc123"</span> <span>method</span>=<span>"post"</span>&gt;</span>
 register a GitHub App Manifest: <span>&lt;<span>input</span> <span>type</span>=<span>"text"</span> <span>name</span>=<span>"manifest"</span> <span>id</span>=<span>"manifest"</span>&gt;</span><span>&lt;<span>br</span>&gt;</span>
 <span>&lt;<span>input</span> <span>type</span>=<span>"submit"</span> <span>value</span>=<span>"Submit"</span>&gt;</span>
<span>&lt;/<span>form</span>&gt;</span>

<span>&lt;<span>script</span>&gt;</span><span>
 input = <span>document</span>.<span>getElementById</span>(<span>"manifest"</span>)
 input.<span>value</span> = <span>JSON</span>.<span>stringify</span>({
   <span>"name"</span>: <span>"Octoapp"</span>,
   <span>"url"</span>: <span>"https://www.example.com"</span>,
   <span>"hook_attributes"</span>: {
     <span>"url"</span>: <span>"https://example.com/github/events"</span>,
   },
   <span>"redirect_url"</span>: <span>"https://example.com/redirect"</span>,
   <span>"callback_urls"</span>: [
     <span>"https://example.com/callback"</span>
   ],
   <span>"public"</span>: <span>true</span>,
   <span>"default_permissions"</span>: {
     <span>"issues"</span>: <span>"write"</span>,
     <span>"checks"</span>: <span>"write"</span>
   },
   <span>"default_events"</span>: [
     <span>"issues"</span>,
     <span>"issue_comment"</span>,
     <span>"check_suite"</span>,
     <span>"check_run"</span>
   ]
 })
</span><span>&lt;/<span>script</span>&gt;</span>
</code></pre>
<h3><a href="#2-github-redirects-people-back-to-your-site">2. GitHub redirects people back to your site</a></h3>
<p>When the person clicks <strong>Create GitHub App</strong>, GitHub redirects back to the <code>redirect_url</code> with a temporary <code>code</code> in a code parameter. For example:</p>
<pre><code>https://example.com/redirect?code=a180b1a3d263c81bc6441d7b990bae27d4c10679
</code></pre>
<p>If you provided a <code>state</code> parameter, you will also see that parameter in the <code>redirect_url</code>. For example:</p>
<pre><code>https://example.com/redirect?code=a180b1a3d263c81bc6441d7b990bae27d4c10679&amp;state=abc123
</code></pre>
<h3><a href="#3-you-exchange-the-temporary-code-to-retrieve-the-app-configuration">3. You exchange the temporary code to retrieve the app configuration</a></h3>
<p>To complete the handshake, send the temporary <code>code</code> in a <code>POST</code> request to the <a href="/en/rest/apps/apps#create-a-github-app-from-a-manifest">Create a GitHub App from a manifest</a> endpoint. The response will include the <code>id</code> (GitHub App ID), <code>pem</code> (private key), and <code>webhook_secret</code>. GitHub creates a webhook secret for the app automatically. You can store these values in environment variables on the app's server. For example, if your app uses <a href="https://github.com/bkeepers/dotenv">dotenv</a> to store environment variables, you would store the variables in your app's <code>.env</code> file.</p>
<p>You must complete this step of the GitHub App Manifest flow within one hour.</p>
<div>
<p>
This endpoint is rate limited. See <a href="/en/rest/rate-limit/rate-limit">Rate limits</a> to learn how to get your current rate limit status.</p>
</div>
<pre><code>POST /app-manifests/{code}/conversions
</code></pre>
<p>For more information about the endpoint's response, see <a href="/en/rest/apps/apps#create-a-github-app-from-a-manifest">Create a GitHub App from a manifest</a>.</p>
<p>When the final step in the manifest flow is completed, the person registering the app from the flow will be an owner of a registered GitHub App that they can install on any of their personal repositories. They can choose to extend the app using the GitHub APIs, transfer ownership to someone else, or delete it at any time.</p>
<h2><a href="#using-probot-to-implement-the-github-app-manifest-flow">Using Probot to implement the GitHub App Manifest flow</a></h2>
<p><a href="https://probot.github.io/">Probot</a> is a framework built with <a href="https://nodejs.org/">Node.js</a> that performs many of the tasks needed by all GitHub Apps, like validating webhooks and performing authentication. Probot implements the <a href="#implementing-the-github-app-manifest-flow">GitHub App manifest flow</a>, making it easy to create and share GitHub App reference designs with the GitHub community.</p>
<p>To create a Probot App that you can share, follow these steps:</p>
<ol>
<li>
<a href="https://probot.github.io/docs/development/#generating-a-new-app">Generate a new GitHub App</a>.</li>
<li>Open the project you created, and customize the settings in the <code>app.yml</code> file. Probot uses the settings in <code>app.yml</code> as the <a href="#github-app-manifest-parameters">GitHub App Manifest parameters</a>.</li>
<li>Add your application's custom code.</li>
<li>
<a href="https://probot.github.io/docs/development/#running-the-app-locally">Run the GitHub App locally</a> or <a href="#hosting-your-app-with-glitch">host it anywhere you'd like</a>. When you navigate to the hosted app's URL, you'll find a web page with a <strong>Register GitHub App</strong> button that people can click to register a preconfigured app.</li>
</ol>
<p>Using <a href="https://github.com/bkeepers/dotenv">dotenv</a>, Probot creates a <code>.env</code> file and sets the <code>APP_ID</code>, <code>PRIVATE_KEY</code>, and <code>WEBHOOK_SECRET</code> environment variables with the values <a href="#3-you-exchange-the-temporary-code-to-retrieve-the-app-configuration">retrieved from the app configuration</a>.</p>
<h3><a href="#hosting-your-app-with-glitch">Hosting your app with Glitch</a></h3>
<p>You can see an <a href="https://glitch.com/~auspicious-aardwolf">example Probot app</a> that uses <a href="https://glitch.com/">Glitch</a> to host and share the app. The example uses the <a href="/en/rest/checks">Checks API</a> and selects the necessary Checks API events and permissions in the <code>app.yml</code> file. Glitch is a tool that allows you to "Remix your own" apps. Remixing an app creates a copy of the app that Glitch hosts and deploys. See <a href="https://glitch.com/about/">About Glitch</a> to learn about remixing Glitch apps.</p>
</div></div></div>
</div>
</div></main>
</div></body></html>