<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="GitHub Actions" href="/en/actions">GitHub Actions</a><span>/</span>
</li>
<li>
<a title="Share automations" href="/en/actions/sharing-automations">Share automations</a><span>/</span>
</li>
<li>
<a title="Create actions" href="/en/actions/sharing-automations/creating-actions">Create actions</a><span>/</span>
</li>
<li><a title="Create a JavaScript action" href="/en/actions/sharing-automations/creating-actions/creating-a-javascript-action">Create a JavaScript action</a></li>
</ul></nav></div>
<div>
<div><div><h1>Creating a JavaScript action</h1></div></div>
<div><div><p>In this guide, you'll learn how to build a JavaScript action using the actions toolkit.</p></div></div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#introduction"><div><span>Introduction</span></div></a></li>
<li><a href="#prerequisites"><div><span>Prerequisites</span></div></a></li>
<li><a href="#creating-an-action-metadata-file"><div><span>Creating an action metadata file</span></div></a></li>
<li><a href="#adding-actions-toolkit-packages"><div><span>Adding actions toolkit packages</span></div></a></li>
<li><a href="#writing-the-action-code"><div><span>Writing the action code</span></div></a></li>
<li><a href="#creating-a-readme"><div><span>Creating a README</span></div></a></li>
<li><a href="#commit-tag-and-push-your-action"><div><span>Commit, tag, and push your action</span></div></a></li>
<li><a href="#testing-out-your-action-in-a-workflow"><div><span>Testing out your action in a workflow</span></div></a></li>
<li><a href="#template-repositories-for-creating-javascript-actions"><div><span>Template repositories for creating JavaScript actions</span></div></a></li>
<li><a href="#example-javascript-actions-on-githubcom"><div><span>Example JavaScript actions on GitHub.com</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<h2><a href="#introduction">Introduction</a></h2>
<p>In this guide, you'll learn about the basic components needed to create and use a packaged JavaScript action. To focus this guide on the components needed to package the action, the functionality of the action's code is minimal. The action prints "Hello World" in the logs or "Hello [who-to-greet]" if you provide a custom name.</p>
<p>This guide uses the GitHub Actions Toolkit Node.js module to speed up development. For more information, see the <a href="https://github.com/actions/toolkit">actions/toolkit</a> repository.</p>
<p>Once you complete this project, you should understand how to build your own JavaScript action and test it in a workflow.</p>
<p>To ensure your JavaScript actions are compatible with all GitHub-hosted runners (Ubuntu, Windows, and macOS), the packaged JavaScript code you write should be pure JavaScript and not rely on other binaries. JavaScript actions run directly on the runner and use binaries that already exist in the runner image.</p>
<div>
<p>
When creating workflows and actions, you should always consider whether your code might execute untrusted input from possible attackers. Certain contexts should be treated as untrusted input, as an attacker could insert their own malicious content. For more information, see <a href="/en/actions/security-guides/security-hardening-for-github-actions#understanding-the-risk-of-script-injections">Security hardening for GitHub Actions</a>.</p>
</div>
<h2><a href="#prerequisites">Prerequisites</a></h2>
<p>Before you begin, you'll need to download Node.js and create a public GitHub repository.</p>
<ol>
<li>
<p>Download and install Node.js 20.x, which includes npm.</p>
<p><a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a></p>
</li>
<li>
<p>Create a new public repository on GitHub and call it "hello-world-javascript-action". For more information, see <a href="/en/repositories/creating-and-managing-repositories/creating-a-new-repository">Creating a new repository</a>.</p>
</li>
<li>
<p>Clone your repository to your computer. For more information, see <a href="/en/repositories/creating-and-managing-repositories/cloning-a-repository">Cloning a repository</a>.</p>
</li>
<li>
<p>From your terminal, change directories into your new repository.</p>
<div>
<header><span>Shell</span><pre>cd hello-world-javascript-action
</pre></header><pre><code>cd hello-world-javascript-action
</code></pre>
</div>
</li>
<li>
<p>From your terminal, initialize the directory with npm to generate a <code>package.json</code> file.</p>
<div>
<header><span>Shell</span><pre>npm init -y
</pre></header><pre><code>npm init -y
</code></pre>
</div>
</li>
</ol>
<h2><a href="#creating-an-action-metadata-file">Creating an action metadata file</a></h2>
<p>Create a new file named <code>action.yml</code> in the <code>hello-world-javascript-action</code> directory with the following example code. For more information, see <a href="/en/actions/creating-actions/metadata-syntax-for-github-actions">Metadata syntax for GitHub Actions</a>.</p>
<div>
<header><span>YAML</span><pre>name: 'Hello World'
description: 'Greet someone and record the time'
inputs:
  who-to-greet:  # id of input
    description: 'Who to greet'
    required: true
    default: 'World'
outputs:
  time: # id of output
    description: 'The time we greeted you'
runs:
  using: 'node20'
  main: 'index.js'
</pre></header><pre><code><span>name:</span> <span>'Hello World'</span>
<span>description:</span> <span>'Greet someone and record the time'</span>
<span>inputs:</span>
  <span>who-to-greet:</span>  <span># id of input</span>
    <span>description:</span> <span>'Who to greet'</span>
    <span>required:</span> <span>true</span>
    <span>default:</span> <span>'World'</span>
<span>outputs:</span>
  <span>time:</span> <span># id of output</span>
    <span>description:</span> <span>'The time we greeted you'</span>
<span>runs:</span>
  <span>using:</span> <span>'node20'</span>
  <span>main:</span> <span>'index.js'</span>
</code></pre>
</div>
<p>This file defines the <code>who-to-greet</code> input and <code>time</code> output. It also tells the action runner how to start running this JavaScript action.</p>
<h2><a href="#adding-actions-toolkit-packages">Adding actions toolkit packages</a></h2>
<p>The actions toolkit is a collection of Node.js packages that allow you to quickly build JavaScript actions with more consistency.</p>
<p>The toolkit <a href="https://github.com/actions/toolkit/tree/main/packages/core"><code>@actions/core</code></a> package provides an interface to the workflow commands, input and output variables, exit statuses, and debug messages.</p>
<p>The toolkit also offers a <a href="https://github.com/actions/toolkit/tree/main/packages/github"><code>@actions/github</code></a> package that returns an authenticated Octokit REST client and access to GitHub Actions contexts.</p>
<p>The toolkit offers more than the <code>core</code> and <code>github</code> packages. For more information, see the <a href="https://github.com/actions/toolkit">actions/toolkit</a> repository.</p>
<p>At your terminal, install the actions toolkit <code>core</code> and <code>github</code> packages.</p>
<div>
<header><span>Shell</span><pre>npm install @actions/core
npm install @actions/github
</pre></header><pre><code>npm install @actions/core
npm install @actions/github
</code></pre>
</div>
<p>Now you should see a <code>node_modules</code> directory with the modules you just installed and a <code>package-lock.json</code> file with the installed module dependencies and the versions of each installed module.</p>
<h2><a href="#writing-the-action-code">Writing the action code</a></h2>
<p>This action uses the toolkit to get the <code>who-to-greet</code> input variable required in the action's metadata file and prints "Hello [who-to-greet]" in a debug message in the log. Next, the script gets the current time and sets it as an output variable that actions running later in a job can use.</p>
<p>GitHub Actions provide context information about the webhook event, Git refs, workflow, action, and the person who triggered the workflow. To access the context information, you can use the <code>github</code> package. The action you'll write will print the webhook event payload to the log.</p>
<p>Add a new file called <code>index.js</code>, with the following code.</p>
<div>
<header><span>JavaScript</span><pre>const core = require('@actions/core');
const github = require('@actions/github');

try {
  // `who-to-greet` input defined in action metadata file
  const nameToGreet = core.getInput('who-to-greet');
  console.log(`Hello ${nameToGreet}!`);
  const time = (new Date()).toTimeString();
  core.setOutput("time", time);
  // Get the JSON webhook payload for the event that triggered the workflow
  const payload = JSON.stringify(github.context.payload, undefined, 2)
  console.log(`The event payload: ${payload}`);
} catch (error) {
  core.setFailed(error.message);
}
</pre></header><pre><code><span>const</span> core = <span>require</span>(<span>'@actions/core'</span>);
<span>const</span> github = <span>require</span>(<span>'@actions/github'</span>);

<span>try</span> {
  <span>// `who-to-greet` input defined in action metadata file</span>
  <span>const</span> nameToGreet = core.<span>getInput</span>(<span>'who-to-greet'</span>);
  <span>console</span>.<span>log</span>(<span>`Hello <span>${nameToGreet}</span>!`</span>);
  <span>const</span> time = (<span>new</span> <span>Date</span>()).<span>toTimeString</span>();
  core.<span>setOutput</span>(<span>"time"</span>, time);
  <span>// Get the JSON webhook payload for the event that triggered the workflow</span>
  <span>const</span> payload = <span>JSON</span>.<span>stringify</span>(github.<span>context</span>.<span>payload</span>, <span>undefined</span>, <span>2</span>)
  <span>console</span>.<span>log</span>(<span>`The event payload: <span>${payload}</span>`</span>);
} <span>catch</span> (error) {
  core.<span>setFailed</span>(error.<span>message</span>);
}
</code></pre>
</div>
<p>If an error is thrown in the above <code>index.js</code> example, <code>core.setFailed(error.message);</code> uses the actions toolkit <a href="https://github.com/actions/toolkit/tree/main/packages/core"><code>@actions/core</code></a> package to log a message and set a failing exit code. For more information, see <a href="/en/actions/creating-actions/setting-exit-codes-for-actions">Setting exit codes for actions</a>.</p>
<h2><a href="#creating-a-readme">Creating a README</a></h2>
<p>To let people know how to use your action, you can create a README file. A README is most helpful when you plan to share your action publicly, but is also a great way to remind you or your team how to use the action.</p>
<p>In your <code>hello-world-javascript-action</code> directory, create a <code>README.md</code> file that specifies the following information:</p>
<ul>
<li>A detailed description of what the action does.</li>
<li>Required input and output arguments.</li>
<li>Optional input and output arguments.</li>
<li>Secrets the action uses.</li>
<li>Environment variables the action uses.</li>
<li>An example of how to use your action in a workflow.</li>
</ul>
<div>
<header><span>Markdown</span><pre># Hello world javascript action

This action prints "Hello World" or "Hello" + the name of a person to greet to the log.

## Inputs

### `who-to-greet`

**Required** The name of the person to greet. Default `"World"`.

## Outputs

### `time`

The time we greeted you.

## Example usage

```yaml
uses: actions/hello-world-javascript-action@e76147da8e5c81eaf017dede5645551d4b94427b
with:
  who-to-greet: 'Mona the Octocat'
```
</pre></header><pre><code><span># Hello world javascript action</span>

This action prints "Hello World" or "Hello" + the name of a person to greet to the log.

<span>## Inputs</span>

<span>### `who-to-greet`</span>

<span>**Required**</span> The name of the person to greet. Default <span>`"World"`</span>.

<span>## Outputs</span>

<span>### `time`</span>

The time we greeted you.

<span>## Example usage</span>

<span>```yaml
uses: actions/hello-world-javascript-action@e76147da8e5c81eaf017dede5645551d4b94427b
with:
  who-to-greet: 'Mona the Octocat'
```</span>
</code></pre>
</div>
<h2><a href="#commit-tag-and-push-your-action">Commit, tag, and push your action</a></h2>
<p>GitHub downloads each action run in a workflow during runtime and executes it as a complete package of code before you can use workflow commands like <code>run</code> to interact with the runner machine. This means you must include any package dependencies required to run the JavaScript code. You'll need to check in the toolkit <code>core</code> and <code>github</code> packages to your action's repository.</p>
<p>From your terminal, commit your <code>action.yml</code>, <code>index.js</code>, <code>node_modules</code>, <code>package.json</code>, <code>package-lock.json</code>, and <code>README.md</code> files. If you added a <code>.gitignore</code> file that lists <code>node_modules</code>, you'll need to remove that line to commit the <code>node_modules</code> directory.</p>
<p>It's best practice to also add a version tag for releases of your action. For more information on versioning your action, see <a href="/en/actions/creating-actions/about-custom-actions#using-release-management-for-actions">About custom actions</a>.</p>
<div>
<header><span>Shell</span><pre>git add action.yml index.js node_modules/* package.json package-lock.json README.md
git commit -m "My first action is ready"
git tag -a -m "My first action release" v1.1
git push --follow-tags
</pre></header><pre><code>git add action.yml index.js node_modules/* package.json package-lock.json README.md
git commit -m "My first action is ready"
git tag -a -m "My first action release" v1.1
git push --follow-tags
</code></pre>
</div>
<p>Checking in your <code>node_modules</code> directory can cause problems. As an alternative, you can use a tool called <a href="https://github.com/vercel/ncc"><code>@vercel/ncc</code></a> to compile your code and modules into one file used for distribution.</p>
<ol>
<li>
<p>Install <code>vercel/ncc</code> by running this command in your terminal.</p>
<p><code>npm i -g @vercel/ncc</code></p>
</li>
<li>
<p>Compile your <code>index.js</code> file.</p>
<p><code>ncc build index.js --license licenses.txt</code></p>
<p>You'll see a new <code>dist/index.js</code> file with your code and the compiled modules. You will also see an accompanying <code>dist/licenses.txt</code> file containing all the licenses of the <code>node_modules</code> you are using.</p>
</li>
<li>
<p>Change the <code>main</code> keyword in your <code>action.yml</code> file to use the new <code>dist/index.js</code> file.</p>
<p><code>main: 'dist/index.js'</code></p>
</li>
<li>
<p>If you already checked in your <code>node_modules</code> directory, remove it.</p>
<p><code>rm -rf node_modules/*</code></p>
</li>
<li>
<p>From your terminal, commit the updates to your <code>action.yml</code>, <code>dist/index.js</code>, and <code>node_modules</code> files.</p>
<div>
<header><span>Shell</span><pre>git add action.yml dist/index.js node_modules/*
git commit -m "Use vercel/ncc"
git tag -a -m "My first action release" v1.1
git push --follow-tags
</pre></header><pre><code>git add action.yml dist/index.js node_modules/*
git commit -m "Use vercel/ncc"
git tag -a -m "My first action release" v1.1
git push --follow-tags
</code></pre>
</div>
</li>
</ol>
<h2><a href="#testing-out-your-action-in-a-workflow">Testing out your action in a workflow</a></h2>
<p>Now you're ready to test your action out in a workflow.</p>
<p>Public actions can be used by workflows in any repository. When an action is in a private repository, the repository settings dictate whether the action is available only within the same repository or also to other repositories owned by the same user or organization. For more information, see <a href="/en/repositories/managing-your-repositorys-settings-and-features/enabling-features-for-your-repository/managing-github-actions-settings-for-a-repository">Managing GitHub Actions settings for a repository</a>.</p>
<h3><a href="#example-using-a-public-action">Example using a public action</a></h3>
<p>This example demonstrates how your new public action can be run from within an external repository.</p>
<p>Copy the following YAML into a new file at <code>.github/workflows/main.yml</code>, and update the <code>uses: octocat/hello-world-javascript-action@1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b</code> line with your username and the name of the public repository you created above. You can also replace the <code>who-to-greet</code> input with your name.</p>
<div>
<header><span>YAML</span><pre>on: [push]

jobs:
  hello_world_job:
    runs-on: ubuntu-latest
    name: A job to say hello
    steps:
      - name: Hello world action step
        id: hello
        uses: octocat/hello-world-javascript-action@1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b
        with:
          who-to-greet: 'Mona the Octocat'
      # Use the output from the `hello` step
      - name: Get the output time
        run: echo "The time was ${{ steps.hello.outputs.time }}"
</pre></header><pre><code><span>on:</span> [<span>push</span>]

<span>jobs:</span>
  <span>hello_world_job:</span>
    <span>runs-on:</span> <span>ubuntu-latest</span>
    <span>name:</span> <span>A</span> <span>job</span> <span>to</span> <span>say</span> <span>hello</span>
    <span>steps:</span>
      <span>-</span> <span>name:</span> <span>Hello</span> <span>world</span> <span>action</span> <span>step</span>
        <span>id:</span> <span>hello</span>
        <span>uses:</span> <span>octocat/hello-world-javascript-action@1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b</span>
        <span>with:</span>
          <span>who-to-greet:</span> <span>'Mona the Octocat'</span>
      <span># Use the output from the `hello` step</span>
      <span>-</span> <span>name:</span> <span>Get</span> <span>the</span> <span>output</span> <span>time</span>
        <span>run:</span> <span>echo</span> <span>"The time was $<span>{{ steps.hello.outputs.time }}</span>"</span>
</code></pre>
</div>
<p>When this workflow is triggered, the runner will download the <code>hello-world-javascript-action</code> action from your public repository and then execute it.</p>
<h3><a href="#example-using-a-private-action">Example using a private action</a></h3>
<p>Copy the workflow code into a <code>.github/workflows/main.yml</code> file in your action's repository. You can also replace the <code>who-to-greet</code> input with your name.</p>
<p><strong>.github/workflows/main.yml</strong></p>
<div>
<header><span>YAML</span><pre>on: [push]

jobs:
  hello_world_job:
    runs-on: ubuntu-latest
    name: A job to say hello
    steps:
      # To use this repository's private action,
      # you must check out the repository
      - name: Checkout
        uses: actions/checkout@v4
      - name: Hello world action step
        uses: ./ # Uses an action in the root directory
        id: hello
        with:
          who-to-greet: 'Mona the Octocat'
      # Use the output from the `hello` step
      - name: Get the output time
        run: echo "The time was ${{ steps.hello.outputs.time }}"
</pre></header><pre><code><span>on:</span> [<span>push</span>]

<span>jobs:</span>
  <span>hello_world_job:</span>
    <span>runs-on:</span> <span>ubuntu-latest</span>
    <span>name:</span> <span>A</span> <span>job</span> <span>to</span> <span>say</span> <span>hello</span>
    <span>steps:</span>
      <span># To use this repository's private action,</span>
      <span># you must check out the repository</span>
      <span>-</span> <span>name:</span> <span>Checkout</span>
        <span>uses:</span> <span>actions/checkout@v4</span>
      <span>-</span> <span>name:</span> <span>Hello</span> <span>world</span> <span>action</span> <span>step</span>
        <span>uses:</span> <span>./</span> <span># Uses an action in the root directory</span>
        <span>id:</span> <span>hello</span>
        <span>with:</span>
          <span>who-to-greet:</span> <span>'Mona the Octocat'</span>
      <span># Use the output from the `hello` step</span>
      <span>-</span> <span>name:</span> <span>Get</span> <span>the</span> <span>output</span> <span>time</span>
        <span>run:</span> <span>echo</span> <span>"The time was $<span>{{ steps.hello.outputs.time }}</span>"</span>
</code></pre>
</div>
<p>From your repository, click the <strong>Actions</strong> tab, and select the latest workflow run. Under <strong>Jobs</strong> or in the visualization graph, click <strong>A job to say hello</strong>.</p>
<p>Click <strong>Hello world action step</strong>, and you should see "Hello Mona the Octocat" or the name you used for the <code>who-to-greet</code> input printed in the log. To see the timestamp, click <strong>Get the output time</strong>.</p>
<h2><a href="#template-repositories-for-creating-javascript-actions">Template repositories for creating JavaScript actions</a></h2>
<p>GitHub provides template repositories for creating JavaScript and TypeScript actions. You can use these templates to quickly get started with creating a new action that includes tests, linting, and other recommended practices.</p>
<ul>
<li><a href="https://github.com/actions/javascript-action"><code>javascript-action</code> template repository</a></li>
<li><a href="https://github.com/actions/typescript-action"><code>typescript-action</code> template repository</a></li>
</ul>
<h2><a href="#example-javascript-actions-on-githubcom">Example JavaScript actions on GitHub.com</a></h2>
<p>You can find many examples of JavaScript actions on GitHub.com.</p>
<ul>
<li><a href="https://github.com/DevExpress/testcafe-action">DevExpress/testcafe-action</a></li>
<li><a href="https://github.com/duckduckgo/privacy-configuration">duckduckgo/privacy-configuration</a></li>
</ul>
</div></div></div>
</div>
</div></main>
</div></body></html>