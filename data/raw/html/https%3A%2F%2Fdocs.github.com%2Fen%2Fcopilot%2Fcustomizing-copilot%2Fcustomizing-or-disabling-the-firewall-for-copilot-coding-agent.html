<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="GitHub Copilot" href="/en/copilot">GitHub Copilot</a><span>/</span>
</li>
<li>
<a title="Customize Copilot" href="/en/copilot/customizing-copilot">Customize Copilot</a><span>/</span>
</li>
<li><a title="Customize the agent firewall" href="/en/copilot/customizing-copilot/customizing-or-disabling-the-firewall-for-copilot-coding-agent">Customize the agent firewall</a></li>
</ul></nav></div>
<div>
<div><div><h1>Customizing or disabling the firewall for Copilot coding agent</h1></div></div>
<div><div><p>Learn how to control the domains and URLs that Copilot coding agent can access.</p></div></div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#overview"><div><span>Overview</span></div></a></li>
<li><a href="#allowlisting-additional-hosts-in-the-agents-firewall"><div><span>Allowlisting additional hosts in the agent's firewall</span></div></a></li>
<li><a href="#overwriting-the-firewall-allowlist"><div><span>Overwriting the firewall allowlist</span></div></a></li>
<li><a href="#further-reading"><div><span>Further reading</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<div>
<p>
Copilot coding agent is in public preview and subject to change.</p>
<p>For more information about Copilot coding agent, see <a href="/en/copilot/using-github-copilot/coding-agent/about-assigning-tasks-to-copilot">About assigning tasks to Copilot</a>.</p>
</div>
<h2><a href="#overview">Overview</a></h2>
<p>By default, Copilot's access to the internet is limited by a firewall.</p>
<p>Limiting access to the internet helps to manage data exfiltration risks, where surprising behavior from Copilot, or malicious instructions given to it, could lead to code or other sensitive information being leaked to remote locations.</p>
<p>The default firewall rules allow access to a number of hosts that Copilot uses to interact with GitHub or to download dependencies.</p>
<p>If Copilot tries to make a request which is blocked by the firewall, a warning is added to the pull request body (if Copilot is creating a pull request for the first time) or to a comment (if Copilot is responding to a pull request comment). The warning shows the blocked address and the command that tried to make the request.</p>
<p><picture><source><img src="/assets/cb-121588/images/help/copilot/coding-agent/firewall-warning.png" alt="Screenshot of a warning from Copilot about being blocked by the firewall." width="720" height="306"></source></picture></p>
<h2><a href="#allowlisting-additional-hosts-in-the-agents-firewall">Allowlisting additional hosts in the agent's firewall</a></h2>
<p>You can allowlist additional addresses in the agent's firewall by setting the <code>COPILOT_AGENT_FIREWALL_ALLOW_LIST_ADDITIONS</code> GitHub Actions variable to a comma-separated list. In that list, you can include:</p>
<ul>
<li>
<p><strong>Domains</strong> (for example, <code>packages.contoso.corp</code>), in which case traffic will be allowed to that domain and any subdomains.</p>
<p><strong>Example</strong>: <code>packages.contoso.corp</code> would allow traffic to <code>packages.contoso.corp</code> and <code>prod.packages.contoso.corp</code>, but not <code>artifacts.contoso.corp</code>.</p>
</li>
<li>
<p><strong>URLs</strong> (for example, <code>https://packages.contoso.corp/project-1/</code>), in which case traffic will only be allowed on the specified scheme (<code>https</code>) and host (<code>packages.contoso.corp</code>), and limited to the specified path and descendant paths.</p>
<p><strong>Example</strong>: <code>https://packages.contoso.corp/project-1/</code> would allow traffic to <code>https://packages.contoso.corp/project-1/</code> and <code>https://packages.contoso.corp/project-1/tags/latest</code>, but not <code>https://packages.consoto.corp/project-2</code>, <code>ftp://packages.contoso.corp</code> or <code>https://artifacts.contoso.corp</code>.</p>
</li>
</ul>
<h2><a href="#overwriting-the-firewall-allowlist">Overwriting the firewall allowlist</a></h2>
<p>By default, the firewall allows access to a number of hosts that are commonly used to download dependencies or that Copilot uses to interact with GitHub.</p>
<p>To completely clear this default allowlist and start again from scratch, set the <code>COPILOT_AGENT_FIREWALL_ALLOW_LIST</code> GitHub Actions variable to a comma-separated list of hosts.</p>
<p>For example, to <em>only</em> allow access to <code>packages.contoso.corp</code> and <code>artifacts.contoso.corp</code>, set the <code>COPILOT_AGENT_FIREWALL_ALLOW_LIST</code> variable to <code>packages.contoso.corp,artifacts.contoso.corp</code>.</p>
<h3><a href="#disabling-the-firewall">Disabling the firewall</a></h3>
<div>
<p>
Disabling the firewall will allow Copilot to connect to any host, increasing risks of exfiltration of code or other sensitive information.</p>
</div>
<p>The firewall is enabled by default. To disable the firewall, set the <code>COPILOT_AGENT_FIREWALL_ENABLED</code> GitHub Actions variable to <code>false</code>.</p>
<h2><a href="#further-reading">Further reading</a></h2>
<ul>
<li><a href="/en/actions/writing-workflows/choosing-what-your-workflow-does/store-information-in-variables#creating-configuration-variables-for-a-repository">Store information in variables</a></li>
<li><a href="/en/copilot/customizing-copilot/customizing-the-development-environment-for-copilot-coding-agent">Customizing the development environment for Copilot coding agent</a></li>
</ul>
</div></div></div>
</div>
</div></main>
</div></body></html>