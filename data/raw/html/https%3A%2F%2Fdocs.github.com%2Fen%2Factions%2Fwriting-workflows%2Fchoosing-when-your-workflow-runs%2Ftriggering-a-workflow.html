<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="GitHub Actions" href="/en/actions">GitHub Actions</a><span>/</span>
</li>
<li>
<a title="Write workflows" href="/en/actions/writing-workflows">Write workflows</a><span>/</span>
</li>
<li>
<a title="Choose when workflows run" href="/en/actions/writing-workflows/choosing-when-your-workflow-runs">Choose when workflows run</a><span>/</span>
</li>
<li><a title="Trigger a workflow" href="/en/actions/writing-workflows/choosing-when-your-workflow-runs/triggering-a-workflow">Trigger a workflow</a></li>
</ul></nav></div>
<div>
<div><div><h1>Triggering a workflow</h1></div></div>
<div><div><p>How to automatically trigger GitHub Actions workflows</p></div></div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#about-workflow-triggers"><div><span>About workflow triggers</span></div></a></li>
<li><a href="#using-events-to-trigger-workflows"><div><span>Using events to trigger workflows</span></div></a></li>
<li><a href="#using-event-activity-types"><div><span>Using event activity types</span></div></a></li>
<li><a href="#using-filters"><div><span>Using filters</span></div></a></li>
<li><a href="#defining-inputs-for-manually-triggered-workflows"><div><span>Defining inputs for manually triggered workflows</span></div></a></li>
<li><a href="#defining-inputs-outputs-and-secrets-for-reusable-workflows"><div><span>Defining inputs, outputs, and secrets for reusable workflows</span></div></a></li>
<li><a href="#using-event-information"><div><span>Using event information</span></div></a></li>
<li><a href="#further-controlling-how-your-workflow-will-run"><div><span>Further controlling how your workflow will run</span></div></a></li>
<li><a href="#available-events"><div><span>Available events</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<h2><a href="#about-workflow-triggers">About workflow triggers</a></h2>
<p>Workflow triggers are events that cause a workflow to run. These events can be:</p>
<ul>
<li>Events that occur in your workflow's repository</li>
<li>Events that occur outside of GitHub and trigger a <code>repository_dispatch</code> event on GitHub</li>
<li>Scheduled times</li>
<li>Manual</li>
</ul>
<p>For example, you can configure your workflow to run when a push is made to the default branch of your repository, when a release is created, or when an issue is opened.</p>
<p>Workflow triggers are defined with the <code>on</code> key. For more information, see <a href="/en/actions/using-workflows/workflow-syntax-for-github-actions#on">Workflow syntax for GitHub Actions</a>.</p>
<p>The following steps occur to trigger a workflow run:</p>
<ol>
<li>
<p>An event occurs on your repository. The event has an associated commit SHA and Git ref.</p>
</li>
<li>
<p>GitHub searches the <code>.github/workflows</code> directory in the root of your repository for workflow files that are present in the associated commit SHA or Git ref of the event.</p>
</li>
<li>
<p>A workflow run is triggered for any workflows that have <code>on:</code> values that match the triggering event. Some events also require the workflow file to be present on the default branch of the repository in order to run.</p>
<p>Each workflow run will use the version of the workflow that is present in the associated commit SHA or Git ref of the event. When a workflow runs, GitHub sets the <code>GITHUB_SHA</code> (commit SHA) and <code>GITHUB_REF</code> (Git ref) environment variables in the runner environment. For more information, see <a href="/en/actions/learn-github-actions/variables">Store information in variables</a>.</p>
</li>
</ol>
<h3><a href="#triggering-a-workflow-from-a-workflow">Triggering a workflow from a workflow</a></h3>
<p>When you use the repository's <code>GITHUB_TOKEN</code> to perform tasks, events triggered by the <code>GITHUB_TOKEN</code>, with the exception of <code>workflow_dispatch</code> and <code>repository_dispatch</code>, will not create a new workflow run. This prevents you from accidentally creating recursive workflow runs. For example, if a workflow run pushes code using the repository's <code>GITHUB_TOKEN</code>, a new workflow will not run even when the repository contains a workflow configured to run when <code>push</code> events occur. For more information, see <a href="/en/actions/security-guides/automatic-token-authentication">Automatic token authentication</a>.</p>
<p>If you do want to trigger a workflow from within a workflow run, you can use a GitHub App installation access token or a personal access token instead of <code>GITHUB_TOKEN</code> to trigger events that require a token.</p>
<p>If you use a GitHub App, you'll need to create a GitHub App and store the app ID and private key as secrets. For more information, see <a href="/en/apps/creating-github-apps/guides/making-authenticated-api-requests-with-a-github-app-in-a-github-actions-workflow">Making authenticated API requests with a GitHub App in a GitHub Actions workflow</a>. If you use a personal access token, you'll need to create a personal access token and store it as a secret. For more information about creating a personal access token, see <a href="/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token">Managing your personal access tokens</a>. For more information about storing secrets, see <a href="/en/actions/security-guides/using-secrets-in-github-actions">Using secrets in GitHub Actions</a>.</p>
<p>To minimize your GitHub Actions usage costs, ensure that you don't create recursive or unintended workflow runs.</p>
<p>For example, the following workflow uses a personal access token (stored as a secret called <code>MY_TOKEN</code>) to add a label to an issue via GitHub CLI. Any workflows that run when a label is added will run once this step is performed.</p>
<pre><code><span>on:</span>
  <span>issues:</span>
    <span>types:</span>
      <span>-</span> <span>opened</span>

<span>jobs:</span>
  <span>label_issue:</span>
    <span>runs-on:</span> <span>ubuntu-latest</span>
    <span>steps:</span>
      <span>-</span> <span>env:</span>
          <span>GH_TOKEN:</span> <span>${{</span> <span>secrets.MY_TOKEN</span> <span>}}</span>
          <span>ISSUE_URL:</span> <span>${{</span> <span>github.event.issue.html_url</span> <span>}}</span>
        <span>run:</span> <span>|
          gh issue edit $ISSUE_URL --add-label "triage"
</span></code></pre>
<p>Conversely, the following workflow uses <code>GITHUB_TOKEN</code> to add a label to an issue. It will not trigger any workflows that run when a label is added.</p>
<pre><code><span>on:</span>
  <span>issues:</span>
    <span>types:</span>
      <span>-</span> <span>opened</span>

<span>jobs:</span>
  <span>label_issue:</span>
    <span>runs-on:</span> <span>ubuntu-latest</span>
    <span>steps:</span>
      <span>-</span> <span>env:</span>
          <span>GH_TOKEN:</span> <span>${{</span> <span>secrets.GITHUB_TOKEN</span> <span>}}</span>
          <span>ISSUE_URL:</span> <span>${{</span> <span>github.event.issue.html_url</span> <span>}}</span>
        <span>run:</span> <span>|
          gh issue edit $ISSUE_URL --add-label "triage"
</span></code></pre>
<h2><a href="#using-events-to-trigger-workflows">Using events to trigger workflows</a></h2>
<p>Use the <code>on</code> key to specify what events trigger your workflow. For more information about events you can use, see <a href="/en/actions/using-workflows/events-that-trigger-workflows">Events that trigger workflows</a>.</p>
<h3><a href="#using-a-single-event">Using a single event</a></h3>
<p>For example, a workflow with the following <code>on</code> value will run when a push is made to any branch in the workflow's repository:</p>
<pre><code><span>on:</span> <span>push</span>
</code></pre>
<h3><a href="#using-multiple-events">Using multiple events</a></h3>
<p>You can specify a single event or multiple events. For example, a workflow with the following <code>on</code> value will run when a push is made to any branch in the repository or when someone forks the repository:</p>
<pre><code><span>on:</span> [<span>push</span>, <span>fork</span>]
</code></pre>
<p>If you specify multiple events, only one of those events needs to occur to trigger your workflow. If multiple triggering events for your workflow occur at the same time, multiple workflow runs will be triggered.</p>
<h3><a href="#using-activity-types-and-filters-with-multiple-events">Using activity types and filters with multiple events</a></h3>
<p>You can use activity types and filters to further control when your workflow will run. For more information, see <a href="#using-event-activity-types">Using event activity types</a> and <a href="#using-filters">Using filters</a>. If you specify activity types or filters for an event and your workflow triggers on multiple events, you must configure each event separately. You must append a colon (<code>:</code>) to all events, including events without configuration.</p>
<p>For example, a workflow with the following <code>on</code> value will run when:</p>
<ul>
<li>A label is created</li>
<li>A push is made to the <code>main</code> branch in the repository</li>
<li>A push is made to a GitHub Pages-enabled branch</li>
</ul>
<pre><code><span>on:</span>
  <span>label:</span>
    <span>types:</span>
      <span>-</span> <span>created</span>
  <span>push:</span>
    <span>branches:</span>
      <span>-</span> <span>main</span>
  <span>page_build:</span>
</code></pre>
<h2><a href="#using-event-activity-types">Using event activity types</a></h2>
<p>Some events have activity types that give you more control over when your workflow should run. Use <code>on.&lt;event_name&gt;.types</code> to define the type of event activity that will trigger a workflow run.</p>
<p>For example, the <code>issue_comment</code> event has the <code>created</code>, <code>edited</code>, and <code>deleted</code> activity types. If your workflow triggers on the <code>label</code> event, it will run whenever a label is created, edited, or deleted. If you specify the <code>created</code> activity type for the <code>label</code> event, your workflow will run when a label is created but not when a label is edited or deleted.</p>
<pre><code><span>on:</span>
  <span>label:</span>
    <span>types:</span>
      <span>-</span> <span>created</span>
</code></pre>
<p>If you specify multiple activity types, only one of those event activity types needs to occur to trigger your workflow. If multiple triggering event activity types for your workflow occur at the same time, multiple workflow runs will be triggered. For example, the following workflow triggers when an issue is opened or labeled. If an issue with two labels is opened, three workflow runs will start: one for the issue opened event and two for the two issue labeled events.</p>
<pre><code><span>on:</span>
  <span>issues:</span>
    <span>types:</span>
      <span>-</span> <span>opened</span>
      <span>-</span> <span>labeled</span>
</code></pre>
<p>For more information about each event and their activity types, see <a href="/en/actions/using-workflows/events-that-trigger-workflows">Events that trigger workflows</a>.</p>
<h2><a href="#using-filters">Using filters</a></h2>
<p>Some events have filters that give you more control over when your workflow should run.</p>
<p>For example, the <code>push</code> event has a <code>branches</code> filter that causes your workflow to run only when a push to a branch that matches the <code>branches</code> filter occurs, instead of when any push occurs.</p>
<pre><code><span>on:</span>
  <span>push:</span>
    <span>branches:</span>
      <span>-</span> <span>main</span>
      <span>-</span> <span>'releases/**'</span>
</code></pre>
<h3><a href="#using-filters-to-target-specific-branches-for-pull-request-events">Using filters to target specific branches for pull request events</a></h3>
<p>When using the <code>pull_request</code> and <code>pull_request_target</code> events, you can configure a workflow to run only for pull requests that target specific branches.</p>
<p>Use the <code>branches</code> filter when you want to include branch name patterns or when you want to both include and exclude branch names patterns. Use the <code>branches-ignore</code> filter when you only want to exclude branch name patterns. You cannot use both the <code>branches</code> and <code>branches-ignore</code> filters for the same event in a workflow.</p>
<p>If you define both <code>branches</code>/<code>branches-ignore</code> and <a href="/en/actions/using-workflows/workflow-syntax-for-github-actions#onpushpull_requestpull_request_targetpathspaths-ignore"><code>paths</code>/<code>paths-ignore</code></a>, the workflow will only run when both filters are satisfied.</p>
<p>The <code>branches</code> and <code>branches-ignore</code> keywords accept glob patterns that use characters like <code>*</code>, <code>**</code>, <code>+</code>, <code>?</code>, <code>!</code> and others to match more than one branch name. If a name contains any of these characters and you want a literal match, you need to escape each of these special characters with <code>\</code>. For more information about glob patterns, see the <a href="/en/actions/using-workflows/workflow-syntax-for-github-actions#filter-pattern-cheat-sheet">Workflow syntax for GitHub Actions</a>.</p>
<h4><a href="#example-including-branches">Example: Including branches</a></h4>
<p>The patterns defined in <code>branches</code> are evaluated against the Git ref's name. For example, the following workflow would run whenever there is a <code>pull_request</code> event for a pull request targeting:</p>
<ul>
<li>A branch named <code>main</code> (<code>refs/heads/main</code>)</li>
<li>A branch named <code>mona/octocat</code> (<code>refs/heads/mona/octocat</code>)</li>
<li>A branch whose name starts with <code>releases/</code>, like <code>releases/10</code> (<code>refs/heads/releases/10</code>)</li>
</ul>
<pre><code><span>on:</span>
  <span>pull_request:</span>
    <span># Sequence of patterns matched against refs/heads</span>
    <span>branches:</span>
      <span>-</span> <span>main</span>
      <span>-</span> <span>'mona/octocat'</span>
      <span>-</span> <span>'releases/**'</span>
</code></pre>
<p>If a workflow is skipped due to branch filtering, <a href="/en/actions/using-workflows/workflow-syntax-for-github-actions#onpushpull_requestpull_request_targetpathspaths-ignore">path filtering</a>, or a <a href="/en/actions/managing-workflow-runs/skipping-workflow-runs">commit message</a>, then checks associated with that workflow will remain in a "Pending" state. A pull request that requires those checks to be successful will be blocked from merging.</p>
<h4><a href="#example-excluding-branches">Example: Excluding branches</a></h4>
<p>When a pattern matches the <code>branches-ignore</code> pattern, the workflow will not run. The patterns defined in <code>branches-ignore</code> are evaluated against the Git ref's name. For example, the following workflow would run whenever there is a <code>pull_request</code> event unless the pull request is targeting:</p>
<ul>
<li>A branch named <code>mona/octocat</code> (<code>refs/heads/mona/octocat</code>)</li>
<li>A branch whose name matches <code>releases/**-alpha</code>, like <code>releases/beta/3-alpha</code> (<code>refs/heads/releases/beta/3-alpha</code>)</li>
</ul>
<pre><code><span>on:</span>
  <span>pull_request:</span>
    <span># Sequence of patterns matched against refs/heads</span>
    <span>branches-ignore:</span>
      <span>-</span> <span>'mona/octocat'</span>
      <span>-</span> <span>'releases/**-alpha'</span>
</code></pre>
<h4><a href="#example-including-and-excluding-branches">Example: Including and excluding branches</a></h4>
<p>You cannot use <code>branches</code> and <code>branches-ignore</code> to filter the same event in a single workflow. If you want to both include and exclude branch patterns for a single event, use the <code>branches</code> filter along with the <code>!</code> character to indicate which branches should be excluded.</p>
<p>If you define a branch with the <code>!</code> character, you must also define at least one branch without the <code>!</code> character. If you only want to exclude branches, use <code>branches-ignore</code> instead.</p>
<p>The order that you define patterns matters.</p>
<ul>
<li>A matching negative pattern (prefixed with <code>!</code>) after a positive match will exclude the Git ref.</li>
<li>A matching positive pattern after a negative match will include the Git ref again.</li>
</ul>
<p>The following workflow will run on <code>pull_request</code> events for pull requests that target <code>releases/10</code> or <code>releases/beta/mona</code>, but not for pull requests that target <code>releases/10-alpha</code> or <code>releases/beta/3-alpha</code> because the negative pattern <code>!releases/**-alpha</code> follows the positive pattern.</p>
<pre><code><span>on:</span>
  <span>pull_request:</span>
    <span>branches:</span>
      <span>-</span> <span>'releases/**'</span>
      <span>-</span> <span>'!releases/**-alpha'</span>
</code></pre>
<h3><a href="#using-filters-to-target-specific-branches-or-tags-for-push-events">Using filters to target specific branches or tags for push events</a></h3>
<p>When using the <code>push</code> event, you can configure a workflow to run on specific branches or tags.</p>
<p>Use the <code>branches</code> filter when you want to include branch name patterns or when you want to both include and exclude branch names patterns. Use the <code>branches-ignore</code> filter when you only want to exclude branch name patterns. You cannot use both the <code>branches</code> and <code>branches-ignore</code> filters for the same event in a workflow.</p>
<p>Use the <code>tags</code> filter when you want to include tag name patterns or when you want to both include and exclude tag names patterns. Use the <code>tags-ignore</code> filter when you only want to exclude tag name patterns. You cannot use both the <code>tags</code> and <code>tags-ignore</code> filters for the same event in a workflow.</p>
<p>If you define only <code>tags</code>/<code>tags-ignore</code> or only <code>branches</code>/<code>branches-ignore</code>, the workflow won't run for events affecting the undefined Git ref. If you define neither <code>tags</code>/<code>tags-ignore</code> or <code>branches</code>/<code>branches-ignore</code>, the workflow will run for events affecting either branches or tags. If you define both <code>branches</code>/<code>branches-ignore</code> and <a href="/en/actions/using-workflows/workflow-syntax-for-github-actions#onpushpull_requestpull_request_targetpathspaths-ignore"><code>paths</code>/<code>paths-ignore</code></a>, the workflow will only run when both filters are satisfied.</p>
<p>The <code>branches</code>, <code>branches-ignore</code>, <code>tags</code>, and <code>tags-ignore</code> keywords accept glob patterns that use characters like <code>*</code>, <code>**</code>, <code>+</code>, <code>?</code>, <code>!</code> and others to match more than one branch or tag name. If a name contains any of these characters and you want a literal match, you need to <em>escape</em> each of these special characters with <code>\</code>. For more information about glob patterns, see the <a href="/en/actions/using-workflows/workflow-syntax-for-github-actions#filter-pattern-cheat-sheet">Workflow syntax for GitHub Actions</a>.</p>
<h4><a href="#example-including-branches-and-tags">Example: Including branches and tags</a></h4>
<p>The patterns defined in <code>branches</code> and <code>tags</code> are evaluated against the Git ref's name. For example, the following workflow would run whenever there is a <code>push</code> event to:</p>
<ul>
<li>A branch named <code>main</code> (<code>refs/heads/main</code>)</li>
<li>A branch named <code>mona/octocat</code> (<code>refs/heads/mona/octocat</code>)</li>
<li>A branch whose name starts with <code>releases/</code>, like <code>releases/10</code> (<code>refs/heads/releases/10</code>)</li>
<li>A tag named <code>v2</code> (<code>refs/tags/v2</code>)</li>
<li>A tag whose name starts with <code>v1.</code>, like <code>v1.9.1</code> (<code>refs/tags/v1.9.1</code>)</li>
</ul>
<pre><code><span>on:</span>
  <span>push:</span>
    <span># Sequence of patterns matched against refs/heads</span>
    <span>branches:</span>
      <span>-</span> <span>main</span>
      <span>-</span> <span>'mona/octocat'</span>
      <span>-</span> <span>'releases/**'</span>
    <span># Sequence of patterns matched against refs/tags</span>
    <span>tags:</span>
      <span>-</span> <span>v2</span>
      <span>-</span> <span>v1.*</span>
</code></pre>
<h4><a href="#example-excluding-branches-and-tags">Example: Excluding branches and tags</a></h4>
<p>When a pattern matches the <code>branches-ignore</code> or <code>tags-ignore</code> pattern, the workflow will not run. The patterns defined in <code>branches</code> and <code>tags</code> are evaluated against the Git ref's name. For example, the following workflow would run whenever there is a <code>push</code> event, unless the <code>push</code> event is to:</p>
<ul>
<li>A branch named <code>mona/octocat</code> (<code>refs/heads/mona/octocat</code>)</li>
<li>A branch whose name matches <code>releases/**-alpha</code>, like <code>releases/beta/3-alpha</code> (<code>refs/heads/releases/beta/3-alpha</code>)</li>
<li>A tag named <code>v2</code> (<code>refs/tags/v2</code>)</li>
<li>A tag whose name starts with <code>v1.</code>, like <code>v1.9</code> (<code>refs/tags/v1.9</code>)</li>
</ul>
<pre><code><span>on:</span>
  <span>push:</span>
    <span># Sequence of patterns matched against refs/heads</span>
    <span>branches-ignore:</span>
      <span>-</span> <span>'mona/octocat'</span>
      <span>-</span> <span>'releases/**-alpha'</span>
    <span># Sequence of patterns matched against refs/tags</span>
    <span>tags-ignore:</span>
      <span>-</span> <span>v2</span>
      <span>-</span> <span>v1.*</span>
</code></pre>
<h4><a href="#example-including-and-excluding-branches-and-tags">Example: Including and excluding branches and tags</a></h4>
<p>You can't use <code>branches</code> and <code>branches-ignore</code> to filter the same event in a single workflow. Similarly, you can't use <code>tags</code> and <code>tags-ignore</code> to filter the same event in a single workflow. If you want to both include and exclude branch or tag patterns for a single event, use the <code>branches</code> or <code>tags</code> filter along with the <code>!</code> character to indicate which branches or tags should be excluded.</p>
<p>If you define a branch with the <code>!</code> character, you must also define at least one branch without the <code>!</code> character. If you only want to exclude branches, use <code>branches-ignore</code> instead. Similarly, if you define a tag with the <code>!</code> character, you must also define at least one tag without the <code>!</code> character. If you only want to exclude tags, use <code>tags-ignore</code> instead.</p>
<p>The order that you define patterns matters.</p>
<ul>
<li>A matching negative pattern (prefixed with <code>!</code>) after a positive match will exclude the Git ref.</li>
<li>A matching positive pattern after a negative match will include the Git ref again.</li>
</ul>
<p>The following workflow will run on pushes to <code>releases/10</code> or <code>releases/beta/mona</code>, but not on <code>releases/10-alpha</code> or <code>releases/beta/3-alpha</code> because the negative pattern <code>!releases/**-alpha</code> follows the positive pattern.</p>
<pre><code><span>on:</span>
  <span>push:</span>
    <span>branches:</span>
      <span>-</span> <span>'releases/**'</span>
      <span>-</span> <span>'!releases/**-alpha'</span>
</code></pre>
<h3><a href="#using-filters-to-target-specific-paths-for-pull-request-or-push-events">Using filters to target specific paths for pull request or push events</a></h3>
<p>When using the <code>push</code> and <code>pull_request</code> events, you can configure a workflow to run based on what file paths are changed. Path filters are not evaluated for pushes of tags.</p>
<p>Use the <code>paths</code> filter when you want to include file path patterns or when you want to both include and exclude file path patterns. Use the <code>paths-ignore</code> filter when you only want to exclude file path patterns. You cannot use both the <code>paths</code> and <code>paths-ignore</code> filters for the same event in a workflow. If you want to both include and exclude path patterns for a single event, use the <code>paths</code> filter prefixed with the <code>!</code> character to indicate which paths should be excluded.</p>
<div>
<p>
The order that you define <code>paths</code> patterns matters:</p>
<ul>
<li>A matching negative pattern (prefixed with <code>!</code>) after a positive match will exclude the path.</li>
<li>A matching positive pattern after a negative match will include the path again.</li>
</ul>
</div>
<p>If you define both <code>branches</code>/<code>branches-ignore</code> and <code>paths</code>/<code>paths-ignore</code>, the workflow will only run when both filters are satisfied.</p>
<p>The <code>paths</code> and <code>paths-ignore</code> keywords accept glob patterns that use the <code>*</code> and <code>**</code> wildcard characters to match more than one path name. For more information, see the <a href="/en/actions/using-workflows/workflow-syntax-for-github-actions#filter-pattern-cheat-sheet">Workflow syntax for GitHub Actions</a>.</p>
<h4><a href="#example-including-paths">Example: Including paths</a></h4>
<p>If at least one path matches a pattern in the <code>paths</code> filter, the workflow runs. For example, the following workflow would run anytime you push a JavaScript file (<code>.js</code>).</p>
<pre><code><span>on:</span>
  <span>push:</span>
    <span>paths:</span>
      <span>-</span> <span>'**.js'</span>
</code></pre>
<p>If a workflow is skipped due to path filtering, <a href="/en/actions/using-workflows/workflow-syntax-for-github-actions#onpull_requestpull_request_targetbranchesbranches-ignore">branch filtering</a>, or a <a href="/en/actions/managing-workflow-runs/skipping-workflow-runs">commit message</a>, then checks associated with that workflow will remain in a "Pending" state. A pull request that requires those checks to be successful will be blocked from merging.</p>
<h4><a href="#example-excluding-paths">Example: Excluding paths</a></h4>
<p>When all the path names match patterns in <code>paths-ignore</code>, the workflow will not run. If any path names do not match patterns in <code>paths-ignore</code>, even if some path names match the patterns, the workflow will run.</p>
<p>A workflow with the following path filter will only run on <code>push</code> events that include at least one file outside the <code>docs</code> directory at the root of the repository.</p>
<pre><code><span>on:</span>
  <span>push:</span>
    <span>paths-ignore:</span>
      <span>-</span> <span>'docs/**'</span>
</code></pre>
<h4><a href="#example-including-and-excluding-paths">Example: Including and excluding paths</a></h4>
<p>You cannot use <code>paths</code> and <code>paths-ignore</code> to filter the same event in a single workflow. If you want to both include and exclude path patterns for a single event, use the <code>paths</code> filter prefixed with the <code>!</code> character to indicate which paths should be excluded.</p>
<p>If you define a path with the <code>!</code> character, you must also define at least one path without the <code>!</code> character. If you only want to exclude paths, use <code>paths-ignore</code> instead.</p>
<p>The order that you define <code>paths</code> patterns matters:</p>
<ul>
<li>A matching negative pattern (prefixed with <code>!</code>) after a positive match will exclude the path.</li>
<li>A matching positive pattern after a negative match will include the path again.</li>
</ul>
<p>This example runs anytime the <code>push</code> event includes a file in the <code>sub-project</code> directory or its subdirectories, unless the file is in the <code>sub-project/docs</code> directory. For example, a push that changed <code>sub-project/index.js</code> or <code>sub-project/src/index.js</code> will trigger a workflow run, but a push changing only <code>sub-project/docs/readme.md</code> will not.</p>
<pre><code><span>on:</span>
  <span>push:</span>
    <span>paths:</span>
      <span>-</span> <span>'sub-project/**'</span>
      <span>-</span> <span>'!sub-project/docs/**'</span>
</code></pre>
<h4><a href="#git-diff-comparisons">Git diff comparisons</a></h4>
<div>
<p>
If you push more than 1,000 commits, or if GitHub does not generate the diff due to a timeout, the workflow will always run.</p>
</div>
<p>The filter determines if a workflow should run by evaluating the changed files and running them against the <code>paths-ignore</code> or <code>paths</code> list. If there are no files changed, the workflow will not run.</p>
<p>GitHub generates the list of changed files using two-dot diffs for pushes and three-dot diffs for pull requests:</p>
<ul>
<li>
<strong>Pull requests:</strong> Three-dot diffs are a comparison between the most recent version of the topic branch and the commit where the topic branch was last synced with the base branch.</li>
<li>
<strong>Pushes to existing branches:</strong> A two-dot diff compares the head and base SHAs directly with each other.</li>
<li>
<strong>Pushes to new branches:</strong> A two-dot diff against the parent of the ancestor of the deepest commit pushed.</li>
</ul>
<div>
<p>
Diffs are limited to 300 files. If there are files changed that aren't matched in the first 300 files returned by the filter, the workflow will not run. You may need to create more specific filters so that the workflow will run automatically.</p>
</div>
<p>For more information, see <a href="/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-comparing-branches-in-pull-requests">About comparing branches in pull requests</a>.</p>
<h3><a href="#using-filters-to-target-specific-branches-for-workflow-run-events">Using filters to target specific branches for workflow run events</a></h3>
<p>When using the <code>workflow_run</code> event, you can specify what branches the triggering workflow must run on in order to trigger your workflow.</p>
<p>The <code>branches</code> and <code>branches-ignore</code> filters accept glob patterns that use characters like <code>*</code>, <code>**</code>, <code>+</code>, <code>?</code>, <code>!</code> and others to match more than one branch name. If a name contains any of these characters and you want a literal match, you need to <em>escape</em> each of these special characters with <code>\</code>. For more information about glob patterns, see the <a href="/en/actions/using-workflows/workflow-syntax-for-github-actions#filter-pattern-cheat-sheet">Workflow syntax for GitHub Actions</a>.</p>
<p>For example, a workflow with the following trigger will only run when the workflow named <code>Build</code> runs on a branch whose name starts with <code>releases/</code>:</p>
<pre><code><span>on:</span>
  <span>workflow_run:</span>
    <span>workflows:</span> [<span>"Build"</span>]
    <span>types:</span> [<span>requested</span>]
    <span>branches:</span>
      <span>-</span> <span>'releases/**'</span>
</code></pre>
<p>A workflow with the following trigger will only run when the workflow named <code>Build</code> runs on a branch that is not named <code>canary</code>:</p>
<pre><code><span>on:</span>
  <span>workflow_run:</span>
    <span>workflows:</span> [<span>"Build"</span>]
    <span>types:</span> [<span>requested</span>]
    <span>branches-ignore:</span>
      <span>-</span> <span>"canary"</span>
</code></pre>
<p>You cannot use both the <code>branches</code> and <code>branches-ignore</code> filters for the same event in a workflow. If you want to both include and exclude branch patterns for a single event, use the <code>branches</code> filter along with the <code>!</code> character to indicate which branches should be excluded.</p>
<p>The order that you define patterns matters.</p>
<ul>
<li>A matching negative pattern (prefixed with <code>!</code>) after a positive match will exclude the branch.</li>
<li>A matching positive pattern after a negative match will include the branch again.</li>
</ul>
<p>For example, a workflow with the following trigger will run when the workflow named <code>Build</code> runs on a branch that is named <code>releases/10</code> or <code>releases/beta/mona</code> but will not <code>releases/10-alpha</code>, <code>releases/beta/3-alpha</code>, or <code>main</code>.</p>
<pre><code><span>on:</span>
  <span>workflow_run:</span>
    <span>workflows:</span> [<span>"Build"</span>]
    <span>types:</span> [<span>requested</span>]
    <span>branches:</span>
      <span>-</span> <span>'releases/**'</span>
      <span>-</span> <span>'!releases/**-alpha'</span>
</code></pre>
<h2><a href="#defining-inputs-for-manually-triggered-workflows">Defining inputs for manually triggered workflows</a></h2>
<p>When using the <code>workflow_dispatch</code> event, you can optionally specify inputs that are passed to the workflow.</p>
<p>This trigger only receives events when the workflow file is on the default branch.
The triggered workflow receives the inputs in the <code>inputs</code> context. For more information, see <a href="/en/actions/learn-github-actions/contexts#inputs-context">Contexts</a>.</p>
<div>
<ul>
<li>The workflow will also receive the inputs in the <code>github.event.inputs</code> context. The information in the <code>inputs</code> context and <code>github.event.inputs</code> context is identical except that the <code>inputs</code> context preserves Boolean values as Booleans instead of converting them to strings. The <code>choice</code> type resolves to a string and is a single selectable option.</li>
<li>The maximum number of top-level properties for <code>inputs</code> is 10.</li>
<li>The maximum payload for <code>inputs</code> is 65,535 characters.</li>
</ul>
</div>
<pre><code><span>on:</span>
  <span>workflow_dispatch:</span>
    <span>inputs:</span>
      <span>logLevel:</span>
        <span>description:</span> <span>'Log level'</span>
        <span>required:</span> <span>true</span>
        <span>default:</span> <span>'warning'</span>
        <span>type:</span> <span>choice</span>
        <span>options:</span>
          <span>-</span> <span>info</span>
          <span>-</span> <span>warning</span>
          <span>-</span> <span>debug</span>
      <span>print_tags:</span>
        <span>description:</span> <span>'True to print to STDOUT'</span>
        <span>required:</span> <span>true</span>
        <span>type:</span> <span>boolean</span>
      <span>tags:</span>
        <span>description:</span> <span>'Test scenario tags'</span>
        <span>required:</span> <span>true</span>
        <span>type:</span> <span>string</span>
      <span>environment:</span>
        <span>description:</span> <span>'Environment to run tests against'</span>
        <span>type:</span> <span>environment</span>
        <span>required:</span> <span>true</span>

<span>jobs:</span>
  <span>print-tag:</span>
    <span>runs-on:</span> <span>ubuntu-latest</span>
    <span>if:</span> <span>${{</span> <span>inputs.print_tags</span> <span>}}</span> 
    <span>steps:</span>
      <span>-</span> <span>name:</span> <span>Print</span> <span>the</span> <span>input</span> <span>tag</span> <span>to</span> <span>STDOUT</span>
        <span>run:</span> <span>echo</span>  <span>The</span> <span>tags</span> <span>are</span> <span>${{</span> <span>inputs.tags</span> <span>}}</span> 
</code></pre>
<h2><a href="#defining-inputs-outputs-and-secrets-for-reusable-workflows">Defining inputs, outputs, and secrets for reusable workflows</a></h2>
<p>You can define inputs and secrets that a reusable workflow should receive from a calling workflow. You can also specify outputs that a reusable workflow will make available to a calling workflow. For more information, see <a href="/en/actions/using-workflows/reusing-workflows">Reusing workflows</a>.</p>
<h2><a href="#using-event-information">Using event information</a></h2>
<p>Information about the event that triggered a workflow run is available in the <code>github.event</code> context. The properties in the <code>github.event</code> context depend on the type of event that triggered the workflow. For example, a workflow triggered when an issue is labeled would have information about the issue and label.</p>
<h3><a href="#viewing-all-properties-of-an-event">Viewing all properties of an event</a></h3>
<p>Reference the webhook event documentation for common properties and example payloads. For more information, see <a href="/en/webhooks-and-events/webhooks/webhook-events-and-payloads">Webhook events and payloads</a>.</p>
<p>You can also print the entire <code>github.event</code> context to see what properties are available for the event that triggered your workflow:</p>
<pre><code><span>jobs:</span>
  <span>print_context:</span>
    <span>runs-on:</span> <span>ubuntu-latest</span>
    <span>steps:</span>
      <span>-</span> <span>env:</span>
          <span>EVENT_CONTEXT:</span> <span>${{</span> <span>toJSON(github.event)</span> <span>}}</span>
        <span>run:</span> <span>|
          echo $EVENT_CONTEXT
</span></code></pre>
<h3><a href="#accessing-and-using-event-properties">Accessing and using event properties</a></h3>
<p>You can use the <code>github.event</code> context in your workflow. For example, the following workflow runs when a pull request that changes <code>package*.json</code>, <code>.github/CODEOWNERS</code>, or <code>.github/workflows/**</code> is opened. If the pull request author (<code>github.event.pull_request.user.login</code>) is not <code>octobot</code> or <code>dependabot[bot]</code>, then the workflow uses the GitHub CLI to label and comment on the pull request (<code>github.event.pull_request.number</code>).</p>
<pre><code><span>on:</span>
  <span>pull_request:</span>
    <span>types:</span>
      <span>-</span> <span>opened</span>
    <span>paths:</span>
      <span>-</span> <span>'.github/workflows/**'</span>
      <span>-</span> <span>'.github/CODEOWNERS'</span>
      <span>-</span> <span>'package*.json'</span>

<span>jobs:</span>
  <span>triage:</span>
    <span>if:</span> <span>&gt;-
      github.event.pull_request.user.login != 'octobot' &amp;&amp;
      github.event.pull_request.user.login != 'dependabot[bot]'
</span>    <span>runs-on:</span> <span>ubuntu-latest</span>
    <span>steps:</span>
      <span>-</span> <span>name:</span> <span>"Comment about changes we can't accept"</span>
        <span>env:</span>
          <span>GH_TOKEN:</span> <span>${{</span> <span>secrets.GITHUB_TOKEN</span> <span>}}</span>
          <span>PR:</span> <span>${{</span> <span>github.event.pull_request.html_url</span> <span>}}</span>
        <span>run:</span> <span>|
          gh pr edit $PR --add-label 'invalid'
          gh pr comment $PR --body 'It looks like you edited `package*.json`, `.github/CODEOWNERS`, or `.github/workflows/**`. We do not allow contributions to these files. Please review our [contributing guidelines](https://github.com/octo-org/octo-repo/blob/main/CONTRIBUTING.md) for what contributions are accepted.'
</span></code></pre>
<p>For more information about contexts, see <a href="/en/actions/learn-github-actions/contexts">Accessing contextual information about workflow runs</a>. For more information about event payloads, see <a href="/en/webhooks-and-events/webhooks/webhook-events-and-payloads">Webhook events and payloads</a>.</p>
<h2><a href="#further-controlling-how-your-workflow-will-run">Further controlling how your workflow will run</a></h2>
<p>If you want more granular control than events, event activity types, or event filters provide, you can use conditionals and environments to control whether individual jobs or steps in your workflow will run.</p>
<h3><a href="#using-conditionals">Using conditionals</a></h3>
<p>You can use conditionals to further control whether jobs or steps in your workflow will run.</p>
<h4><a href="#example-using-a-value-in-the-event-payload">Example using a value in the event payload</a></h4>
<p>For example, if you want the workflow to run when a specific label is added to an issue, you can trigger on the <code>issues labeled</code> event activity type and use a conditional to check what label triggered the workflow. The following workflow will run when any label is added to an issue in the workflow's repository, but the <code>run_if_label_matches</code> job will only execute if the label is named <code>bug</code>.</p>
<pre><code><span>on:</span>
  <span>issues:</span>
    <span>types:</span>
      <span>-</span> <span>labeled</span>

<span>jobs:</span>
  <span>run_if_label_matches:</span>
    <span>if:</span> <span>github.event.label.name</span> <span>==</span> <span>'bug'</span>
    <span>runs-on:</span> <span>ubuntu-latest</span>
    <span>steps:</span>
      <span>-</span> <span>run:</span> <span>echo</span> <span>'The label was bug'</span>
</code></pre>
<h4><a href="#example-using-event-type">Example using event type</a></h4>
<p>For example, if you want to run different jobs or steps depending on what event triggered the workflow, you can use a conditional to check whether a specific event type exists in the event context. The following workflow will run whenever an issue or pull request is closed. If the workflow ran because an issue was closed, the <code>github.event</code> context will contain a value for <code>issue</code> but not for <code>pull_request</code>. Therefore, the <code>if_issue</code> step will run but the <code>if_pr</code> step will not run. Conversely, if the workflow ran because a pull request was closed, the <code>if_pr</code> step will run but the <code>if_issue</code> step will not run.</p>
<pre><code><span>on:</span>
  <span>issues:</span>
    <span>types:</span>
      <span>-</span> <span>closed</span>
  <span>pull_request:</span>
    <span>types:</span>
      <span>-</span> <span>closed</span>

<span>jobs:</span>
  <span>state_event_type:</span>
    <span>runs-on:</span> <span>ubuntu-latest</span>
    <span>steps:</span>
    <span>-</span> <span>name:</span> <span>if_issue</span>
      <span>if:</span> <span>github.event.issue</span>
      <span>run:</span> <span>|
        echo An issue was closed
</span>    <span>-</span> <span>name:</span> <span>if_pr</span>
      <span>if:</span> <span>github.event.pull_request</span>
      <span>run:</span> <span>|
        echo A pull request was closed
</span></code></pre>
<p>For more information about what information is available in the event context, see <a href="#using-event-information">Using event information</a>. For more information about how to use conditionals, see <a href="/en/actions/learn-github-actions/expressions">Evaluate expressions in workflows and actions</a>.</p>
<h3><a href="#using-environments-to-manually-trigger-workflow-jobs">Using environments to manually trigger workflow jobs</a></h3>
<p>If you want to manually trigger a specific job in a workflow, you can use an environment that requires approval from a specific team or user. First, configure an environment with required reviewers. For more information, see <a href="/en/actions/deployment/targeting-different-environments/managing-environments-for-deployment">Managing environments for deployment</a>. Then, reference the environment name in a job in your workflow using the <code>environment:</code> key. Any job referencing the environment will not run until at least one reviewer approves the job.</p>
<p>For example, the following workflow will run whenever there is a push to main. The <code>build</code> job will always run. The <code>publish</code> job will only run after the <code>build</code> job successfully completes (due to <code>needs: [build]</code>) and after all of the rules (including required reviewers) for the environment called <code>production</code> pass (due to <code>environment: production</code>).</p>
<pre><code><span>on:</span>
  <span>push:</span>
    <span>branches:</span>
      <span>-</span> <span>main</span>

<span>jobs:</span>
  <span>build:</span>
    <span>runs-on:</span> <span>ubuntu-latest</span>
    <span>steps:</span>
      <span>-</span> <span>name:</span> <span>build</span>
        <span>run:</span> <span>|
          echo 'building'
</span>
  <span>publish:</span>
    <span>needs:</span> [<span>build</span>]
    <span>runs-on:</span> <span>ubuntu-latest</span>
    <span>environment:</span> <span>production</span>
    <span>steps:</span>
      <span>-</span> <span>name:</span> <span>publish</span>
        <span>run:</span> <span>|
          echo 'publishing'
</span></code></pre>
<div>
<p>
Environments, environment secrets, and deployment protection rules are available in public repositories for all current GitHub plans. They are not available on legacy plans, such as Bronze, Silver, or Gold. For access to environments, environment secrets, and deployment branches in private or internal repositories, you must use GitHub Pro, GitHub Team, or GitHub Enterprise. If you are on a GitHub Free, GitHub Pro, or GitHub Team plan, other deployment protection rules, such as a wait timer or required reviewers, are only available for public repositories.</p>
</div>
<h2><a href="#available-events">Available events</a></h2>
<p>For a full list of available events, see <a href="/en/actions/using-workflows/events-that-trigger-workflows">Events that trigger workflows</a>.</p>
</div></div></div>
</div>
</div></main>
</div></body></html>