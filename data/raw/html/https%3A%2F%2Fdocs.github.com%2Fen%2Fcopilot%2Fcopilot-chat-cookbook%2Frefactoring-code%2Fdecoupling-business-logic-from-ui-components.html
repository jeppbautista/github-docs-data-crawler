<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="GitHub Copilot" href="/en/copilot">GitHub Copilot</a><span>/</span>
</li>
<li>
<a title="Copilot Chat Cookbook" href="/en/copilot/copilot-chat-cookbook">Copilot Chat Cookbook</a><span>/</span>
</li>
<li>
<a title="Refactoring code" href="/en/copilot/copilot-chat-cookbook/refactoring-code">Refactoring code</a><span>/</span>
</li>
<li><a title="Decoupling business logic" href="/en/copilot/copilot-chat-cookbook/refactoring-code/decoupling-business-logic-from-ui-components">Decoupling business logic</a></li>
</ul></nav></div>
<div>
<div><div><h1>Decoupling business logic from UI components</h1></div></div>
<div><div><p>Copilot Chat can help you separate your business logic from your user interface code, making it easier to maintain and scale your application.</p></div></div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#example-scenario"><div><span>Example scenario</span></div></a></li>
<li><a href="#example-prompt"><div><span>Example prompt</span></div></a></li>
<li><a href="#example-response"><div><span>Example response</span></div></a></li>
<li><a href="#further-reading"><div><span>Further reading</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<p>In many front-end frameworks, business logic can become embedded within user interface (UI) components, making the code hard to maintain or extend, especially as the application grows.</p>
<p>Copilot Chat can help you refactor your code to extract business logic into separate services or state management solutions. This allows the business logic to be reused across different UI components. It also makes the code easier to scale by separating concerns and reducing interdependencies, and it simplifies unit testing by allowing business logic to be tested independently from UI components.</p>
<h2><a href="#example-scenario">Example scenario</a></h2>
<p>In this JavaScript code, the <code>Counter</code> component configures the business logic for the component and also defines UI code for using the component in a web page.</p>
<pre><code><span>import</span> <span>React</span>, { useState } <span>from</span> <span>'react'</span>;

<span>const</span> <span>Counter</span> = (<span>const</span> [count, setCount] = <span>useState</span>(<span>0</span>);

  <span>const</span> <span>increment</span> = (<span>if</span> (count &gt;= <span>10</span>) {
      <span>alert</span>(<span>'Count cannot exceed 10'</span>);
      <span>return</span>;
    }
    <span>setCount</span>(count + <span>1</span>);
  };

  <span>return</span> (
    <span><span>&lt;<span>div</span>&gt;</span>
      <span>&lt;<span>p</span>&gt;</span>Count: {count}<span>&lt;/<span>p</span>&gt;</span>
      <span>&lt;<span>button</span> <span>onClick</span>=<span>{increment}</span>&gt;</span>Increment<span>&lt;/<span>button</span>&gt;</span>
    <span>&lt;/<span>div</span>&gt;</span></span>
  );
};

<span>export</span> <span>default</span> <span>Counter</span>;
</code></pre>
<h2><a href="#example-prompt">Example prompt</a></h2>
<p><code>Use Redux to separate the UI code from the Counter component in this code.</code></p>
<h2><a href="#example-response">Example response</a></h2>
<p>Copilot provides step-by-step instructions for refactoring the code.</p>
<p>The suggested changes refactor the <code>Counter</code> component to use Redux for state management. This includes setting up a Redux store with an initial state and a reducer, defining an increment action, and modifying the <code>Counter</code> component to connect to the Redux store. Finally, the application is wrapped with a <code>Provider</code> component to make the Redux store available to the <code>Counter</code> component. This separates the UI logic from state management.</p>
<p>The proposed changes separate the code into five separate files.</p>
<div>
<p> Copilot Chat responses are non-deterministic, so you may get a different response from the one described here.</p>
</div>
<h3><a href="#actionsjs">actions.js</a></h3>
<pre><code><span>export</span> <span>const</span> <span>increment</span> = (<span>type</span>: <span>'INCREMENT'</span>
});
</code></pre>
<h3><a href="#reducerjs">reducer.js</a></h3>
<pre><code><span>const</span> initialState = {
  <span>count</span>: <span>0</span>
};

<span>const</span> <span>counterReducer</span> = (<span>state = initialState, action</span>) =&gt; {
  <span>switch</span> (action.<span>type</span>) {
    <span>case</span> <span>'INCREMENT'</span>:
      <span>if</span> (state.<span>count</span> &gt;= <span>10</span>) {
        <span>alert</span>(<span>'Count cannot exceed 10'</span>);
        <span>return</span> state;
      }
      <span>return</span> {
        ...state,
        <span>count</span>: state.<span>count</span> + <span>1</span>
      };
    <span>default</span>:
      <span>return</span> state;
  }
};

<span>export</span> <span>default</span> counterReducer;
</code></pre>
<h3><a href="#storejs">store.js</a></h3>
<pre><code><span>import</span> { createStore } <span>from</span> <span>'redux'</span>;
<span>import</span> counterReducer <span>from</span> <span>'./reducer'</span>;

<span>const</span> store = <span>createStore</span>(counterReducer);

<span>export</span> <span>default</span> store;
</code></pre>
<h3><a href="#counterjs">counter.js</a></h3>
<pre><code><span>import</span> <span>React</span> <span>from</span> <span>'react'</span>;
<span>import</span> { useSelector, useDispatch } <span>from</span> <span>'react-redux'</span>;
<span>import</span> { increment } <span>from</span> <span>'./actions'</span>;

<span>const</span> <span>Counter</span> = (<span>const</span> count = <span>useSelector</span>(<span><span>state</span> =&gt;</span> state.<span>count</span>);
  <span>const</span> dispatch = <span>useDispatch</span>();

  <span>return</span> (
    <span><span>&lt;<span>div</span>&gt;</span>
      <span>&lt;<span>p</span>&gt;</span>Count: {count}<span>&lt;/<span>p</span>&gt;</span>
      <span>&lt;<span>button</span> <span>onClick</span>=<span>{()</span> =&gt;</span> dispatch(increment())}&gt;Increment<span>&lt;/<span>button</span>&gt;</span>
    <span>&lt;/<span>div</span>&gt;</span></span>
  );
};

<span>export</span> <span>default</span> <span>Counter</span>;
</code></pre>
<h3><a href="#indexjs">index.js</a></h3>
<pre><code><span>import</span> <span>React</span> <span>from</span> <span>'react'</span>;
<span>import</span> <span>ReactDOM</span> <span>from</span> <span>'react-dom'</span>;
<span>import</span> { <span>Provider</span> } <span>from</span> <span>'react-redux'</span>;
<span>import</span> store <span>from</span> <span>'./store'</span>;
<span>import</span> <span>Counter</span> <span>from</span> <span>'./counter'</span>;

<span>ReactDOM</span>.<span>render</span>(
  <span><span>&lt;<span>Provider</span> <span>store</span>=<span>{store}</span>&gt;</span>
    <span>&lt;<span>Counter</span> /&gt;</span>
  <span>&lt;/<span>Provider</span>&gt;</span></span>,
  <span>document</span>.<span>getElementById</span>(<span>'root'</span>)
);
</code></pre>
<h2><a href="#further-reading">Further reading</a></h2>
<ul>
<li><a href="/en/copilot/using-github-copilot/prompt-engineering-for-github-copilot">Prompt engineering for Copilot Chat</a></li>
<li><a href="/en/copilot/using-github-copilot/best-practices-for-using-github-copilot">Best practices for using GitHub Copilot</a></li>
</ul>
</div></div></div>
</div>
</div></main>
</div></body></html>