<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="Secure coding" href="/en/code-security">Secure coding</a><span>/</span>
</li>
<li>
<a title="Code scanning" href="/en/code-security/code-scanning">Code scanning</a><span>/</span>
</li>
<li>
<a title="Troubleshooting code scanning" href="/en/code-security/code-scanning/troubleshooting-code-scanning">Troubleshooting code scanning</a><span>/</span>
</li>
<li><a title="Kotlin detected in no build" href="/en/code-security/code-scanning/troubleshooting-code-scanning/kotlin-detected-in-no-build">Kotlin detected in no build</a></li>
</ul></nav></div>
<div>
<div><div><h1>Warning: Detected X Kotlin files in your project that could not be processed without a build</h1></div></div>
<div><div><p>CodeQL databases can be created for Java without building the code, but Kotlin files are excluded unless the code is built.</p></div></div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#about-this-warning"><div><span>About this warning</span></div></a></li>
<li><a href="#confirming-the-cause-of-the-warning"><div><span>Confirming the cause of the warning</span></div></a></li>
<li><a href="#fixing-the-problem"><div><span>Fixing the problem</span></div></a></li>
<li><a href="#further-reading"><div><span>Further reading</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<h2><a href="#about-this-warning">About this warning</a></h2>
<pre><code>Warning: Detected X Kotlin files in your project that could not be processed without a build. To process these files...
</code></pre>
<p>This warning is reported when Kotlin files are detected in a repository that ran CodeQL code scanning for Java using the build mode of <code>none</code> (default setup), or if you run the CodeQL CLI using <code>--build-mode none</code> for a repository containing Java and Kotlin files.</p>
<h2><a href="#confirming-the-cause-of-the-warning">Confirming the cause of the warning</a></h2>
<p>This warning is only displayed when the build mode of <code>none</code> is used for a repository with both Java and Kotlin files.</p>
<p>The CodeQL action and CodeQL CLI support a build mode of <code>none</code> for Java. This provides an easy way to enable analysis for Java code without building the codebase. However, Kotlin files are not included in the resulting CodeQL database.</p>
<p>You can verify the presence of Kotlin files by looking at the repository or pull request that triggered the warning. The <code>none</code> build mode is used only in the following circumstances:</p>
<ul>
<li>Code scanning was enabled for the repository before Kotlin code was added and after the new mode was introduced (previously it would have used the <code>autobuild</code> mode).</li>
<li>The CodeQL workflow specifies a build mode of <code>none</code> for the repository (check for <code>build-mode: none</code>).</li>
<li>The CodeQL CLI is called without a <code>--command</code> and with <code>--build-mode none</code>.</li>
</ul>
<h2><a href="#fixing-the-problem">Fixing the problem</a></h2>
<p>You may not want to analyze the Kotlin files, in which case you can ignore the warning message.</p>
<p>If you want to update the analysis to also include Kotlin files, then CodeQL will need to build the Java and Kotlin code.</p>
<h3><a href="#code-scanning-default-setup">Code scanning default setup</a></h3>
<ol>
<li>Wait until the Kotlin code is merged into the default branch for the repository.</li>
<li>Disable and then re-enable default setup on the "Settings" page for your repository.</li>
</ol>
<p>This will trigger a new analysis using automatic build detection. See <a href="/en/code-security/code-scanning/enabling-code-scanning/configuring-default-setup-for-code-scanning">Configuring default setup for code scanning</a> and <a href="/en/code-security/code-scanning/creating-an-advanced-setup-for-code-scanning/codeql-code-scanning-for-compiled-languages#building-java-and-kotlin">Building Java and Kotlin</a>.</p>
<p>If the automatic build detection fails, you will need to use advanced setup with the correct build commands for the project to analyze both languages.</p>
<h3><a href="#code-scanning-advanced-setup">Code scanning advanced setup</a></h3>
<p>If you already use advanced setup, you can edit the CodeQL workflow and change the build mode for <code>java-kotlin</code> from <code>none</code> to either <code>autobuild</code> to automatically build your project, or <code>manual</code> to specify your own build steps. <a href="/en/code-security/code-scanning/creating-an-advanced-setup-for-code-scanning/codeql-code-scanning-for-compiled-languages#building-java-and-kotlin">Building Java and Kotlin</a>.</p>
<p>If you need to convert from default setup to advanced setup, you need enable advanced setup on the on the "Settings" page for your repository and create a CodeQL workflow. Then you can define a <code>manual</code> build mode for <code>java-kotlin</code> and define the build commands for the project.</p>
<h3><a href="#running-the-codeql-cli-directly">Running the CodeQL CLI directly</a></h3>
<p>Update your calls to run the CodeQL CLI for the repository and pull requests to replace <code>--build-mode none</code> by <code>--build-mode autobuild</code> to try the automatic build detection. If automatic build detection is unsuccessful, remove the <code>--build-mode</code> option and include one or more <code>--command</code> options detailing the build script or steps required to build the project.</p>
<h2><a href="#further-reading">Further reading</a></h2>
<ul>
<li><a href="/en/code-security/code-scanning/creating-an-advanced-setup-for-code-scanning">Creating an advanced setup for code scanning</a></li>
<li><a href="/en/code-security/code-scanning/creating-an-advanced-setup-for-code-scanning/codeql-code-scanning-for-compiled-languages#building-java-and-kotlin">Building Java and Kotlin</a></li>
<li><a href="/en/code-security/code-scanning/creating-an-advanced-setup-for-code-scanning/codeql-code-scanning-for-compiled-languages#codeql-build-modes">CodeQL build modes</a></li>
</ul>
</div></div></div>
</div>
</div></main>
</div></body></html>