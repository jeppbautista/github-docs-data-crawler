<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="GitHub Actions" href="/en/actions">GitHub Actions</a><span>/</span>
</li>
<li>
<a title="Self-hosted runners" href="/en/actions/hosting-your-own-runners">Self-hosted runners</a><span>/</span>
</li>
<li>
<a title="Manage self-hosted runners" href="/en/actions/hosting-your-own-runners/managing-self-hosted-runners">Manage self-hosted runners</a><span>/</span>
</li>
<li><a title="Proxy servers" href="/en/actions/hosting-your-own-runners/managing-self-hosted-runners/using-a-proxy-server-with-self-hosted-runners">Proxy servers</a></li>
</ul></nav></div>
<div>
<div><div><h1>Using a proxy server with self-hosted runners</h1></div></div>
<div><div><p>You can configure self-hosted runners to use a proxy server to communicate with GitHub.</p></div></div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#configuring-a-proxy-server-using-environment-variables"><div><span>Configuring a proxy server using environment variables</span></div></a></li>
<li><a href="#using-a-env-file-to-set-the-proxy-configuration"><div><span>Using a .env file to set the proxy configuration</span></div></a></li>
<li><a href="#setting-proxy-configuration-for-docker-containers"><div><span>Setting proxy configuration for Docker containers</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<h2><a href="#configuring-a-proxy-server-using-environment-variables">Configuring a proxy server using environment variables</a></h2>
<p>If you need a self-hosted runner to communicate via a proxy server, the self-hosted runner application uses proxy configurations set in the following environment variables:</p>
<ul>
<li>
<code>https_proxy</code>: Proxy URL for HTTPS traffic. You can also include basic authentication credentials, if required. For example:
<ul>
<li><code>http://proxy.local</code></li>
<li><code>http://192.168.1.1:8080</code></li>
<li><code>http://username:password@proxy.local</code></li>
</ul>
</li>
<li>
<code>http_proxy</code>: Proxy URL for HTTP traffic. You can also include basic authentication credentials, if required. For example:
<ul>
<li><code>http://proxy.local</code></li>
<li><code>http://192.168.1.1:8080</code></li>
<li><code>http://username:password@proxy.local</code></li>
</ul>
</li>
<li>
<code>no_proxy</code>: Comma separated list of hosts that should not use a proxy. Only hostnames are allowed in <code>no_proxy</code>, you cannot use IP addresses. For example:
<ul>
<li><code>example.com</code></li>
<li><code>example.com,myserver.local:443,example.org</code></li>
</ul>
</li>
</ul>
<p>The proxy environment variables are read when the self-hosted runner application starts, so you must set the environment variables before configuring or starting the self-hosted runner application. If your proxy configuration changes, you must restart the self-hosted runner application.</p>
<div>
<p>
To avoid issues, it's good practice to treat environment variables as case sensitive, irrespective of the behavior of the operating system and shell you are using.</p>
</div>
<p>On Windows machines, the proxy environment variable names are case insensitive. On Linux and macOS machines, we recommend that you use all lowercase environment variables. If you have an environment variable in both lowercase and uppercase on Linux or macOS, for example <code>https_proxy</code> and <code>HTTPS_PROXY</code>, the self-hosted runner application uses the lowercase environment variable.</p>
<p>The connection between self-hosted runners and GitHub is over HTTPS (port 443).</p>
<h2><a href="#using-a-env-file-to-set-the-proxy-configuration">Using a .env file to set the proxy configuration</a></h2>
<p>If setting environment variables is not practical, you can set the proxy configuration variables in a file named <code>.env</code> in the self-hosted runner application directory (that is, the directory into which you downloaded and unpacked the runner software). For example, this might be necessary if you want to configure the runner application as a service under a system account. When the runner application starts, it reads the variables set in <code>.env</code> for the proxy configuration.</p>
<h3><a href="#example-env-proxy-configuration">Example <code>.env</code> proxy configuration</a></h3>
<pre><code>https_proxy=http://proxy.local:8080
no_proxy=example.com,myserver.local:443
</code></pre>
<h2><a href="#setting-proxy-configuration-for-docker-containers">Setting proxy configuration for Docker containers</a></h2>
<p>If you use Docker container actions or service containers in your workflows, you might also need to configure Docker to use your proxy server in addition to setting the above environment variables.</p>
<p>For information on the required Docker configuration, see <a href="https://docs.docker.com/network/proxy/">Configure Docker to use a proxy server</a> in the Docker documentation.</p>
</div></div></div>
</div>
</div></main>
</div></body></html>