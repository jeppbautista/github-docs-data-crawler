<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="Organizations" href="/en/organizations">Organizations</a><span>/</span>
</li>
<li>
<a title="Manage organization settings" href="/en/organizations/managing-organization-settings">Manage organization settings</a><span>/</span>
</li>
<li><a title="Disable or limit actions" href="/en/organizations/managing-organization-settings/disabling-or-limiting-github-actions-for-your-organization">Disable or limit actions</a></li>
</ul></nav></div>
<div>
<div><div><h1>Disabling or limiting GitHub Actions for your organization</h1></div></div>
<div>
<div><p>You can enable, disable, and limit GitHub Actions for an organization.</p></div>
<div><div>
<div><h2>Who can use this feature?</h2></div>
<div><div><p>Organization owners can enable, disable, and limit GitHub Actions for an organization.</p></div></div>
</div></div>
</div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#about-github-actions-permissions-for-your-organization"><div><span>About GitHub Actions permissions for your organization</span></div></a></li>
<li><a href="#managing-github-actions-permissions-for-your-organization"><div><span>Managing GitHub Actions permissions for your organization</span></div></a></li>
<li><a href="#limiting-the-use-of-self-hosted-runners"><div><span>Limiting the use of self-hosted runners</span></div></a></li>
<li><a href="#configuring-required-approval-for-workflows-from-public-forks"><div><span>Configuring required approval for workflows from public forks</span></div></a></li>
<li><a href="#enabling-workflows-for-private-repository-forks"><div><span>Enabling workflows for private repository forks</span></div></a></li>
<li><a href="#setting-the-permissions-of-the-github_token-for-your-organization"><div><span>Setting the permissions of the GITHUB_TOKEN for your organization</span></div></a></li>
<li><a href="#managing-github-actions-cache-storage-for-your-organization"><div><span>Managing GitHub Actions cache storage for your organization</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<h2><a href="#about-github-actions-permissions-for-your-organization">About GitHub Actions permissions for your organization</a></h2>
<p>By default, GitHub Actions is enabled on all repositories and organizations. You can choose to disable GitHub Actions or limit it to actions and reusable workflows in your organization. For more information about GitHub Actions, see <a href="/en/actions/learn-github-actions">Writing workflows</a>.</p>
<p>You can enable GitHub Actions for all repositories in your organization. When you enable GitHub Actions, workflows are able to run actions and reusable workflows located within your repository and any other public repository. You can disable GitHub Actions for all repositories in your organization. When you disable GitHub Actions, no workflows run in your repository.</p>
<p>Alternatively, you can enable GitHub Actions for all repositories in your organization but limit the actions and reusable workflows a workflow can run.</p>
<h2><a href="#managing-github-actions-permissions-for-your-organization">Managing GitHub Actions permissions for your organization</a></h2>
<p>You can choose to disable GitHub Actions for all repositories in your organization, or only allow specific repositories. You can also limit the use of public actions and reusable workflows, so that people can only use local actions and reusable workflows that exist in your organization.</p>
<div>
<p>
You might not be able to manage these settings if your organization is managed by an enterprise that has overriding policy. For more information, see <a href="/en/enterprise-cloud@latest/admin/policies/enforcing-policies-for-your-enterprise/enforcing-policies-for-github-actions-in-your-enterprise">Enforcing policies for GitHub Actions in your enterprise</a>.</p>
</div>
<ol>
<li>
<p>In the upper-right corner of GitHub, select your profile photo, then click </p>
</li>
<li>
<p>Next to the organization, click <strong>Settings</strong>.</p>
</li>
<li>
<p>In the left sidebar, click <strong>General</strong>.</p>
</li>
<li>
<p>Under "Policies", select an option.</p>
<p>If you choose <strong>Allow <em>OWNER</em>, and select non-<em>OWNER</em>, actions and reusable workflows</strong>, actions and reusable workflows within your organization are allowed, and there are additional options for allowing other specific actions and reusable workflows. For more information, see <a href="#allowing-select-actions-and-reusable-workflows-to-run">Allowing select actions and reusable workflows to run</a>.</p>
<p>When you allow actions and reusable workflows from only in your organization, the policy blocks all access to actions authored by GitHub. For example, the <a href="https://github.com/actions/checkout"><code>actions/checkout</code></a> action would not be accessible.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
<h3><a href="#allowing-select-actions-and-reusable-workflows-to-run">Allowing select actions and reusable workflows to run</a></h3>
<p>When you choose <strong>Allow <em>OWNER</em>, and select non-<em>OWNER</em>, actions and reusable workflows</strong>, local actions and reusable workflows are allowed, and there are additional options for allowing other specific actions and reusable workflows:</p>
<div>
<p>
You might not be able to manage these settings if your organization has an overriding policy or is managed by an enterprise that has overriding policy. For more information, see <a href="/en/organizations/managing-organization-settings/disabling-or-limiting-github-actions-for-your-organization">Disabling or limiting GitHub Actions for your organization</a> or <a href="/en/enterprise-cloud@latest/admin/policies/enforcing-policies-for-your-enterprise/enforcing-policies-for-github-actions-in-your-enterprise">Enforcing policies for GitHub Actions in your enterprise</a>.</p>
</div>
<ul>
<li>
<p><strong>Allow actions created by GitHub:</strong> You can allow all actions created by GitHub to be used by workflows. Actions created by GitHub are located in the <code>actions</code> and <code>github</code> organizations. For more information, see the <a href="https://github.com/actions"><code>actions</code></a> and <a href="https://github.com/github"><code>github</code></a> organizations.</p>
</li>
<li>
<p><strong>Allow Marketplace actions by verified creators:</strong>  You can allow all GitHub Marketplace actions created by verified creators to be used by workflows. When GitHub has verified the creator of the action as a partner organization, the </p>
</li>
<li>
<p><strong>Allow specified actions and reusable workflows:</strong> You can restrict workflows to use actions and reusable workflows in specific organizations and repositories. Specified actions cannot be set to more than 1000.</p>
<p>To restrict access to specific tags or commit SHAs of an action or reusable workflow, use the same syntax used in the workflow to select the action or reusable workflow.</p>
<ul>
<li>For an action, the syntax is <code>OWNER/REPOSITORY@TAG-OR-SHA</code>. For example, use <code>actions/javascript-action@v1.0.1</code> to select a tag or <code>actions/javascript-action@a824008085750b8e136effc585c3cd6082bd575f</code> to select a SHA. For more information, see <a href="/en/actions/learn-github-actions/finding-and-customizing-actions#using-release-management-for-your-custom-actions">Using pre-written building blocks in your workflow</a>.</li>
<li>For a reusable workflow, the syntax is <code>OWNER/REPOSITORY/PATH/FILENAME@TAG-OR-SHA</code>. For example, <code>octo-org/another-repo/.github/workflows/workflow.yml@v1</code>. For more information, see <a href="/en/actions/using-workflows/reusing-workflows#calling-a-reusable-workflow">Reusing workflows</a>.</li>
</ul>
<p>You can use the <code>*</code> wildcard character to match patterns. For example, to allow all actions and reusable workflows in organizations that start with <code>space-org</code>, you can specify <code>space-org*/*</code>. To allow all actions and reusable workflows in repositories that start with octocat, you can use <code>*/octocat**@*</code>. For more information about using the <code>*</code> wildcard, see <a href="/en/actions/using-workflows/workflow-syntax-for-github-actions#filter-pattern-cheat-sheet">Workflow syntax for GitHub Actions</a>.</p>
<p>Use <code>,</code> to separate patterns. For example, to allow <code>octocat</code> and <code>octokit</code>, you can specify <code>octocat/*, octokit/*</code>.</p>
<div>
<p>
For GitHub Free, GitHub Pro, GitHub Free for organizations, or GitHub Team plans, the <strong>Allow specified actions and reusable workflows</strong> option is only available in public repositories.</p>
</div>
</li>
</ul>
<p>This procedure demonstrates how to add specific actions and reusable workflows to the allow list.</p>
<ol>
<li>In the upper-right corner of GitHub, select your profile photo, then click </li>
<li>Next to the organization, click <strong>Settings</strong>.</li>
<li>In the left sidebar, click <strong>General</strong>.</li>
<li>Under "Policies", select <strong>Allow <em>OWNER</em>, and select non-<em>OWNER</em>, actions and reusable workflows</strong> and add your required actions and reusable workflows to the list.</li>
<li>Click <strong>Save</strong>.</li>
</ol>
<h2><a href="#limiting-the-use-of-self-hosted-runners">Limiting the use of self-hosted runners</a></h2>
<p>There is no guarantee that self-hosted runners for GitHub will be hosted on ephemeral, clean virtual machines. As a result, they may be compromised by untrusted code in a workflow.</p>
<p>Similarly, anyone who can fork the repository and open a pull request (generally those with read access to the repository) can compromise the self-hosted runner environment, including gaining access to secrets and the <code>GITHUB_TOKEN</code> which, depending on its settings, can grant write access to the repository. Although workflows can control access to environment secrets by using environments and required reviews, these workflows are not run in an isolated environment and are still susceptible to the same risks when run on a self-hosted runner.</p>
<p>For these and other reasons, you may decide to prevent people creating self-hosted runners at the repository level.</p>
<p>If a repository already has self-hosted runners when you disable their use, these will be listed with the status "Disabled" and they will not be assigned any new workflow jobs.</p>
<p><picture><source><img src="/assets/cb-88252/images/help/actions/actions-runners-disabled.png" alt='Screenshot of the "Runners" list showing a self-hosted runner with the status "Disabled."'></source></picture></p>
<div>
<p> When creation of repository-level self-hosted runners is disabled, workflows can still access self-hosted runners at the enterprise or organization level.</p>
</div>
<ol>
<li>In the upper-right corner of GitHub, select your profile photo, then click </li>
<li>Next to the organization, click <strong>Settings</strong>.</li>
<li>In the left sidebar, click <strong>General</strong>.</li>
<li>Under "Runners," use the dropdown menu to choose your preferred setting:
<ul>
<li>
<strong>All repositories</strong> - self-hosted runners can be used for any repository in your organization.</li>
<li>
<strong>Selected repositories</strong> - self-hosted runners can only be used for the repositories you select.</li>
<li>
<strong>Disabled</strong> - self-hosted runners cannot be created at the repository level.</li>
</ul>
</li>
<li>If you choose <strong>Selected repositories</strong>:
<ol>
<li>Click </li>
<li>Select the check boxes for the repositories for which you want to allow self-hosted runners.</li>
<li>Click <strong>Select repositories</strong>.</li>
</ol>
</li>
</ol>
<h2><a href="#configuring-required-approval-for-workflows-from-public-forks">Configuring required approval for workflows from public forks</a></h2>
<p>Anyone can fork a public repository, and then submit a pull request that proposes changes to the repository's GitHub Actions workflows. Although workflows from forks do not have access to sensitive data such as secrets, they can be an annoyance for maintainers if they are modified for abusive purposes.</p>
<p>To help prevent this, workflows on pull requests to public repositories from some outside contributors will not run automatically, and might need to be approved first. Depending on the "Approval for running fork pull request workflows from contributors" setting, workflows on pull requests to public repositories will not run automatically and may need approval if:</p>
<ul>
<li>The pull request is <strong>created by</strong> a user that requires approvals based on the selected policy.</li>
<li>The pull request event is <strong>triggered by</strong> a user that requires approvals based on the selected policy.</li>
</ul>
<p>By default, all first-time contributors require approval to run workflows.</p>
<p>Workflows triggered by <code>pull_request_target</code> events are run in the context of the base branch. Since the base branch is considered trusted, workflows triggered by these events will always run, regardless of approval settings. For more information about the <code>pull_request_target</code> event, see <a href="/en/actions/using-workflows/events-that-trigger-workflows#pull_request_target">Events that trigger workflows</a>.</p>
<div>
<p> These workflow approval policies are intended to restrict the set of users that can execute workflows in GitHub Actions runners that could lead to unexpected resource and compute consumption when using GitHub-hosted runners. If you are using self-hosted runners, potentially malicious user-controlled workflow code will execute automatically if the user is allowed to bypass approval in the set approval policy or if the pull request is approved. You must consider the risk of executing this code in your infrastructure and should review and follow the self-hosted runner security recommendations regardless of the approval settings utilized. See <a href="/en/actions/security-for-github-actions/security-guides/security-hardening-for-github-actions#hardening-for-self-hosted-runners">Security hardening for GitHub Actions</a>.</p>
</div>
<p>You can configure this behavior for an organization using the procedure below. Modifying this setting overrides the configuration set at the enterprise level.</p>
<ol>
<li>
<p>In the upper-right corner of GitHub, select your profile photo, then click </p>
</li>
<li>
<p>Next to the organization, click <strong>Settings</strong>.</p>
</li>
<li>
<p>In the left sidebar, click <strong>General</strong>.</p>
</li>
<li>
<p>Under <strong>Approval for running fork pull request workflows from contributors</strong>, choose which subset of users will require approval before running workflows on their pull requests. Both the pull request author and the actor of the pull request event triggering the workflow will be checked to determine if approval is required. If approval is required, a user with write access to the repository must approve the pull request workflow to be run. See <a href="/en/actions/managing-workflow-runs-and-deployments/managing-workflow-runs/approving-workflow-runs-from-public-forks">Approving workflow runs from public forks</a>.</p>
<div>
<p> When requiring approvals only for first-time contributors (the first two settings), a user that has had any commit or pull request merged into the repository will not require approval. A malicious user could meet this requirement by getting a simple typo or other innocuous change accepted by a maintainer, either as part of a pull request they have authored or as part of another user's pull request.</p>
</div>
<ul>
<li>
<strong>Require approval for first-time contributors who are new to GitHub</strong>. Only users who are both new on GitHub and who have never had a commit or pull request merged into this repository will require approval to run workflows.</li>
<li>
<strong>Require approval for first-time contributors</strong>. Only users who have never had a commit or pull request merged into this repository will require approval to run workflows.</li>
<li>
<strong>Require approval for all external contributors</strong> All users that are not a member or owner of this repository and not a member of the organization will require approval to run workflows.</li>
</ul>
</li>
<li>
<p>Click <strong>Save</strong> to apply the settings.</p>
</li>
</ol>
<p>For more information about approving workflow runs that this policy applies to, see <a href="/en/actions/managing-workflow-runs/approving-workflow-runs-from-public-forks">Approving workflow runs from public forks</a>.</p>
<h2><a href="#enabling-workflows-for-private-repository-forks">Enabling workflows for private repository forks</a></h2>
<p>If you rely on using forks of your private repositories, you can configure policies that control how users can run workflows on <code>pull_request</code> events. Available to private repositories only, you can configure these policy settings for organizations or repositories.</p>
<p>If a policy is disabled for an organization, it cannot be enabled for repositories. If an organization enables a policy, the policy can be disabled for individual repositories.</p>
<ul>
<li>
<strong>Run workflows from fork pull requests</strong> - Allows users to run workflows from fork pull requests, using a <code>GITHUB_TOKEN</code> with read-only permission, and with no access to secrets.</li>
<li>
<strong>Send write tokens to workflows from pull requests</strong> - Allows pull requests from forks to use a <code>GITHUB_TOKEN</code> with write permission.</li>
<li>
<strong>Send secrets to workflows from pull requests</strong> - Makes all secrets available to the pull request.</li>
<li>
<strong>Require approval for fork pull request workflows</strong> - Workflow runs on pull requests from collaborators without write permission will require approval from someone with write permission before they will run.</li>
</ul>
<h3><a href="#configuring-the-private-fork-policy-for-an-organization">Configuring the private fork policy for an organization</a></h3>
<ol>
<li>In the upper-right corner of GitHub, select your profile photo, then click </li>
<li>Next to the organization, click <strong>Settings</strong>.</li>
<li>In the left sidebar, click <strong>General</strong>.</li>
<li>Under <strong>Fork pull request workflows</strong>, select your options.</li>
<li>Click <strong>Save</strong> to apply the settings.</li>
</ol>
<h2><a href="#setting-the-permissions-of-the-github_token-for-your-organization">Setting the permissions of the <code>GITHUB_TOKEN</code> for your organization</a></h2>
<p>You can set the default permissions granted to the <code>GITHUB_TOKEN</code>. For more information about the <code>GITHUB_TOKEN</code>, see <a href="/en/actions/security-guides/automatic-token-authentication">Automatic token authentication</a>. You can choose a restricted set of permissions as the default, or apply permissive settings.</p>
<p>You can set the default permissions for the <code>GITHUB_TOKEN</code> in the settings for your organization or your repositories. If you select a restrictive option as the default in your organization settings, the same option is selected in the settings for repositories within your organization, and the permissive option is disabled. If your organization belongs to a GitHub Enterprise account and a more restrictive default has been selected in the enterprise settings, you won't be able to select the more permissive default in your organization settings.</p>
<p>Anyone with write access to a repository can modify the permissions granted to the <code>GITHUB_TOKEN</code>, adding or removing access as required, by editing the <code>permissions</code> key in the workflow file. For more information, see <a href="/en/actions/using-workflows/workflow-syntax-for-github-actions#permissions"><code>permissions</code></a>.</p>
<h3><a href="#configuring-the-default-github_token-permissions">Configuring the default <code>GITHUB_TOKEN</code> permissions</a></h3>
<p>By default, when you create a new organization, <code>GITHUB_TOKEN</code> only has read access for the <code>contents</code> and <code>packages</code> scopes.</p>
<ol>
<li>
<p>In the top right corner of GitHub, click your profile photo, then click <strong>Your profile</strong>.</p>
<div><picture><source><img src="/assets/cb-13593/images/help/profile/profile-button-avatar-menu-global-nav-update.png" alt="Screenshot of the dropdown menu under @octocat's profile picture. &quot;Your profile&quot; is outlined in dark orange." width="319" height="159"></source></picture></div>
</li>
<li>
<p>In the upper-right corner of GitHub, select your profile photo, then click </p>
</li>
<li>
<p>Next to the organization, click <strong>Settings</strong>.</p>
</li>
<li>
<p>In the left sidebar, click <strong>General</strong>.</p>
</li>
<li>
<p>Under "Workflow permissions", choose whether you want the <code>GITHUB_TOKEN</code> to have read and write access for all permissions (the permissive setting), or just read access for the <code>contents</code> and <code>packages</code> permissions (the restricted setting).</p>
</li>
<li>
<p>Click <strong>Save</strong> to apply the settings.</p>
</li>
</ol>
<h3><a href="#preventing-github-actions-from-creating-or-approving-pull-requests">Preventing GitHub Actions from creating or approving pull requests</a></h3>
<p>You can choose to allow or prevent GitHub Actions workflows from creating or approving pull requests.</p>
<p>By default, when you create a new organization, workflows are not allowed to create or approve pull requests.</p>
<ol>
<li>
<p>In the top right corner of GitHub, click your profile photo, then click <strong>Your profile</strong>.</p>
<div><picture><source><img src="/assets/cb-13593/images/help/profile/profile-button-avatar-menu-global-nav-update.png" alt="Screenshot of the dropdown menu under @octocat's profile picture. &quot;Your profile&quot; is outlined in dark orange." width="319" height="159"></source></picture></div>
</li>
<li>
<p>In the upper-right corner of GitHub, select your profile photo, then click </p>
</li>
<li>
<p>Next to the organization, click <strong>Settings</strong>.</p>
</li>
<li>
<p>In the left sidebar, click <strong>General</strong>.</p>
</li>
<li>
<p>Under "Workflow permissions", use the <strong>Allow GitHub Actions to create and approve pull requests</strong> setting to configure whether <code>GITHUB_TOKEN</code> can create and approve pull requests.</p>
</li>
<li>
<p>Click <strong>Save</strong> to apply the settings.</p>
</li>
</ol>
<h2><a href="#managing-github-actions-cache-storage-for-your-organization">Managing GitHub Actions cache storage for your organization</a></h2>
<p>Organization administrators can view GitHub Actions cache storage for all repositories in the organization.</p>
<h3><a href="#viewing-github-actions-cache-storage-by-repository">Viewing GitHub Actions cache storage by repository</a></h3>
<p>For each repository in your organization, you can see how much cache storage a repository is using, the number of active caches, and if a repository is near the total cache size limit. For more information about the cache usage and eviction process, see <a href="/en/actions/using-workflows/caching-dependencies-to-speed-up-workflows#usage-limits-and-eviction-policy">Caching dependencies to speed up workflows</a>.</p>
<ol>
<li>
<p>In the top right corner of GitHub, click your profile photo, then click <strong>Your profile</strong>.</p>
<div><picture><source><img src="/assets/cb-13593/images/help/profile/profile-button-avatar-menu-global-nav-update.png" alt="Screenshot of the dropdown menu under @octocat's profile picture. &quot;Your profile&quot; is outlined in dark orange." width="319" height="159"></source></picture></div>
</li>
<li>
<p>In the upper-right corner of GitHub, select your profile photo, then click </p>
</li>
<li>
<p>Next to the organization, click <strong>Settings</strong>.</p>
</li>
<li>
<p>In the left sidebar, click <strong>Caches</strong>.</p>
</li>
<li>
<p>Review the list of repositories for information about their GitHub Actions caches. You can click on a repository name to see more detail about the repository's caches.</p>
</li>
</ol>
</div></div></div>
</div>
</div></main>
</div></body></html>