<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="GitHub Actions" href="/en/actions">GitHub Actions</a><span>/</span>
</li>
<li>
<a title="Migrate to GitHub Actions" href="/en/actions/migrating-to-github-actions">Migrate to GitHub Actions</a><span>/</span>
</li>
<li>
<a title="Automated migrations" href="/en/actions/migrating-to-github-actions/using-github-actions-importer-to-automate-migrations">Automated migrations</a><span>/</span>
</li>
<li><a title="Supplemental arguments and settings" href="/en/actions/migrating-to-github-actions/using-github-actions-importer-to-automate-migrations/supplemental-arguments-and-settings">Supplemental arguments and settings</a></li>
</ul></nav></div>
<div>
<div><div><h1>Supplemental arguments and settings</h1></div></div>
<div><div><p>GitHub Actions Importer has several supplemental arguments and settings to tailor the migration process to your needs.</p></div></div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#optional-parameters"><div><span>Optional parameters</span></div></a></li>
<li><a href="#path-arguments"><div><span>Path arguments</span></div></a></li>
<li><a href="#using-a-proxy"><div><span>Using a proxy</span></div></a></li>
<li><a href="#disabling-ssl-certificate-verification"><div><span>Disabling SSL certificate verification</span></div></a></li>
<li><a href="#legal-notice"><div><span>Legal notice</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<p><a href="#legal-notice">Legal notice</a></p>
<p>This article provides general information for configuring GitHub Actions Importer's supplemental arguments and settings, such as optional parameters, path arguments, and network settings.</p>
<h2><a href="#optional-parameters">Optional parameters</a></h2>
<p>GitHub Actions Importer has several optional parameters that you can use to customize the migration process.</p>
<h3><a href="#limiting-allowed-actions">Limiting allowed actions</a></h3>
<p>The following options can be used to limit which actions are allowed in converted workflows. When used in combination, these options expand the list of allowed actions. If none of these options are supplied, then all actions are allowed.</p>
<ul>
<li>
<p><code>--allowed-actions</code> specifies a list of actions to allow in converted workflows. Wildcards are supported. Any other actions other than those provided will be disallowed.</p>
<p>For example:</p>
<pre><code>--allowed-actions actions/checkout@v4 actions/upload-artifact@* my-org/*
</code></pre>
<p>You can provide an empty list to disallow all actions. For example, <code>--allowed-actions=</code>.</p>
</li>
<li>
<p><code>--allow-verified-actions</code> specifies that all actions from verified creators are allowed.</p>
</li>
<li>
<p><code>--allow-github-created-actions</code> specifies that actions published from the <code>github</code> or <code>actions</code> organizations are allowed.</p>
<p>For example, such actions include <code>github/super-linter</code> and <code>actions/checkout</code>.</p>
<p>This option is equivalent to <code>--allowed-actions actions/* github/*</code>.</p>
</li>
</ul>
<h3><a href="#using-a-credentials-file-for-authentication">Using a credentials file for authentication</a></h3>
<p>The <code>--credentials-file</code> parameter specifies the path to a file containing credentials for different servers that GitHub Actions Importer can authenticate to. This is useful when build scripts (such as <code>.travis.yml</code> or <code>jenkinsfile</code>) are stored in multiple GitHub Enterprise Server instances.</p>
<p>A credentials file must be a YAML file containing a list of server and access token combinations. GitHub Actions Importer uses the credentials for the URL that most closely matches the network request being made.</p>
<p>For example:</p>
<pre><code><span>-</span> <span>url:</span> <span>https://github.com</span>
  <span>access_token:</span> <span>ghp_mygeneraltoken</span>
<span>-</span> <span>url:</span> <span>https://github.com/specific_org/</span>
  <span>access_token:</span> <span>ghp_myorgspecifictoken</span>
<span>-</span> <span>url:</span> <span>https://jenkins.org</span>
  <span>access_token:</span> <span>abc123</span>
  <span>username:</span> <span>marty_mcfly</span>
</code></pre>
<p>For the above credentials file, GitHub Actions Importer uses the access token <code>ghp_mygeneraltoken</code> to authenticate all network requests to <code>https://github.com</code>, <em>unless</em> the network request is for a repository in the <code>specific_org</code> organization. In that case, the <code>ghp_myorgspecifictoken</code> token is used to authenticate instead.</p>
<h4><a href="#alternative-source-code-providers">Alternative source code providers</a></h4>
<p>GitHub Actions Importer can automatically fetch source code from non-GitHub repositories. A credentials file can specify the <code>provider</code>, the provider URL, and the credentials needed to retrieve the source code.</p>
<p>For example:</p>
<pre><code><span>-</span> <span>url:</span> <span>https://gitlab.com</span>
  <span>access_token:</span> <span>super_secret_token</span>
  <span>provider:</span> <span>gitlab</span>
</code></pre>
<p>For the above example, GitHub Actions Importer uses the token <code>super_secret_token</code> to retrieve any source code that is hosted on <code>https://gitlab.com</code>.</p>
<p>Supported values for <code>provider</code> are:</p>
<ul>
<li>
<code>github</code> (default)</li>
<li><code>gitlab</code></li>
<li><code>bitbucket_server</code></li>
<li><code>azure_devops</code></li>
</ul>
<h3><a href="#controlling-optional-features">Controlling optional features</a></h3>
<p>You can use the <code>--features</code> option to limit the features used in workflows that GitHub Actions Importer creates. This is useful for excluding newer GitHub Actions syntax from workflows when migrating to an older GitHub Enterprise Server instance. When using the <code>--features</code> option, you must specify the version of GitHub Enterprise Server that you are migrating to.</p>
<p>For example:</p>
<pre><code>gh actions-importer dry-run ... --features ghes-3.3
</code></pre>
<p>The supported values for <code>--features</code> are:</p>
<ul>
<li>
<code>all</code> (default value)</li>
<li><code>ghes-latest</code></li>
<li>
<code>ghes-&lt;number&gt;</code>, where <code>&lt;number&gt;</code> is the version of GitHub Enterprise Server, <code>3.0</code> or later. For example, <code>ghes-3.3</code>.</li>
</ul>
<p>You can view the list of available feature flags by GitHub Actions Importer by running the <code>list-features</code> command. For example:</p>
<div>
<header><span>Shell</span><pre>gh actions-importer list-features
</pre></header><pre><code>gh actions-importer list-features
</code></pre>
</div>
<p>You should see an output similar to the following.</p>
<pre><code>Available feature flags:

actions/cache (disabled):
        Control usage of actions/cache inside of workflows. Outputs a comment if not enabled.
        GitHub Enterprise Server &gt;= ghes-3.5 required.

composite-actions (enabled):
        Minimizes resulting workflow complexity through the use of composite actions. See https://docs.github.com/en/actions/creating-actions/creating-a-composite-action for more information.
        GitHub Enterprise Server &gt;= ghes-3.4 required.

reusable-workflows (disabled):
        Avoid duplication by re-using existing workflows. See https://docs.github.com/en/actions/using-workflows/reusing-workflows for more information.
        GitHub Enterprise Server &gt;= ghes-3.4 required.

workflow-concurrency-option-allowed (enabled):
        Allows the use of the `concurrency` option in workflows. See https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#concurrency for more information.
        GitHub Enterprise Server &gt;= ghes-3.2 required.

Enable features by passing --enable-features feature-1 feature-2
Disable features by passing --disable-features feature-1 feature-2
</code></pre>
<p>To toggle feature flags, you can use either of the following methods:</p>
<ul>
<li>Use the <code>--enable-features</code> and <code>--disable-features</code> options when running a <code>gh actions-importer</code> command.</li>
<li>Use an environment variable for each feature flag.</li>
</ul>
<p>You can use the <code>--enable-features</code> and <code>--disable-features</code> options to select specific features to enable or disable for the duration of the command.
For example, the following command disables use of <code>actions/cache</code> and <code>composite-actions</code>:</p>
<pre><code>gh actions-importer dry-run ... --disable-features=composite-actions actions/cache
</code></pre>
<p>You can use the <code>configure --features</code> command to interactively configure feature flags and automatically write them to your environment:</p>
<pre><code><span>$ </span><span>gh actions-importer configure --features</span>

✔ Which features would you like to configure?: actions/cache, reusable-workflows
✔ actions/cache (disabled): Enable
? reusable-workflows (disabled):
› Enable
  Disable
</code></pre>
<h3><a href="#disabling-network-response-caching">Disabling network response caching</a></h3>
<p>By default, GitHub Actions Importer caches responses from network requests to reduce network load and reduce run time. You can use the <code>--no-http-cache</code> option to disable the network cache. For example:</p>
<pre><code>gh actions-importer forecast ... --no-http-cache
</code></pre>
<h2><a href="#path-arguments">Path arguments</a></h2>
<p>When running GitHub Actions Importer, path arguments are relative to the container's disk, so absolute paths relative to the container's host machine are not supported. When GitHub Actions Importer is run, the container's <code>/data</code> directory is mounted to the directory where GitHub Actions Importer is run.</p>
<p>For example, the following command, when used in the <code>/Users/mona</code> directory, outputs the GitHub Actions Importer audit summary to the <code>/Users/mona/out</code> directory:</p>
<pre><code>gh actions-importer audit --output-dir /data/out
</code></pre>
<h2><a href="#using-a-proxy">Using a proxy</a></h2>
<p>To access servers that are configured with a HTTP proxy, you must set the following environment variables with the proxy's URL:</p>
<ul>
<li>
<code>OCTOKIT_PROXY</code>: for any GitHub server.</li>
<li>
<code>HTTP_PROXY</code> (or <code>HTTPS_PROXY</code>): for any other servers.</li>
</ul>
<p>For example:</p>
<pre><code>export OCTOKIT_PROXY=https://proxy.example.com:8443
export HTTPS_PROXY=$OCTOKIT_PROXY
</code></pre>
<p>If the proxy requires authentication, a username and password must be included in the proxy URL. For example, <code>https://username:password@proxy.url:port</code>.</p>
<h2><a href="#disabling-ssl-certificate-verification">Disabling SSL certificate verification</a></h2>
<p>By default, GitHub Actions Importer verifies SSL certificates when making network requests. You can disable SSL certificate verification with the <code>--no-ssl-verify</code> option. For example:</p>
<pre><code>gh actions-importer audit --output-dir ./output --no-ssl-verify
</code></pre>
<h2><a href="#legal-notice">Legal notice</a></h2>
<p>Portions have been adapted from <a href="https://github.com/github/gh-actions-importer/">https://github.com/github/gh-actions-importer/</a> under the MIT license:</p>
<pre><code>MIT License

Copyright (c) 2022 GitHub

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
</code></pre>
</div></div></div>
</div>
</div></main>
</div></body></html>