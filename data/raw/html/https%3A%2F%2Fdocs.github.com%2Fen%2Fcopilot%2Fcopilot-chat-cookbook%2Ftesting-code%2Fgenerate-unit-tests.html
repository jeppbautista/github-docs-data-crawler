<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="GitHub Copilot" href="/en/copilot">GitHub Copilot</a><span>/</span>
</li>
<li>
<a title="Copilot Chat Cookbook" href="/en/copilot/copilot-chat-cookbook">Copilot Chat Cookbook</a><span>/</span>
</li>
<li>
<a title="Testing code" href="/en/copilot/copilot-chat-cookbook/testing-code">Testing code</a><span>/</span>
</li>
<li><a title="Generate unit tests" href="/en/copilot/copilot-chat-cookbook/testing-code/generate-unit-tests">Generate unit tests</a></li>
</ul></nav></div>
<div>
<div><div><h1>Generate unit tests</h1></div></div>
<div><div><p>Copilot Chat can help with generating unit tests for a function.</p></div></div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#example-scenario"><div><span>Example scenario</span></div></a></li>
<li><a href="#example-prompt"><div><span>Example prompt</span></div></a></li>
<li><a href="#example-response"><div><span>Example response</span></div></a></li>
<li><a href="#further-reading"><div><span>Further reading</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<p>A good suite of unit tests is critical to the success of any project. However, writing these tests can be time-consuming and are often neglected. Copilot Chat can help generate these tests for you.</p>
<h2><a href="#example-scenario">Example scenario</a></h2>
<p>Imagine you have a Python function which validates data before updating the database. You need to create unit tests to ensure the validation performs the way you expect. You can ask Copilot Chat to generate these tests for you.</p>
<pre><code><span>def</span> <span>validate_price</span>(<span>price: <span>float</span></span>):
  <span>if</span> price &lt;= <span>0</span>:
    <span>raise</span> ValueError(<span>"Price must be greater than 0"</span>)
  <span>if</span> price &gt; <span>1000</span>:
    <span>raise</span> ValueError(<span>"Price must be less than or equal to 1000"</span>)
</code></pre>
<h2><a href="#example-prompt">Example prompt</a></h2>
<p><code>/tests Generate unit tests for this function. Validate both success and failure, and include edge cases.</code></p>
<h2><a href="#example-response">Example response</a></h2>
<div>
<p> The following response is an example. Copilot Chat responses are non-deterministic, so you may get a different response from the one shown here.</p>
</div>
<p>If this is your first time asking Copilot Chat to generate unit tests, it may ask you if you wish to configure unit tests for your project. For this example, we are assuming you decline this offer.</p>
<p>Copilot will provide a strategy for generating the tests, and then provide the tests themselves.</p>
<pre><code><span>import</span> unittest
<span>from</span> generate_unit_tests <span>import</span> validate_price

<span>class</span> <span>TestValidateProduct</span>(unittest.TestCase):
  <span>def</span> <span>test_price_zero</span>(<span>self</span>):
    <span>with</span> self.assertRaises(ValueError) <span>as</span> context:
      validate_price(<span>0</span>)
    self.assertEqual(<span>str</span>(context.exception), <span>"Price must be greater than 0"</span>)

  <span>def</span> <span>test_price_negative</span>(<span>self</span>):
    <span>with</span> self.assertRaises(ValueError) <span>as</span> context:
      validate_price(-<span>10</span>)
    self.assertEqual(<span>str</span>(context.exception), <span>"Price must be greater than 0"</span>)

  <span>def</span> <span>test_price_above_limit</span>(<span>self</span>):
    <span>with</span> self.assertRaises(ValueError) <span>as</span> context:
      validate_price(<span>1500</span>)
    self.assertEqual(<span>str</span>(context.exception), <span>"Price must be less than or equal to 1000"</span>)

  <span>def</span> <span>test_price_edge_case_zero</span>(<span>self</span>):
    <span>with</span> self.assertRaises(ValueError) <span>as</span> context:
      validate_price(<span>0</span>)
    self.assertEqual(<span>str</span>(context.exception), <span>"Price must be greater than 0"</span>)

  <span>def</span> <span>test_price_edge_case_max</span>(<span>self</span>):
    <span>try</span>:
      validate_price(<span>1000</span>)
    <span>except</span> ValueError:
      self.fail(<span>"validate_price() raised ValueError unexpectedly!"</span>)

<span>if</span> __name__ == <span>'__main__'</span>:
  unittest.main()
</code></pre>
<h2><a href="#further-reading">Further reading</a></h2>
<ul>
<li><a href="/en/copilot/using-github-copilot/prompt-engineering-for-github-copilot">Prompt engineering for Copilot Chat</a></li>
<li><a href="/en/copilot/using-github-copilot/best-practices-for-using-github-copilot">Best practices for using GitHub Copilot</a></li>
</ul>
</div></div></div>
</div>
</div></main>
</div></body></html>