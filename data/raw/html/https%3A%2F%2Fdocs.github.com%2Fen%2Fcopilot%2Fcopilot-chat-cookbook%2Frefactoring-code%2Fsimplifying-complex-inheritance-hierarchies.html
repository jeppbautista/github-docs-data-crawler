<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="GitHub Copilot" href="/en/copilot">GitHub Copilot</a><span>/</span>
</li>
<li>
<a title="Copilot Chat Cookbook" href="/en/copilot/copilot-chat-cookbook">Copilot Chat Cookbook</a><span>/</span>
</li>
<li>
<a title="Refactoring code" href="/en/copilot/copilot-chat-cookbook/refactoring-code">Refactoring code</a><span>/</span>
</li>
<li><a title="Simplify inheritance hierarchies" href="/en/copilot/copilot-chat-cookbook/refactoring-code/simplifying-complex-inheritance-hierarchies">Simplify inheritance hierarchies</a></li>
</ul></nav></div>
<div>
<div><div><h1>Simplifying complex inheritance hierarchies</h1></div></div>
<div><div><p>Copilot Chat can help you to refactor code to avoid classes with multiple layers of inheritance.</p></div></div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#example-scenario"><div><span>Example scenario</span></div></a></li>
<li><a href="#example-prompt"><div><span>Example prompt</span></div></a></li>
<li><a href="#example-response"><div><span>Example response</span></div></a></li>
<li><a href="#further-reading"><div><span>Further reading</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<p>Deep inheritance hierarchies, or improper use of inheritance, can lead to code that is hard to maintain, making it difficult to follow relationships between classes, or to extend them without causing breakage.</p>
<p>Copilot Chat can suggest refactoring inheritance-based designs into more flexible composition-based designs (favoring composition over inheritance). It can also recommend applying patterns like Strategy or Decorator to make the system more extensible without adding complexity to the inheritance structure.</p>
<h2><a href="#example-scenario">Example scenario</a></h2>
<p>The following C# code has a deep inheritance hierarchy where each class builds on the previous one. The result is a long chain of inheritance that makes it difficult to know what properties each class has.</p>
<p>A multi-level inheritance hierarchy like this can be difficult to understand, modify, and extend.</p>
<pre><code><span>public</span> <span>class</span> <span>Employee</span>
{
    <span>public</span> <span>string</span> Name { <span>get</span>; <span>set</span>; }
    <span>public</span> <span>int</span> EmployeeID { <span>get</span>; <span>set</span>; }
}

<span>public</span> <span>class</span> <span>Manager</span> : <span>Employee</span>
{
    <span>public</span> <span>int</span> NumberOfTeams { <span>get</span>; <span>set</span>; }
}

<span>public</span> <span>class</span> <span>SeniorManager</span> : <span>Manager</span>
{
    <span>public</span> <span>string</span> Region { <span>get</span>; <span>set</span>; }
}

<span>public</span> <span>class</span> <span>Director</span> : <span>SeniorManager</span>
{
    <span>public</span> <span>int</span> NumberOfDepartments { <span>get</span>; <span>set</span>; }
}

<span>public</span> <span>class</span> <span>VicePresident</span> : <span>Director</span>
{
    <span>public</span> <span>string</span> Division { <span>get</span>; <span>set</span>; }
}

<span>public</span> <span>class</span> <span>President</span> : <span>VicePresident</span>
{
    <span>public</span> <span>string</span> Company { <span>get</span>; <span>set</span>; }
}
</code></pre>
<h2><a href="#example-prompt">Example prompt</a></h2>
<p>In this situation you might decide to use a parent <code>Employee</code> class whose properties other classes should inherit, but to avoid any other inheritance by defining all other properties separately for each class.</p>
<p><code>Refactor this code so that classes only inherit the properties of the Employee class. All of the other properties that each class currently inherits should instead be declared independently in each class definition.</code></p>
<h2><a href="#example-response">Example response</a></h2>
<div>
<p> The following response is an example. Copilot Chat responses are non-deterministic, so you may get a different response from the one shown here.</p>
</div>
<p>Copilot suggests the following code:</p>
<pre><code><span>public</span> <span>class</span> <span>Employee</span>
{
    <span>public</span> <span>string</span> Name { <span>get</span>; <span>set</span>; }
    <span>public</span> <span>int</span> EmployeeID { <span>get</span>; <span>set</span>; }
}

<span>public</span> <span>class</span> <span>Manager</span> : <span>Employee</span>
{
    <span>public</span> <span>int</span> NumberOfTeams { <span>get</span>; <span>set</span>; }
}

<span>public</span> <span>class</span> <span>SeniorManager</span> : <span>Employee</span>
{
    <span>public</span> <span>int</span> NumberOfTeams { <span>get</span>; <span>set</span>; }
    <span>public</span> <span>string</span> Region { <span>get</span>; <span>set</span>; }
}

<span>public</span> <span>class</span> <span>Director</span> : <span>Employee</span>
{
    <span>public</span> <span>int</span> NumberOfTeams { <span>get</span>; <span>set</span>; }
    <span>public</span> <span>string</span> Region { <span>get</span>; <span>set</span>; }
    <span>public</span> <span>int</span> NumberOfDepartments { <span>get</span>; <span>set</span>; }
}

<span>public</span> <span>class</span> <span>VicePresident</span> : <span>Employee</span>
{
    <span>public</span> <span>int</span> NumberOfTeams { <span>get</span>; <span>set</span>; }
    <span>public</span> <span>string</span> Region { <span>get</span>; <span>set</span>; }
    <span>public</span> <span>int</span> NumberOfDepartments { <span>get</span>; <span>set</span>; }
    <span>public</span> <span>string</span> Division { <span>get</span>; <span>set</span>; }
}

<span>public</span> <span>class</span> <span>President</span> : <span>Employee</span>
{
    <span>public</span> <span>int</span> NumberOfTeams { <span>get</span>; <span>set</span>; }
    <span>public</span> <span>string</span> Region { <span>get</span>; <span>set</span>; }
    <span>public</span> <span>int</span> NumberOfDepartments { <span>get</span>; <span>set</span>; }
    <span>public</span> <span>string</span> Division { <span>get</span>; <span>set</span>; }
    <span>public</span> <span>string</span> Company { <span>get</span>; <span>set</span>; }
}
</code></pre>
<h2><a href="#further-reading">Further reading</a></h2>
<ul>
<li><a href="/en/copilot/using-github-copilot/prompt-engineering-for-github-copilot">Prompt engineering for Copilot Chat</a></li>
<li><a href="/en/copilot/using-github-copilot/best-practices-for-using-github-copilot">Best practices for using GitHub Copilot</a></li>
</ul>
</div></div></div>
</div>
</div></main>
</div></body></html>