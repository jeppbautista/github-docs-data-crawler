<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="GitHub Actions" href="/en/actions">GitHub Actions</a><span>/</span>
</li>
<li>
<a title="Write workflows" href="/en/actions/writing-workflows">Write workflows</a><span>/</span>
</li>
<li>
<a title="Choose what workflows do" href="/en/actions/writing-workflows/choosing-what-your-workflow-does">Choose what workflows do</a><span>/</span>
</li>
<li><a title="Environments" href="/en/actions/writing-workflows/choosing-what-your-workflow-does/using-environments-for-deployment">Environments</a></li>
</ul></nav></div>
<div>
<div><div><h1>Using environments for deployment</h1></div></div>
<div><div><p>Specify a deployment environment in your workflow.</p></div></div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#about-environments"><div><span>About environments</span></div></a></li>
<li><a href="#using-an-environment-in-a-workflow"><div><span>Using an environment in a workflow</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<h2><a href="#about-environments">About environments</a></h2>
<p>Environments are used to describe a general deployment target like <code>production</code>, <code>staging</code>, or <code>development</code>. When a GitHub Actions workflow deploys to an environment, the environment is displayed on the main page of the repository. You can use environments to require approval for a job to proceed, restrict which branches can trigger a workflow, gate deployments with custom deployment protection rules, or limit access to secrets. For more information about creating environments, see <a href="/en/actions/deployment/targeting-different-environments/managing-environments-for-deployment">Managing environments for deployment</a>.</p>
<p>Each job in a workflow can reference a single environment. Any protection rules configured for the environment must pass before a job referencing the environment is sent to a runner. The job can access the environment's secrets only after the job is sent to a runner.</p>
<p>When a workflow references an environment, the environment will appear in the repository's deployments. For more information about viewing current and previous deployments, see <a href="/en/actions/deployment/managing-your-deployments/viewing-deployment-history">Viewing deployment history</a>.</p>
<h2><a href="#using-an-environment-in-a-workflow">Using an environment in a workflow</a></h2>
<p>You can specify an environment for each job in your workflow. To do so, add a <a href="/en/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idenvironment"><code>jobs.&lt;job_id&gt;.environment</code></a> key followed by the name of the environment.</p>
<p>For example, this workflow will use an environment called <code>production</code>.</p>
<pre><code><span>name:</span> <span>Deployment</span>

<span>on:</span>
  <span>push:</span>
    <span>branches:</span>
      <span>-</span> <span>main</span>

<span>jobs:</span>
  <span>deployment:</span>
    <span>runs-on:</span> <span>ubuntu-latest</span>
    <span>environment:</span> <span>production</span>
    <span>steps:</span>
      <span>-</span> <span>name:</span> <span>deploy</span>
        <span># ...deployment-specific steps</span>
</code></pre>
<p>When the above workflow runs, the <code>deployment</code> job will be subject to any rules configured for the <code>production</code> environment. For example, if the environment requires reviewers, the job will pause until one of the reviewers approves the job.</p>
<p>You can also specify a URL for the environment. The specified URL will appear on the deployments page for the repository (accessed by clicking <strong>Environments</strong> on the home page of your repository) and in the visualization graph for the workflow run. If a pull request triggered the workflow, the URL is also displayed as a <strong>View deployment</strong> button in the pull request timeline. When using the "Require deployments to succeed before merging" rule, only the <code>name</code> specified is being checked even if a URL has also been specified. See <a href="/en/repositories/configuring-branches-and-merges-in-your-repository/managing-protected-branches/about-protected-branches#require-deployments-to-succeed-before-merging">About protected branches</a>.</p>
<pre><code><span>name:</span> <span>Deployment</span>

<span>on:</span>
  <span>push:</span>
    <span>branches:</span>
      <span>-</span> <span>main</span>

<span>jobs:</span>
  <span>deployment:</span>
    <span>runs-on:</span> <span>ubuntu-latest</span>
    <span>environment:</span> 
      <span>name:</span> <span>production</span>
      <span>url:</span> <span>https://github.com</span>
    <span>steps:</span>
      <span>-</span> <span>name:</span> <span>deploy</span>
        <span># ...deployment-specific steps</span>
</code></pre>
</div></div></div>
</div>
</div></main>
</div></body></html>