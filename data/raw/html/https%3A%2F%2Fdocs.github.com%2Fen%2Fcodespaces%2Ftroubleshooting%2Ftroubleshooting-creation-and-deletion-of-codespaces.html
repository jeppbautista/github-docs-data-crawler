<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="Codespaces" href="/en/codespaces">Codespaces</a><span>/</span>
</li>
<li>
<a title="Troubleshooting" href="/en/codespaces/troubleshooting">Troubleshooting</a><span>/</span>
</li>
<li><a title="Creation and deletion" href="/en/codespaces/troubleshooting/troubleshooting-creation-and-deletion-of-codespaces">Creation and deletion</a></li>
</ul></nav></div>
<div>
<div><div><h1>Troubleshooting creation and deletion of codespaces</h1></div></div>
<div><div><p>This article provides troubleshooting steps for common issues you may experience when creating or deleting a codespace, including storage and configuration issues.</p></div></div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#creating-codespaces"><div><span>Creating codespaces</span></div></a></li>
<li><a href="#deleting-codespaces"><div><span>Deleting codespaces</span></div></a></li>
<li><a href="#container-storage"><div><span>Container storage</span></div></a></li>
<li><a href="#configuration"><div><span>Configuration</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<h2><a href="#creating-codespaces">Creating codespaces</a></h2>
<h3><a href="#no-access-to-create-a-codespace">No access to create a codespace</a></h3>
<p>GitHub Codespaces is not available for all repositories. If the options for creating a codespace are not displayed, GitHub Codespaces may not be available for that repository.</p>
<p>If you have remaining monthly included usage of GitHub Codespaces on your personal account, or you have set up a payment method and a spending limit, you can create a codespace for any public repository.</p>
<p>You can also create a codespace for any private repository to which you have at least read access, provided this private repository is owned by a personal account. If a repository is private and is owned by an organization, you may or may not be able to create a codespace for that repository, depending on the settings of the organization or its parent enterprise.</p>
<p>If you can't create a codespace for a repository, this may be due to one of the following organization or enterprise settings.</p>
<ul>
<li>Organization and enterprise owners can choose which users can access GitHub Codespaces in an organization's private  repositories. For more information, see <a href="/en/codespaces/managing-codespaces-for-your-organization/enabling-or-disabling-github-codespaces-for-your-organization">Enabling or disabling GitHub Codespaces for your organization</a>.</li>
<li>Organization and enterprise owners can disable forking for some or all of an organization's private repositories. If you only have read access to a repository, and you cannot fork it, then you cannot create a codespace for that repository. For more information, see <a href="/en/organizations/managing-organization-settings/managing-the-forking-policy-for-your-organization">Managing the forking policy for your organization</a>.</li>
</ul>
<p>For information about other organization and enterprise settings that can affect whether you can create a codespace, see <a href="/en/codespaces/managing-codespaces-for-your-organization/enabling-or-disabling-github-codespaces-for-your-organization#prerequisites-for-enabling-github-codespaces">Enabling or disabling GitHub Codespaces for your organization</a>.</p>
<p>For more information about included usage for personal accounts, and setting a spending limit, see <a href="/en/billing/managing-billing-for-your-products/managing-billing-for-github-codespaces/about-billing-for-github-codespaces">About billing for GitHub Codespaces</a> and <a href="/en/billing/managing-billing-for-your-products/managing-billing-for-github-codespaces/managing-the-spending-limit-for-github-codespaces">Managing the spending limit for GitHub Codespaces</a>.</p>
<h3><a href="#codespace-does-not-open-when-created">Codespace does not open when created</a></h3>
<p>If you create a codespace and it does not open:</p>
<ol>
<li>Try reloading the page in case there was a caching or reporting problem.</li>
<li>Go to your GitHub Codespaces page: <a href="https://github.com/codespaces">https://github.com/codespaces</a> and check whether the new codespace is listed there. The process may have successfully created the codespace but failed to report back to your browser. If the new codespace is listed, you can open it directly from that page.</li>
<li>Retry creating the codespace for the repository to rule out a transient communication failure.</li>
</ol>
<p>If you still cannot create a codespace for a repository where GitHub Codespaces is available, you may need to contact support. For more information, see <a href="/en/codespaces/troubleshooting/working-with-support-for-github-codespaces">Working with support for GitHub Codespaces</a>.</p>
<h3><a href="#codespace-creation-fails">Codespace creation fails</a></h3>
<p>If the creation of a codespace fails, it's likely to be due to a temporary infrastructure issue in the cloud - for example, a problem provisioning a virtual machine for the codespace. A less common reason for failure is if it takes longer than an hour to build the container. In this case, the build is canceled and codespace creation will fail.</p>
<div>
<p>
A codespace that was not successfully created is never going to be usable and should be deleted. For more information, see <a href="/en/codespaces/developing-in-a-codespace/deleting-a-codespace">Deleting a codespace</a>.</p>
</div>
<p>If you create a codespace and the creation fails:</p>
<ol>
<li>
<p>Check GitHub's <a href="https://githubstatus.com">Status page</a> for any active incidents.</p>
</li>
<li>
<p>Go to <a href="https://github.com/codespaces">your GitHub Codespaces page</a>, delete the codespace, and create a new codespace.</p>
</li>
<li>
<p>If the container is building, look at the logs that are streaming and make sure the build is not stuck. A container build that takes longer than one hour will be canceled, resulting in a failed creation.</p>
<p>One common scenario where this could happen is if you have a script running that is prompting for user input and waiting for an answer. If this is the case, remove the interactive prompt so that the build can complete non-interactively.</p>
</li>
</ol>
<div>
<p>
To view the logs during a build:</p>
<ul>
<li>
<p><strong>In the browser</strong>, if the initial steps of the build process take more than a few seconds, the "Setting up your codespace" page is displayed. Click <strong>View logs.</strong></p>
<p><picture><source><img src="/assets/cb-17020/images/help/codespaces/web-ui-view-logs.png" alt='Screenshot of the "Setting up your codespace" page in a browser. The link "View logs" is highlighted with a dark orange outline.' width="685" height="192"></source></picture></p>
</li>
<li>
<p><strong>In the VS Code desktop application</strong>, click <strong>Building codespace</strong> in the "Setting up remote connection" popup message that's displayed.</p>
<p><picture><source><img src="/assets/cb-24407/images/help/codespaces/vs-code-building-codespace.png" alt='Screenshot of a popup message in VS Code, reading "Setting up remote connection: Building codespace."' width="670" height="111"></source></picture></p>
<p>Log messages are printed to the Terminal in VS Code</p>
</li>
</ul>
</div>
<ol>
<li>If you have a container that takes a long time to build, consider using prebuilds to speed up codespace creations. For more information, see <a href="/en/codespaces/prebuilding-your-codespaces/configuring-prebuilds#configuring-prebuilds">Configuring prebuilds</a>.</li>
</ol>
<h2><a href="#deleting-codespaces">Deleting codespaces</a></h2>
<p>A codespace can only be deleted by:</p>
<ul>
<li>The person who created the codespace</li>
<li>An organization owner for an organization-owned codespace</li>
<li>Automatic deletion at the end of a retention period</li>
</ul>
<p>For more information, see <a href="/en/codespaces/developing-in-a-codespace/deleting-a-codespace">Deleting a codespace</a> and <a href="/en/codespaces/setting-your-user-preferences/configuring-automatic-deletion-of-your-codespaces">Configuring automatic deletion of your codespaces</a>.</p>
<h2><a href="#container-storage">Container storage</a></h2>
<p>When you create a codespace, it has a finite amount of storage and over time it may be necessary for you to free up space. Try running any of the following commands in the GitHub Codespaces terminal to free up storage space.</p>
<ul>
<li>Remove packages that are no longer used by using <code>sudo apt autoremove</code>.</li>
<li>Clean the apt cache by using <code>sudo apt clean</code>.</li>
<li>See the top 10 largest files in the codespace with<code>sudo find / -printf '%s %p\n'| sort -nr | head -10</code>.</li>
<li>Delete unneeded files, such as build artifacts and logs.</li>
</ul>
<p>Some more destructive options:</p>
<ul>
<li>Remove unused Docker images, networks, and containers by using <code>docker system prune</code> (append <code>-a</code> if you want to remove all images, and <code>--volumes</code> if you want to remove all volumes).</li>
<li>Remove untracked files from working tree: <code>git clean -i</code>.</li>
</ul>
<h2><a href="#configuration">Configuration</a></h2>
<p>If changes to your dev container configuration cause a container error, your codespace will run in recovery mode, and you will see an error message.</p>
<pre><code>This codespace is currently running in recovery mode due to a container error.
</code></pre>
<p>Review the creation logs and update the dev container configuration as needed. For more information, see <a href="/en/codespaces/troubleshooting/github-codespaces-logs">GitHub Codespaces logs</a>.</p>
<p>You can then try restarting the codespace, or rebuilding the container. For more information on rebuilding the container, see <a href="/en/codespaces/setting-up-your-project-for-codespaces/adding-a-dev-container-configuration/introduction-to-dev-containers#applying-configuration-changes-to-a-codespace">Introduction to dev containers</a>.</p>
</div></div></div>
</div>
</div></main>
</div></body></html>