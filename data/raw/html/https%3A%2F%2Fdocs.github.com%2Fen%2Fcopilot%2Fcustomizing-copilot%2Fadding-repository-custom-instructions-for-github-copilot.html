<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="GitHub Copilot" href="/en/copilot">GitHub Copilot</a><span>/</span>
</li>
<li>
<a title="Customize Copilot" href="/en/copilot/customizing-copilot">Customize Copilot</a><span>/</span>
</li>
<li><a title="Repository custom instructions" href="/en/copilot/customizing-copilot/adding-repository-custom-instructions-for-github-copilot">Repository custom instructions</a></li>
</ul></nav></div>
<div>
<div><div><h1>Adding repository custom instructions for GitHub Copilot</h1></div></div>
<div>
<div><p>Create a file in a repository that gives Copilot additional context for the work it does in that repository.</p></div>
<div>
<h2>Tool navigation</h2>
<nav><ul>
<li><a href="?tool=visualstudio"><span>Visual Studio</span></a></li>
<li><a href="?tool=vscode"><span>Visual Studio Code</span></a></li>
<li><a href="?tool=webui"><span>Web browser</span></a></li>
</ul></nav>
</div>
</div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#about-repository-custom-instructions-for-copilot"><div><span>About repository custom instructions for Copilot</span></div></a></li>
<li><a href="#about-repository-custom-instructions-and-prompt-files-for-github-copilot-chat"><div><span>About repository custom instructions and prompt files for GitHub Copilot Chat</span></div></a></li>
<li><a href="#about-repository-custom-instructions-for-github-copilot-chat"><div><span>About repository custom instructions for GitHub Copilot Chat</span></div></a></li>
<li><a href="#prerequisites-for-repository-custom-instructions"><div><span>Prerequisites for repository custom instructions</span></div></a></li>
<li><a href="#creating-a-repository-custom-instructions-file"><div><span>Creating a repository custom instructions file</span></div></a></li>
<li><a href="#writing-effective-repository-custom-instructions"><div><span>Writing effective repository custom instructions</span></div></a></li>
<li><a href="#repository-custom-instructions-in-use"><div><span>Repository custom instructions in use</span></div></a></li>
<li><a href="#enabling-or-disabling-repository-custom-instructions"><div><span>Enabling or disabling repository custom instructions</span></div></a></li>
<li><a href="#enabling-and-using-prompt-files"><div><span>Enabling and using prompt files</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<div>
<div>
<p>This feature is currently in public preview and is subject to change.</p>
<p> Repository custom instructions are currently supported for Copilot Chat in Visual Studio, VS Code and on the GitHub website. They are also supported for Copilot coding agent.</p>
<p>This version of this article is for using repository custom instructions on the GitHub website. Click the tabs above for information on using custom instructions in other environments. </p>
</div>
<p>For an overview of the methods you can use to customize GitHub Copilot Chat responses, see <a href="/en/copilot/customizing-copilot/about-customizing-github-copilot-chat-responses?tool=webui">About customizing GitHub Copilot Chat responses</a>. For information on customizing Copilot coding agent see <a href="/en/copilot/customizing-copilot/customizing-the-development-environment-for-copilot-coding-agent">Customizing the development environment for Copilot coding agent</a>.</p>
<h2><a href="#about-repository-custom-instructions-for-copilot">About repository custom instructions for Copilot</a></h2>
<p>GitHub Copilot can provide chat responses that are tailored to the way your team works, the tools you use, or the specifics of your project, if you provide it with enough context to do so. Instead of repeatedly adding this contextual detail to your chat questions, you can create a file in your repository that automatically adds this information for you. The additional information is not displayed in the chat, but is available to Copilot to allow it to generate higher quality responses.</p>
<p>The custom instructions file is also used by Copilot when you assign it to an issue or ask it to create a pull request. Instructions included in this file can help Copilot to work on files in a way that matches your team's working practices and conforms to coding standards for your project. See <a href="/en/copilot/using-github-copilot/coding-agent/about-assigning-tasks-to-copilot">About assigning tasks to Copilot</a>.</p>
<h3><a href="#example">Example</a></h3>
<p>This example of a <code>.github/copilot-instructions.md</code> file contains three instructions that will be added to all chat questions.</p>
<pre><code>We use Bazel for managing our Java dependencies, not Maven, so when talking about Java packages, always give me instructions and code samples that use Bazel.

We always write JavaScript with double quotes and tabs for indentation, so when your responses include JavaScript code, please follow those conventions.

Our team uses Jira for tracking items of work.
</code></pre>
</div>
<div>
<div>
<p> Repository custom instructions are currently supported for Copilot Chat in Visual Studio, VS Code and on the GitHub website.</p>
<p>This version of this article is for using repository custom instructions in VS Code. Click the tabs above for instructions on using custom instructions in other environments. </p>
</div>
<p>For an overview of the methods you can use to customize GitHub Copilot Chat responses, see <a href="/en/copilot/customizing-copilot/about-customizing-github-copilot-chat-responses?tool=vscode">About customizing GitHub Copilot Chat responses</a>.</p>
<h2><a href="#about-repository-custom-instructions-and-prompt-files-for-github-copilot-chat">About repository custom instructions and prompt files for GitHub Copilot Chat</a></h2>
<p>GitHub Copilot can provide chat responses that are tailored to the way your team works, the tools you use, or the specifics of your project, if you provide it with enough context to do so. Instead of repeatedly adding this contextual detail to your chat questions, you can create files in your repository that automatically add this information for you.</p>
<p>There are two types of files you can use to provide context and instructions to GitHub Copilot Chat in VS Code:</p>
<ul>
<li>
<strong>Repository custom instructions</strong> allow you to specify repository-wide instructions and preferences, in a single file, that apply to any conversation held in the context of the repository.</li>
<li>
<strong>Prompt files</strong> (public preview) allow you to save common prompt instructions and relevant context in Markdown files (<code>*.prompt.md</code>) that you can then reuse in your chat prompts. Prompt files are only available in VS Code.</li>
</ul>
<p>While custom instructions help to add codebase-wide context to each AI workflow, prompt files let you add instructions to a specific chat interaction.</p>
<h3><a href="#repository-custom-instructions-example">Repository custom instructions example</a></h3>
<p>This example of a <code>.github/copilot-instructions.md</code> file contains three instructions that will be added to all chat questions.</p>
<pre><code>We use Bazel for managing our Java dependencies, not Maven, so when talking about Java packages, always give me instructions and code samples that use Bazel.

We always write JavaScript with double quotes and tabs for indentation, so when your responses include JavaScript code, please follow those conventions.

Our team uses Jira for tracking items of work.
</code></pre>
<h3><a href="#prompt-file-examples">Prompt file examples</a></h3>
<p>The following examples demonstrate how to use prompt files.</p>
<ul>
<li>
<p><code>New React form.prompt.md</code> - contains instructions for a reusable task to generate a form using React.</p>
<pre><code>Your goal is to generate a new React form component.

Ask for the form name and fields if not provided.

Requirements for the form:
<span>-</span> Use form design system components: [<span>design-system/Form.md</span>](<span>../docs/design-system/Form.md</span>)
<span>-</span> Use <span>`react-hook-form`</span> for form state management:
<span>  -</span> Always define TypeScript types for your form data
<span>  -</span> Prefer <span>*uncontrolled*</span> components using register
<span>  -</span> Use <span>`defaultValues`</span> to prevent unnecessary rerenders
<span>-</span> Use <span>`yup`</span> for validation:
<span>  -</span> Create reusable validation schemas in separate files
<span>  -</span> Use TypeScript types to ensure type safety
<span>  -</span> Customize UX-friendly validation rules
</code></pre>
</li>
<li>
<p><code>API security review.prompt.md</code> - contains reusable information about security practices for REST APIs, which can be used to do security reviews of REST APIs.</p>
<pre><code>Secure REST API review:
<span>-</span> Ensure all endpoints are protected by authentication and authorization
<span>-</span> Validate all user inputs and sanitize data
<span>-</span> Implement rate limiting and throttling
<span>-</span> Implement logging and monitoring for security events
…
</code></pre>
</li>
</ul>
</div>
<div>
<div>
<p>This feature is currently in public preview and is subject to change.</p>
<p> Repository custom instructions are currently supported for Copilot Chat in Visual Studio, VS Code and on the GitHub website.</p>
<p>This version of this article is for using repository custom instructions in Visual Studio. Click the tabs above for instructions on using custom instructions in other environments. </p>
</div>
<p>For an overview of the methods you can use to customize GitHub Copilot Chat responses, see <a href="/en/copilot/customizing-copilot/about-customizing-github-copilot-chat-responses?tool=visualstudio">About customizing GitHub Copilot Chat responses</a>.</p>
<h2><a href="#about-repository-custom-instructions-for-github-copilot-chat">About repository custom instructions for GitHub Copilot Chat</a></h2>
<p>GitHub Copilot can provide chat responses that are tailored to the way your team works, the tools you use, or the specifics of your project, if you provide it with enough context to do so. Instead of repeatedly adding this contextual detail to your chat questions, you can create a file in your repository that automatically adds this information for you. The additional information is not displayed in the chat, but is available to Copilot to allow it to generate higher quality responses.</p>
<h3><a href="#example-1">Example</a></h3>
<p>This example of a <code>.github/copilot-instructions.md</code> file contains three instructions that will be added to all chat questions.</p>
<pre><code>We use Bazel for managing our Java dependencies, not Maven, so when talking about Java packages, always give me instructions and code samples that use Bazel.

We always write JavaScript with double quotes and tabs for indentation, so when your responses include JavaScript code, please follow those conventions.

Our team uses Jira for tracking items of work.
</code></pre>
</div>
<h2><a href="#prerequisites-for-repository-custom-instructions">Prerequisites for repository custom instructions</a></h2>
<ul>
<li>A custom instructions file (see the instructions below).</li>
</ul>
<div>
<ul>
<li>Your personal choice of whether to use custom instructions must be set to enabled. This is enabled by default. See <a href="#enabling-or-disabling-repository-custom-instructions">Enabling or disabling repository custom instructions</a> later in this article.</li>
<li>During the public preview, if you're using a Copilot Business  plan, the organization  that provides your plan must have the <strong>Opt in to preview features</strong> setting enabled. See <a href="/en/enterprise-cloud@latest/copilot/managing-copilot/managing-github-copilot-in-your-organization/managing-policies-for-copilot-in-your-organization#enabling-copilot-features-in-your-organization">Managing policies for Copilot in your organization</a>.</li>
</ul>
</div>
<div>
<ul>
<li>The <strong>Use Instruction Files</strong> option must be enabled in your settings. This is enabled by default. See <a href="#enabling-or-disabling-repository-custom-instructions">Enabling or disabling repository custom instructions</a> later in this article.</li>
</ul>
</div>
<div>
<ul>
<li>The <strong>Enable custom instructions</strong> option must be enabled in your settings. This is disabled by default. See <a href="#enabling-or-disabling-repository-custom-instructions">Enabling or disabling repository custom instructions</a> later in this article.</li>
</ul>
</div>
<h2><a href="#creating-a-repository-custom-instructions-file">Creating a repository custom instructions file</a></h2>
<ol>
<li>
<p>In the root of your repository, create a file named <code>.github/copilot-instructions.md</code>.</p>
<p>Create the <code>.github</code> directory if it does not already exist.</p>
</li>
<li>
<p>Add natural language instructions to the file, in Markdown format.</p>
<p>Whitespace between instructions is ignored, so the instructions can be written as a single paragraph, each on a new line, or separated by blank lines for legibility.</p>
</li>
</ol>
<p>To see your instructions in action, go to <a href="https://github.com/copilot">https://github.com/copilot</a>, attach the repository containing the instructions file, and start a conversation.</p>
<div>
<p>Did you successfully add a custom instructions file to your repository?</p>
<p><a href="https://docs.github.io/success-test/yes.html"><span>Yes</span></a>  <a href="https://docs.github.io/success-test/no.html"><span>No</span></a></p>
</div>
<h2><a href="#writing-effective-repository-custom-instructions">Writing effective repository custom instructions</a></h2>
<p>The instructions you add to the <code>.github/copilot-instructions.md</code> file should be short, self-contained statements that add context or relevant information to supplement users' chat questions.</p>
<p>You should also consider the size and complexity of your repository. The following types of instructions may work for a small repository with only a few contributors, but for a large and diverse repository, they may cause problems with other areas of Copilot:</p>
<ul>
<li>Requests to refer to external resources when formulating a response</li>
<li>Instructions to answer in a particular style</li>
<li>Requests to always respond with a certain level of detail</li>
</ul>
<p>For example, the following instructions may not have the intended results:</p>
<pre><code>Always conform to the coding styles defined in styleguide.md in repo my-org/my-repo when generating code.

Use @terminal when answering questions about Git.

Answer all questions in the style of a friendly colleague, using informal language.

Answer all questions in less than 1000 characters, and words of no more than 12 characters.
</code></pre>
<h2><a href="#repository-custom-instructions-in-use">Repository custom instructions in use</a></h2>
<div>
<p>The instructions in the <code>.github/copilot-instructions.md</code> file are available for use by Copilot Chat as soon as you save the file. The complete set of instructions will be automatically added to chat prompts that relate to the repository containing the instructions file.</p>
<p>In Copilot Chat's immersive view (<a href="https://github.com/copilot">github.com/copilot</a>), you can start a conversation that uses repository custom instructions by adding, as an attachment, the repository that contains the instructions file.</p>
<p>Whenever repository custom instructions are used by Copilot Chat, the instructions file is added as a reference for the response that's generated. To find out whether repository custom instructions were used, expand the list of references at the top of a chat response in the Chat panel and check whether the <code>.github/copilot-instructions.md</code> file is listed.</p>
<p><picture><source><img src="/assets/cb-42321/images/help/copilot/custom-instructions-ref-in-github.png" alt="Screenshot of an expanded References list, showing the 'copilot-instructions.md' file highlighted with a dark orange outline." width="720" height="264"></source></picture></p>
<p>You can click the reference to open the file.</p>
<div>
<ul>
<li>It is possible for multiple types of custom instructions to apply to a conversation. Personal instructions take the highest priority, followed by repository instructions, with organization instructions prioritized last.  However, all sets of relevant instructions are still combined and provided to Copilot Chat.</li>
<li>Whenever possible, you should avoid providing conflicting sets of instructions. If you are concerned about response quality, you can also choose to temporarily disable repository instructions. See <a href="/en/copilot/customizing-copilot/adding-repository-custom-instructions-for-github-copilot?tool=webui#enabling-or-disabling-repository-custom-instructions">Adding repository custom instructions for GitHub Copilot</a>.</li>
</ul>
</div>
</div>
<div>
<p>The instructions in the <code>.github/copilot-instructions.md</code> file are available for use by Copilot Chat as soon as you save the file. The complete set of instructions will be automatically attached to requests that you submit in either the Copilot Chat view, or in inline chat.</p>
<p>Custom instructions are not visible in the Chat view or inline chat, but you can verify that they are being used by Copilot by looking at the References list of a response in the Chat view. If custom instructions were added to the prompt that was sent to the model, the <code>.github/copilot-instructions.md</code> file is listed as a reference. You can click the reference to open the file.</p>
<p><picture><source><img src="/assets/cb-28337/images/help/copilot/custom-instructions-vscode.png" alt="Screenshot of an expanded References list, showing the 'copilot-instructions.md' file highlighted with a dark orange outline."></source></picture></p>
</div>
<div>
<p>The instructions in the <code>.github/copilot-instructions.md</code> file are available for use by Copilot Chat as soon as you save the file. The complete set of instructions will be automatically attached to requests that you submit in either the Copilot Chat view, or in inline chat.</p>
<p>Custom instructions are not visible in the Chat view or inline chat, but you can verify that they are being used by Copilot by looking at the References list of a response in the Chat view. If custom instructions were added to the prompt that was sent to the model, the <code>.github/copilot-instructions.md</code> file is listed as a reference. You can click the reference to open the file.</p>
<p><picture><source><img src="/assets/cb-24107/images/help/copilot/custom-instruction-ref-visual-studio.png" alt="Screenshot of the References popup, showing the 'copilot-instructions.md' file highlighted with a dark orange outline."></source></picture></p>
</div>
<h2><a href="#enabling-or-disabling-repository-custom-instructions">Enabling or disabling repository custom instructions</a></h2>
<p>You can choose whether or not to have custom instructions added to your chat questions.</p>
<div>
<ol>
<li>
<p>Click the </p>
</li>
<li>
<p>Click <strong>Disable custom instructions</strong> or <strong>Enable custom instructions</strong>.</p>
<div>
<p>
In immersive mode, you will only see these options if you have attached a repository that contains a custom instructions file.</p>
</div>
</li>
</ol>
<p>Your choice persists until you change it.</p>
</div>
<div>
<ol>
<li>Open the Setting editor by using the keyboard shortcut <kbd>Command</kbd>+<kbd>,</kbd> (Mac) / <kbd>Ctrl</kbd>+<kbd>,</kbd> (Linux/Windows).</li>
<li>Type <code>instruction file</code> in the search box.</li>
<li>Select or clear the checkbox under <strong>Code Generation: Use Instruction Files</strong>.</li>
</ol>
</div>
<div>
<ol>
<li>
<p>In the Visual Studio menu bar, under <strong>Tools</strong>, click <strong>Options</strong>.</p>
<div><picture><source><img src="/assets/cb-37169/images/help/copilot/vs-toolbar-options.png" alt='Screenshot of the Visual Studio menu bar. The "Tools" menu is expanded, and the "Options" item is highlighted with an orange outline.'></source></picture></div>
</li>
<li>
<p>In the "Options" dialog, type <code>custom instructions</code> in the search box, then click <strong>Copilot</strong>.</p>
</li>
<li>
<p>Select or clear the checkbox for <strong>(Preview) Enable custom instructions to be loaded from .github/copilot-instructions.md files and added to requests</strong>.</p>
</li>
</ol>
</div>
<div>
<h2><a href="#enabling-and-using-prompt-files">Enabling and using prompt files</a></h2>
<div>
<p> Prompt files are public preview and subject to change.</p>
</div>
<p>Prompt files let you build and share reusable prompt instructions with additional context. A prompt file is a Markdown file, stored in your workspace, that mimics the existing format of writing prompts in Copilot Chat (for example, <code>Rewrite #file:x.ts</code>). You can have multiple prompt files in your workspace, each of which defines a prompt for a different purpose.</p>
<h3><a href="#enabling-prompt-files">Enabling prompt files</a></h3>
<p>To enable prompt files, configure the workspace settings.</p>
<ol>
<li>Open the command palette by pressing <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> (Windows/Linux) / <kbd>Command</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> (Mac).</li>
<li>Type "Open Workspace Settings (JSON)" and select the option that's displayed.</li>
<li>In the <code>settings.json</code> file, add <code>"chat.promptFiles": true</code> to enable the <code>.github/prompts</code> folder as the location for prompt files. This folder will be created if it does not already exist.</li>
</ol>
<h3><a href="#creating-prompt-files">Creating prompt files</a></h3>
<ol>
<li>
<p>Open the command palette by pressing <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> (Windows/Linux) / <kbd>Command</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> (Mac).</p>
</li>
<li>
<p>Type "prompt" and select <strong>Chat: Create Prompt</strong>.</p>
</li>
<li>
<p>Enter a name for the prompt file, excluding the <code>.prompt.md</code> file name extension. The name can contain alphanumeric characters and spaces and should describe the purpose of the prompt information the file will contain.</p>
</li>
<li>
<p>Write the prompt instructions, using Markdown formatting.</p>
<p>You can reference other files in the workspace by using Markdown links—for example, <code>[index](../../web/index.ts)</code>—or by using the <code>#file:../../web/index.ts</code> syntax. Paths are relative to the prompt file. Referencing other files allows you to provide additional context, such as API specifications or product documentation.</p>
</li>
</ol>
<h3><a href="#using-prompt-files">Using prompt files</a></h3>
<ol>
<li>
<p>At the bottom of the Copilot Chat view, click the <strong>Attach context</strong> icon (</p>
</li>
<li>
<p>In the dropdown menu, click <strong>Prompt...</strong> and choose the prompt file you want to use.</p>
</li>
<li>
<p>Optionally, attach additional files, including prompt files, to provide more context.</p>
</li>
<li>
<p>Optionally, type additional information in the chat prompt box.</p>
<p>Whether you need to do this or not depends on the contents of the prompt you are using.</p>
</li>
<li>
<p>Submit the chat prompt.</p>
</li>
</ol>
<p>For more information about prompt files, see <a href="https://code.visualstudio.com/docs/copilot/copilot-customization#_reusable-prompt-files-experimental">Custom instructions for GitHub Copilot in VS Code</a> in the Visual Studio Code documentation.</p>
</div>
</div></div></div>
</div>
</div></main>
</div></body></html>