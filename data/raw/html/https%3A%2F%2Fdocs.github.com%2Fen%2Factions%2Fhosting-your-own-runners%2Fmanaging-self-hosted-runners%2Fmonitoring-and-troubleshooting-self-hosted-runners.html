<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="GitHub Actions" href="/en/actions">GitHub Actions</a><span>/</span>
</li>
<li>
<a title="Self-hosted runners" href="/en/actions/hosting-your-own-runners">Self-hosted runners</a><span>/</span>
</li>
<li>
<a title="Manage self-hosted runners" href="/en/actions/hosting-your-own-runners/managing-self-hosted-runners">Manage self-hosted runners</a><span>/</span>
</li>
<li><a title="Monitor &amp; troubleshoot" href="/en/actions/hosting-your-own-runners/managing-self-hosted-runners/monitoring-and-troubleshooting-self-hosted-runners">Monitor &amp; troubleshoot</a></li>
</ul></nav></div>
<div>
<div><div><h1>Monitoring and troubleshooting self-hosted runners</h1></div></div>
<div>
<div><p>You can monitor your self-hosted runners to view their activity and diagnose common issues.</p></div>
<div>
<h2>Platform navigation</h2>
<nav><ul>
<li><a href="?platform=mac"><span>Mac</span></a></li>
<li><a href="?platform=windows"><span>Windows</span></a></li>
<li><a href="?platform=linux"><span>Linux</span></a></li>
</ul></nav>
</div>
</div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#using-repository-level-self-hosted-runners"><div><span>Using repository-level self-hosted runners</span></div></a></li>
<li><a href="#checking-the-status-of-a-self-hosted-runner"><div><span>Checking the status of a self-hosted runner</span></div></a></li>
<li><a href="#troubleshooting-network-connectivity"><div><span>Troubleshooting network connectivity</span></div></a></li>
<li><a href="#reviewing-the-self-hosted-runner-application-log-files"><div><span>Reviewing the self-hosted runner application log files</span></div></a></li>
<li><a href="#reviewing-a-jobs-log-file"><div><span>Reviewing a job's log file</span></div></a></li>
<li><a href="#using-journalctl-to-check-the-self-hosted-runner-application-service"><div><span>Using journalctl to check the self-hosted runner application service</span></div></a></li>
<li><a href="#using-launchd-to-check-the-self-hosted-runner-application-service"><div><span>Using launchd to check the self-hosted runner application service</span></div></a></li>
<li><a href="#using-powershell-to-check-the-self-hosted-runner-application-service"><div><span>Using PowerShell to check the self-hosted runner application service</span></div></a></li>
<li><a href="#monitoring-the-automatic-update-process"><div><span>Monitoring the automatic update process</span></div></a></li>
<li><a href="#troubleshooting-containers-in-self-hosted-runners"><div><span>Troubleshooting containers in self-hosted runners</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<h2><a href="#using-repository-level-self-hosted-runners">Using repository-level self-hosted runners</a></h2>
<p>You may not be able to create a self-hosted runner for an organization-owned repository.</p>
<p>Organization owners can choose which repositories are allowed to create repository-level self-hosted runners.</p>
<p>For more information, see <a href="/en/organizations/managing-organization-settings/disabling-or-limiting-github-actions-for-your-organization#limiting-the-use-of-self-hosted-runners">Disabling or limiting GitHub Actions for your organization</a>.</p>
<h2><a href="#checking-the-status-of-a-self-hosted-runner">Checking the status of a self-hosted runner</a></h2>
<p>A self-hosted runner can be located in either your repository, organization, or enterprise account settings on GitHub. To manage a self-hosted runner, you must have the following permissions, depending on where the self-hosted runner was added:</p>
<ul>
<li>
<strong>User repository:</strong> You must be the repository owner.</li>
<li>
<strong>Organization:</strong> You must be an organization owner.</li>
<li>
<strong>Organization repository:</strong> You must be an organization owner, or have admin access to the repository.</li>
</ul>
<ol>
<li>
<p>In your organization or repository, navigate to the main page and click </p>
</li>
<li>
<p>In the left sidebar, click <strong>Runners</strong>.</p>
</li>
<li>
<p>Under "Runners", you can view a list of registered runners, including the runner's name, labels, and status.</p>
<p>The status can be one of the following:</p>
<ul>
<li>
<strong>Idle:</strong> The runner is connected to GitHub and is ready to execute jobs.</li>
<li>
<strong>Active:</strong> The runner is currently executing a job.</li>
<li>
<strong>Offline:</strong> The runner is not connected to GitHub. This could be because the machine is offline, the self-hosted runner application is not running on the machine, or the self-hosted runner application cannot communicate with GitHub.</li>
</ul>
</li>
</ol>
<h2><a href="#troubleshooting-network-connectivity">Troubleshooting network connectivity</a></h2>
<h3><a href="#checking-self-hosted-runner-network-connectivity">Checking self-hosted runner network connectivity</a></h3>
<p>You can use the self-hosted runner application's <code>config</code> script with the <code>--check</code> parameter to check that a self-hosted runner can access all required network services on GitHub.</p>
<p>In addition to <code>--check</code>, you must provide two arguments to the script:</p>
<ul>
<li>
<code>--url</code> with the URL to your GitHub repository, organization, or enterprise. For example, <code>--url https://github.com/octo-org/octo-repo</code>.</li>
<li>
<code>--pat</code> with the value of a personal access token (classic), which must have the <code>workflow</code> scope, or a fine-grained personal access token with workflows read and write access. For example, <code>--pat ghp_abcd1234</code>. For more information, see <a href="/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token">Managing your personal access tokens</a>.</li>
</ul>
<p>For example:</p>
<div>
<pre><code>./config.sh --check --url URL --pat ghp_abcd1234
</code></pre>
</div>
<div>
<pre><code>./config.sh --check --url URL --pat ghp_abcd1234
</code></pre>
</div>
<div>
<pre><code>config.cmd <span>--check</span> <span>--url</span> https://github.com/YOUR<span>-ORG</span>/YOUR<span>-REPO</span> <span>--pat</span> GHP_ABCD1234
</code></pre>
</div>
<p>The script tests each service, and outputs either a <code>PASS</code> or <code>FAIL</code> for each one. If you have any failing checks, you can see more details on the problem in the log file for the check. The log files are located in the <code>_diag</code> directory where you installed the runner application, and the path of the log file for each check is shown in the console output of the script.</p>
<p>If you have any failing checks, you should also verify that your self-hosted runner machine meets all the communication requirements. For more information, see <a href="/en/actions/hosting-your-own-runners/managing-self-hosted-runners/communicating-with-self-hosted-runners">Communicating with self-hosted runners</a>.</p>
<h3><a href="#disabling-tls-certificate-verification">Disabling TLS certificate verification</a></h3>
<p>By default, the self-hosted runner application verifies the TLS certificate for GitHub. If you encounter network problems, you may wish to disable TLS certificate verification for testing purposes.</p>
<p>To disable TLS certification verification in the self-hosted runner application, set the <code>GITHUB_ACTIONS_RUNNER_TLS_NO_VERIFY</code> environment variable to <code>1</code> before configuring and running the self-hosted runner application.</p>
<div>
<pre><code>export GITHUB_ACTIONS_RUNNER_TLS_NO_VERIFY=1
./config.sh --url https://github.com/YOUR-ORG/YOUR-REPO --token
./run.sh
</code></pre>
</div>
<div>
<pre><code>export GITHUB_ACTIONS_RUNNER_TLS_NO_VERIFY=1
./config.sh --url https://github.com/YOUR-ORG/YOUR-REPO --token
./run.sh
</code></pre>
</div>
<div>
<pre><code>[<span>Environment</span>]::SetEnvironmentVariable(<span>'GITHUB_ACTIONS_RUNNER_TLS_NO_VERIFY'</span>, <span>'1'</span>)
./config.cmd <span>--url</span> https://github.com/YOUR<span>-ORG</span>/YOUR<span>-REPO</span> <span>--token</span>
./run.cmd
</code></pre>
</div>
<div>
<p>
Disabling TLS verification is not recommended since TLS provides privacy and data integrity between the self-hosted runner application and GitHub. We recommend that you install the GitHub certificate in the operating system certificate store for your self-hosted runner. For guidance on how to install the GitHub certificate, check with your operating system vendor.</p>
</div>
<h2><a href="#reviewing-the-self-hosted-runner-application-log-files">Reviewing the self-hosted runner application log files</a></h2>
<p>You can monitor the status of the self-hosted runner application and its activities. Log files are kept in the <code>_diag</code> directory where you installed the runner application, and a new log is generated each time the application is started. The filename begins with <code>Runner_</code>, and is followed by a UTC timestamp of when the application was started.</p>
<div>
<p>
Runner application log files for ephemeral runners must be forwarded and preserved externally for troubleshooting and diagnostic purposes. For more information about ephemeral runners and autoscaling self-hosted runners, see <a href="/en/actions/hosting-your-own-runners/managing-self-hosted-runners/autoscaling-with-self-hosted-runners#using-ephemeral-runners-for-autoscaling">Autoscaling with self-hosted runners</a>.</p>
</div>
<p>For detailed logs on workflow job executions, see the next section describing the <code>Worker_</code> files.</p>
<h2><a href="#reviewing-a-jobs-log-file">Reviewing a job's log file</a></h2>
<p>The self-hosted runner application creates a detailed log file for each job that it processes. These files are stored in the <code>_diag</code> directory where you installed the runner application, and the filename begins with <code>Worker_</code>.</p>
<div>
<h2><a href="#using-journalctl-to-check-the-self-hosted-runner-application-service">Using journalctl to check the self-hosted runner application service</a></h2>
<p>For Linux-based self-hosted runners running the application using a service, you can use <code>journalctl</code> to monitor their real-time activity. The default systemd-based service uses the following naming convention: <code>actions.runner.&lt;org&gt;-&lt;repo&gt;.&lt;runnerName&gt;.service</code>. This name is truncated if it exceeds 80 characters, so the preferred way of finding the service's name is by checking the <em>.service</em> file. For example:</p>
<pre><code><span>$ </span><span><span>cat</span> ~/actions-runner/.service</span>
actions.runner.octo-org-octo-repo.runner01.service
</code></pre>
<p>If this fails due to the service being installed elsewhere, you can find the service name in the list of running services. For example, on most Linux systems you can use the <code>systemctl</code> command:</p>
<pre><code><span>$ </span><span>systemctl --<span>type</span>=service | grep actions.runner</span>
actions.runner.octo-org-octo-repo.hostname.service loaded active running GitHub Actions Runner (octo-org-octo-repo.hostname)
</code></pre>
<p>You can use <code>journalctl</code> to monitor the real-time activity of the self-hosted runner:</p>
<pre><code>sudo journalctl -u actions.runner.octo-org-octo-repo.runner01.service -f
</code></pre>
<p>In this example output, you can see <code>runner01</code> start, receive a job named <code>testAction</code>, and then display the resulting status:</p>
<pre><code>Feb 11 14:57:07 runner01 runsvc.sh[962]: Starting Runner listener with startup type: service
Feb 11 14:57:07 runner01 runsvc.sh[962]: Started listener process
Feb 11 14:57:07 runner01 runsvc.sh[962]: Started running service
Feb 11 14:57:16 runner01 runsvc.sh[962]: √ Connected to GitHub
Feb 11 14:57:17 runner01 runsvc.sh[962]: 2020-02-11 14:57:17Z: Listening for Jobs
Feb 11 16:06:54 runner01 runsvc.sh[962]: 2020-02-11 16:06:54Z: Running job: testAction
Feb 11 16:07:10 runner01 runsvc.sh[962]: 2020-02-11 16:07:10Z: Job testAction completed with result: Succeeded
</code></pre>
<p>To view the <code>systemd</code> configuration, you can locate the service file here: <code>/etc/systemd/system/actions.runner.&lt;org&gt;-&lt;repo&gt;.&lt;runnerName&gt;.service</code>.
If you want to customize the self-hosted runner application service, do not directly modify this file. Follow the instructions described in <a href="/en/actions/hosting-your-own-runners/managing-self-hosted-runners/configuring-the-self-hosted-runner-application-as-a-service#customizing-the-self-hosted-runner-service">Configuring the self-hosted runner application as a service</a>.</p>
</div>
<div>
<h2><a href="#using-launchd-to-check-the-self-hosted-runner-application-service">Using <code>launchd</code> to check the self-hosted runner application service</a></h2>
<p>For macOS-based self-hosted runners running the application as a service, you can use <code>launchctl</code> to monitor their real-time activity. The default launchd-based service uses the following naming convention: <code>actions.runner.&lt;org&gt;-&lt;repo&gt;.&lt;runnerName&gt;</code>. This name is truncated if it exceeds 80 characters, so the preferred way of finding the service's name is by checking the <em>.service</em> file in the runner directory:</p>
<pre><code><span>% </span><span><span>cat</span> ~/actions-runner/.service</span>
/Users/exampleUsername/Library/LaunchAgents/actions.runner.octo-org-octo-repo.runner01.plist
</code></pre>
<p>The <code>svc.sh</code> script uses <code>launchctl</code> to check whether the application is running. For example:</p>
<pre><code><span>$ </span><span>./svc.sh status</span>
status actions.runner.example.runner01:
/Users/exampleUsername/Library/LaunchAgents/actions.runner.example.runner01.plist
Started:
379 0 actions.runner.example.runner01
</code></pre>
<p>The resulting output includes the process ID and the name of the application’s <code>launchd</code> service.</p>
<p>To view the <code>launchd</code> configuration, you can locate the service file here: <code>/Users/exampleUsername/Library/LaunchAgents/actions.runner.&lt;repoName&gt;.&lt;runnerName&gt;.service</code>.
If you want to customize the self-hosted runner application service, do not directly modify this file. Follow the instructions described in <a href="/en/actions/hosting-your-own-runners/managing-self-hosted-runners/configuring-the-self-hosted-runner-application-as-a-service#customizing-the-self-hosted-runner-service-1">Configuring the self-hosted runner application as a service</a>.</p>
</div>
<div>
<h2><a href="#using-powershell-to-check-the-self-hosted-runner-application-service">Using PowerShell to check the self-hosted runner application service</a></h2>
<p>For Windows-based self-hosted runners running the application as a service, you can use PowerShell to monitor their real-time activity. The service uses the naming convention <code>GitHub Actions Runner (&lt;org&gt;-&lt;repo&gt;.&lt;runnerName&gt;)</code>. You can also find the service's name by checking the <em>.service</em> file in the runner directory:</p>
<pre><code><span>PS</span> C:\actions<span>-runner</span>&gt; <span>Get-Content</span> .service
actions.runner.octo<span>-org-octo-repo</span>.runner01.service
</code></pre>
<p>You can view the status of the runner in the Windows <em>Services</em> application (<code>services.msc</code>). You can also use PowerShell to check whether the service is running:</p>
<pre><code><span>PS</span> C:\actions<span>-runner</span>&gt; <span>Get-Service</span> <span>"actions.runner.octo-org-octo-repo.runner01.service"</span> | <span>Select-Object</span> Name, Status
Name                                                  Status
<span>----</span>                                                  <span>------</span>
actions.runner.octo<span>-org-octo-repo</span>.runner01.service    Running
</code></pre>
<p>You can use PowerShell to check the recent activity of the self-hosted runner. In this example output, you can see the application start, receive a job named <code>testAction</code>, and then display the resulting status:</p>
<pre><code><span>PS</span> C:\actions<span>-runner</span>&gt; <span>Get-EventLog</span> <span>-LogName</span> Application <span>-Source</span> ActionsRunnerService

   Index Time          EntryType   Source                 InstanceID Message
   <span>-----</span> <span>----</span>          <span>---------</span>   <span>------</span>                 <span>----------</span> <span>-------</span>
     <span>136</span> Mar <span>17</span> <span>13</span>:<span>45</span>  Information ActionsRunnerService          <span>100</span> <span>2020</span><span>-03-17</span> <span>13</span>:<span>45</span>:<span>48</span>Z: Job Greeting completed with result: Succeeded
     <span>135</span> Mar <span>17</span> <span>13</span>:<span>45</span>  Information ActionsRunnerService          <span>100</span> <span>2020</span><span>-03-17</span> <span>13</span>:<span>45</span>:<span>34</span>Z: Running job: testAction
     <span>134</span> Mar <span>17</span> <span>13</span>:<span>41</span>  Information ActionsRunnerService          <span>100</span> <span>2020</span><span>-03-17</span> <span>13</span>:<span>41</span>:<span>54</span>Z: Listening <span>for</span> Jobs
     <span>133</span> Mar <span>17</span> <span>13</span>:<span>41</span>  Information ActionsRunnerService          <span>100</span> û Connected to GitHub
     <span>132</span> Mar <span>17</span> <span>13</span>:<span>41</span>  Information ActionsRunnerService            <span>0</span> Service started successfully.
     <span>131</span> Mar <span>17</span> <span>13</span>:<span>41</span>  Information ActionsRunnerService          <span>100</span> Starting Actions Runner listener
     <span>130</span> Mar <span>17</span> <span>13</span>:<span>41</span>  Information ActionsRunnerService          <span>100</span> Starting Actions Runner Service
     <span>129</span> Mar <span>17</span> <span>13</span>:<span>41</span>  Information ActionsRunnerService          <span>100</span> create event log trace source <span>for</span> actions<span>-runner</span> service
</code></pre>
</div>
<h2><a href="#monitoring-the-automatic-update-process">Monitoring the automatic update process</a></h2>
<p>We recommend that you regularly check the automatic update process, as the self-hosted runner will not be able to process jobs if it falls below a certain version threshold. The self-hosted runner application automatically updates itself, but note that this process does not include any updates to the operating system or other software; you will need to separately manage these updates.</p>
<p>You can view the update activities in the <code>Runner_</code> log files. For example:</p>
<pre><code>[Feb 12 12:37:07 INFO SelfUpdater] An update is available.
</code></pre>
<p>In addition, you can find more information in the <em>SelfUpdate</em> log files located in the <code>_diag</code> directory where you installed the runner application.</p>
<div>
<h2><a href="#troubleshooting-containers-in-self-hosted-runners">Troubleshooting containers in self-hosted runners</a></h2>
<h3><a href="#checking-that-docker-is-installed">Checking that Docker is installed</a></h3>
<p>If your jobs require containers, then the self-hosted runner must be Linux-based and needs to have Docker installed. Check that your self-hosted runner has Docker installed and that the service is running.</p>
<p>You can use <code>systemctl</code> to check the service status:</p>
<pre><code><span>$ </span><span>sudo systemctl is-active docker.service</span>
active
</code></pre>
<p>If Docker is not installed, then dependent actions will fail with the following errors:</p>
<pre><code>[2020-02-13 16:56:10Z INFO DockerCommandManager] Which: 'docker'
[2020-02-13 16:56:10Z INFO DockerCommandManager] Not found.
[2020-02-13 16:56:10Z ERR  StepsRunner] Caught exception from step: System.IO.FileNotFoundException: File not found: 'docker'
</code></pre>
<h3><a href="#checking-the-docker-permissions">Checking the Docker permissions</a></h3>
<p>If your job fails with the following error:</p>
<pre><code>dial unix /var/run/docker.sock: connect: permission denied
</code></pre>
<p>Check that the self-hosted runner's service account has permission to use the Docker service. You can identify this account by checking the configuration of the self-hosted runner in <code>systemd</code>. For example:</p>
<pre><code><span>$ </span><span>sudo systemctl show -p User actions.runner.octo-org-octo-repo.runner01.service</span>
User=runner-user
</code></pre>
</div>
<h3><a href="#checking-which-docker-engine-is-installed-on-the-runner">Checking which Docker engine is installed on the runner</a></h3>
<p>If your build fails with the following error:</p>
<pre><code>Error: Input required and not supplied: java-version
</code></pre>
<p>Check which Docker engine is installed on your self-hosted runner. To pass the inputs of an action into the Docker container, the runner uses environment variables that might contain dashes as part of their names. The action may not be able to get the inputs if the Docker engine is not a binary executable, but is instead a shell wrapper or a link (for example, a Docker engine installed on Linux using <code>snap</code>). To address this error, configure your self-hosted runner to use a different Docker engine.</p>
<p>To check if your Docker engine was installed using <code>snap</code>, use the <code>which</code> command. In the following example, the Docker engine was installed using <code>snap</code>:</p>
<pre><code><span>$ </span><span><span>which</span> docker</span>
/snap/bin/docker
</code></pre>
</div></div></div>
</div>
</div></main>
</div></body></html>