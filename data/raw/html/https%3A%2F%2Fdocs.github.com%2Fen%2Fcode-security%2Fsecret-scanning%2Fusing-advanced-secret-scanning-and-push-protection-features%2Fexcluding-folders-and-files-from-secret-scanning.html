<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="Secure coding" href="/en/code-security">Secure coding</a><span>/</span>
</li>
<li>
<a title="Secret scanning" href="/en/code-security/secret-scanning">Secret scanning</a><span>/</span>
</li>
<li>
<a title="Advanced features" href="/en/code-security/secret-scanning/using-advanced-secret-scanning-and-push-protection-features">Advanced features</a><span>/</span>
</li>
<li><a title="Exclude folders and files" href="/en/code-security/secret-scanning/using-advanced-secret-scanning-and-push-protection-features/excluding-folders-and-files-from-secret-scanning">Exclude folders and files</a></li>
</ul></nav></div>
<div>
<div><div><h1>Excluding folders and files from secret scanning</h1></div></div>
<div>
<div><p>You can customize secret scanning to automatically close alerts for secrets found in specific directories or files by configuring a <code>secret_scanning.yml</code> file in your repository.</p></div>
<div><div>
<div><h2>Who can use this feature?</h2></div>
<div><div><p>Repository owners, organization owners, security managers, and users with the <strong>admin</strong> role</p></div></div>
</div></div>
</div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#about-secret-scanning"><div><span>About secret scanning</span></div></a></li>
<li><a href="#about-excluding-directories-from-secret-scanning-alerts-for-users"><div><span>About excluding directories from secret scanning alerts for users</span></div></a></li>
<li><a href="#excluding-directories-from-secret-scanning-alerts-for-users"><div><span>Excluding directories from secret scanning alerts for users</span></div></a></li>
<li><a href="#verifying-that-the-folder-is-excluded-from-secret-scanning"><div><span>Verifying that the folder is excluded from secret scanning</span></div></a></li>
<li><a href="#best-practices"><div><span>Best practices</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<h2><a href="#about-secret-scanning">About secret scanning</a></h2>
<p>Secret scanning automatically detects tokens or credentials that have been checked into a repository. You can view secret scanning alerts for users for any secrets that GitHub finds in your code, in the <strong>Security</strong> tab of the repository, so that you know which tokens or credentials to treat as compromised.For more information, see <a href="/en/code-security/secret-scanning/managing-alerts-from-secret-scanning/about-alerts#about-user-alerts">About secret scanning alerts</a>.</p>
<h2><a href="#about-excluding-directories-from-secret-scanning-alerts-for-users">About excluding directories from secret scanning alerts for users</a></h2>
<p>You may have a reason to commit a secret to a repository, such as when you want to provide a fake secret in documentation, or in an example application. In these scenarios, you can quickly dismiss the alert and document the reasons. However, there may be cases where you want to ignore a directory entirely to avoid creating false positive alerts at scale. For example, you might have a monolithic application with several integrations containing a file of dummy keys that could set off numerous false alerts to triage.</p>
<p>You can configure a <code>secret_scanning.yml</code> file to automatically close alerts found in specific directories from secret scanning, and exclude these directories included in push protection. These alerts are closed as "ignored by configuration".</p>
<h2><a href="#excluding-directories-from-secret-scanning-alerts-for-users">Excluding directories from secret scanning alerts for users</a></h2>
<ol>
<li>
<p>On GitHub, navigate to the main page of the repository.</p>
</li>
<li>
<p>Above the list of files, select the <strong>Add file</strong> </p>
<p>Alternatively, you can click </p>
<div><picture><source><img src="/assets/cb-60263/images/help/repository/add-file-buttons.png" alt='Screenshot of the main page of a repository highlighting both the "Add file" and the "plus sign" icon, described above, with an orange outline.' width="1440" height="270"></source></picture></div>
</li>
<li>
<p>In the file name field, enter ".github/secret_scanning.yml".</p>
</li>
<li>
<p>Under <strong>Edit new file</strong>, type <code>paths-ignore:</code> followed by the paths you want to exclude from secret scanning.</p>
<div>
<header><span>YAML</span><pre>paths-ignore:
  - "docs/**"
</pre></header><pre><code><span>paths-ignore:</span>
  <span>-</span> <span>"docs/**"</span>
</code></pre>
</div>
<p>This tells secret scanning to automatically close alerts for everything in the <code>docs</code> directory. You can use this example file as a template to add the files and folders youâ€™d like to exclude from your own repositories.</p>
<p>You can also use special characters, such as <code>*</code> to filter paths. For more information about filter patterns, see <a href="/en/actions/reference/workflow-syntax-for-github-actions#filter-pattern-cheat-sheet">Workflow syntax for GitHub Actions</a>.</p>
<div>
<header><span>YAML</span><pre>paths-ignore:
  - "foo/bar/*.js"
</pre></header><pre><code><span>paths-ignore:</span>
  <span>-</span> <span>"foo/bar/*.js"</span>
</code></pre>
</div>
<div>
<ul>
<li>If there are more than 1,000 entries in <code>paths-ignore</code>, secret scanning will only exclude the first 1,000 directories from scans.</li>
<li>If <code>secret_scanning.yml</code> is larger than 1 MB, secret scanning will ignore the entire file.</li>
</ul>
</div>
</li>
</ol>
<h2><a href="#verifying-that-the-folder-is-excluded-from-secret-scanning">Verifying that the folder is excluded from secret scanning</a></h2>
<ol>
<li>Open a file in a directory that you have excluded from secret scanning</li>
<li>Paste a pre-invalidated secret, or a test secret.</li>
<li>Commit the change.</li>
<li>On GitHub, navigate to the main page of the repository.</li>
<li>Under the repository name, click <strong>Security</strong>.
<div><picture><source><img src="/assets/cb-17801/images/help/repository/security-tab.png" alt='Screenshot of a repository header showing the tabs. The "Security" tab is highlighted by a dark orange outline.' width="720" height="89"></source></picture></div> There should be no new open alerts for the secret you just introduced into the file.</li>
</ol>
<h2><a href="#best-practices">Best practices</a></h2>
<p>Best practices include:</p>
<ul>
<li>Minimizing the number of directories excluded and being as precise as possible when defining exclusions. This ensures that the instructions are as clear as possible, and that exclusions work as intended.</li>
<li>Explaining why a particular file or folder is excluded in a comment in the <code>secret_scanning.yml</code> file. As with regular code, using comments clarifies your intention, making it easier for others to understand the desired behavior.</li>
<li>Reviewing the <code>secret_scanning.yml</code> file on a regular basis. Some exclusions may no longer apply with time, and it is good practice to keep the file clean and current. The use of comments, as advised above, can help with this.</li>
<li>Informing the security team what files and folders you've excluded, and why. Good communication is vital in ensuring that everyone is on the same page, and understands why specific folders or files are excluded.</li>
</ul>
</div></div></div>
</div>
</div></main>
</div></body></html>