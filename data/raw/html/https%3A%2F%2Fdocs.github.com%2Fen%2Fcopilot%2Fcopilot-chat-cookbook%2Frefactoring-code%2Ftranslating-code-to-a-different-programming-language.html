<html><body><div>
<main><div>
<div><nav><ul>
<li>
<a title="GitHub Copilot" href="/en/copilot">GitHub Copilot</a><span>/</span>
</li>
<li>
<a title="Copilot Chat Cookbook" href="/en/copilot/copilot-chat-cookbook">Copilot Chat Cookbook</a><span>/</span>
</li>
<li>
<a title="Refactoring code" href="/en/copilot/copilot-chat-cookbook/refactoring-code">Refactoring code</a><span>/</span>
</li>
<li><a title="Translate code" href="/en/copilot/copilot-chat-cookbook/refactoring-code/translating-code-to-a-different-programming-language">Translate code</a></li>
</ul></nav></div>
<div>
<div><div><h1>Translating code to a different programming language</h1></div></div>
<div><div><p>Copilot Chat can help you rewrite code to perform the same operations but in a different programming language.</p></div></div>
<div>
<h2>In this article</h2>
<nav><ul>
<li><a href="#example-scenario"><div><span>Example scenario</span></div></a></li>
<li><a href="#example-prompt"><div><span>Example prompt</span></div></a></li>
<li><a href="#example-response"><div><span>Example response</span></div></a></li>
<li><a href="#further-reading"><div><span>Further reading</span></div></a></li>
</ul></nav>
</div>
<div><div><div>
<p>There are many reasons why you might want to move code from one programming language to another. Each programming language has its own strengths and weaknesses, and you might want to take advantage of features that are available in another language. For example, you might want to move code to a language that has better performance, or which uses strong typing to help prevent bugs.</p>
<p>For ease of maintaining code, you might want to move code to a language that is more widely used in your organization. For example, if few people in your organization know an older language such as Perl, you might want to move any Perl code that's still in use to a more commonly used language such as Python or JavaScript.</p>
<p>Copilot can help you translate code from one language to another. Translating a standalone file, such as a script, is straightforward. This process is described in this article.</p>
<p>Translating a project containing multiple files is a more complex process, and is described in <a href="/en/copilot/using-github-copilot/guides-on-using-github-copilot/using-copilot-to-migrate-a-project">Using Copilot to migrate a project to another programming language</a>.</p>
<h2><a href="#example-scenario">Example scenario</a></h2>
<p>The following Perl script prompts the user to enter the path to a text file. It checks what the user enters and if a text file is found at that path, it outputs a word count and character count for the contents of the file.</p>
<div>
<header><span>Perl</span><pre>#!/usr/bin/perl
use strict;
use warnings;
use File::Spec;
use File::Basename;

print "Please enter the path to a local text file: ";
chomp(my $file_path = &lt;STDIN&gt;);

if ($file_path =~ /[`|;&amp;&lt;&gt;(){}\[\]]/ || !File::Spec-&gt;file_name_is_absolute($file_path) &amp;&amp; dirname($file_path) ne '.') {
    die "Invalid file path. Please provide a valid path.\n";
}
if (!-e $file_path) {
    die "File not found. Please provide an existing file path.\n";
}

open(my $fh, '&lt;', $file_path) or die "Could not open file '$file_path': $!\n";

my $is_binary = 0;
while (read($fh, my $buffer, 1024)) {
    if ($buffer =~ /[^\x09\x0A\x0D\x20-\x7E]/) {
        $is_binary = 1;
        last;
    }
}
close($fh);

if ($is_binary) {
    die "The file '$file_path' is a binary file. Please provide a text file.\n";
}

open($fh, '&lt;', $file_path) or die "Could not open file '$file_path': $!\n";
my $content = do { local $/; &lt;$fh&gt; };
close($fh);

my $word_count = scalar(split /\s+/, $content);
my $char_count = length($content);

print "The file '$file_path' contains $word_count words and $char_count characters.\n";
</pre></header><pre><code><span>#!/usr/bin/perl</span>
<span>use</span> strict;
<span>use</span> warnings;
<span>use</span> File::Spec;
<span>use</span> File::Basename;

<span>print</span> <span>"Please enter the path to a local text file: "</span>;
<span>chomp</span>(<span>my</span> $file_path = &lt;STDIN&gt;);

<span>if</span> ($file_path =~ <span>/[`|;&amp;&lt;&gt;(){}\[\]]/</span> || !File::Spec-&gt;file_name_is_absolute($file_path) &amp;&amp; dirname($file_path) <span>ne</span> <span>'.'</span>) {
    <span>die</span> <span>"Invalid file path. Please provide a valid path.\n"</span>;
}
<span>if</span> (!-e $file_path) {
    <span>die</span> <span>"File not found. Please provide an existing file path.\n"</span>;
}

<span>open</span>(<span>my</span> $fh, <span>'&lt;'</span>, $file_path) <span>or</span> <span>die</span> <span>"Could not open file '$file_path': $!\n"</span>;

<span>my</span> $is_binary = <span>0</span>;
<span>while</span> (<span>read</span>($fh, <span>my</span> $buffer, <span>1024</span>)) {
    <span>if</span> ($buffer =~ <span>/[^\x09\x0A\x0D\x20-\x7E]/</span>) {
        $is_binary = <span>1</span>;
        <span>last</span>;
    }
}
<span>close</span>($fh);

<span>if</span> ($is_binary) {
    <span>die</span> <span>"The file '$file_path' is a binary file. Please provide a text file.\n"</span>;
}

<span>open</span>($fh, <span>'&lt;'</span>, $file_path) <span>or</span> <span>die</span> <span>"Could not open file '$file_path': $!\n"</span>;
<span>my</span> $content = <span>do</span> { <span>local</span> $/; &lt;$fh&gt; };
<span>close</span>($fh);

<span>my</span> $word_count = <span>scalar</span>(<span>split</span> <span>/\s+/</span>, $content);
<span>my</span> $char_count = <span>length</span>($content);

<span>print</span> <span>"The file '$file_path' contains $word_count words and $char_count characters.\n"</span>;
</code></pre>
</div>
<h2><a href="#example-prompt">Example prompt</a></h2>
<p><code>Tell me how I can convert this Perl script to Typescript. The functionality and output of the new script should be exactly the same as the existing one. Also tell me how to run the new file using Node.</code></p>
<h2><a href="#example-response">Example response</a></h2>
<p>Copilot generates the following Typescript code.</p>
<div>
<p> Copilot Chat responses are non-deterministic, so you may get a different response from the one shown here.</p>
</div>
<div>
<header><span>TypeScript</span><pre>import * as fs from 'fs';
import * as path from 'path';
import * as readline from 'readline';

const rl = readline.createInterface({
    input: process.stdin,
    output: process.stdout
});

rl.question('Please enter the path to a local text file: ', (filePath) =&gt; {
    rl.close();

    if (/[`|;&amp;&lt;&gt;(){}\[\]]/.test(filePath) || (!path.isAbsolute(filePath) &amp;&amp; path.dirname(filePath) !== '.')) {
        console.error('Invalid file path. Please provide a valid path.');
        process.exit(1);
    }

    if (!fs.existsSync(filePath)) {
        console.error('File not found. Please provide an existing file path.');
        process.exit(1);
    }

    const fileBuffer = fs.readFileSync(filePath);
    const isBinary = fileBuffer.some(byte =&gt; byte &lt; 9 || (byte &gt; 13 &amp;&amp; byte &lt; 32) || byte &gt; 126);

    if (isBinary) {
        console.error(`The file '${filePath}' is a binary file. Please provide a text file.`);
        process.exit(1);
    }

    const content = fileBuffer.toString('utf-8');
    const wordCount = content.split(/\s+/).length;
    const charCount = content.length;

    console.log(`The file '${filePath}' contains ${wordCount} words and ${charCount} characters.`);
});
</pre></header><pre><code><span>import</span> * <span>as</span> fs <span>from</span> <span>'fs'</span>;
<span>import</span> * <span>as</span> path <span>from</span> <span>'path'</span>;
<span>import</span> * <span>as</span> readline <span>from</span> <span>'readline'</span>;

<span>const</span> rl = readline.<span>createInterface</span>({
    <span>input</span>: process.<span>stdin</span>,
    <span>output</span>: process.<span>stdout</span>
});

rl.<span>question</span>(<span>'Please enter the path to a local text file: '</span>, <span>(<span>filePath</span>) =&gt;</span> {
    rl.<span>close</span>();

    <span>if</span> (<span>/[`|;&amp;&lt;&gt;(){}\[\]]/</span>.<span>test</span>(filePath) || (!path.<span>isAbsolute</span>(filePath) &amp;&amp; path.<span>dirname</span>(filePath) !== <span>'.'</span>)) {
        <span>console</span>.<span>error</span>(<span>'Invalid file path. Please provide a valid path.'</span>);
        process.<span>exit</span>(<span>1</span>);
    }

    <span>if</span> (!fs.<span>existsSync</span>(filePath)) {
        <span>console</span>.<span>error</span>(<span>'File not found. Please provide an existing file path.'</span>);
        process.<span>exit</span>(<span>1</span>);
    }

    <span>const</span> fileBuffer = fs.<span>readFileSync</span>(filePath);
    <span>const</span> isBinary = fileBuffer.<span>some</span>(<span><span>byte</span> =&gt;</span> byte &lt; <span>9</span> || (byte &gt; <span>13</span> &amp;&amp; byte &lt; <span>32</span>) || byte &gt; <span>126</span>);

    <span>if</span> (isBinary) {
        <span>console</span>.<span>error</span>(<span>`The file '<span>${filePath}</span>' is a binary file. Please provide a text file.`</span>);
        process.<span>exit</span>(<span>1</span>);
    }

    <span>const</span> content = fileBuffer.<span>toString</span>(<span>'utf-8'</span>);
    <span>const</span> wordCount = content.<span>split</span>(<span>/\s+/</span>).<span>length</span>;
    <span>const</span> charCount = content.<span>length</span>;

    <span>console</span>.<span>log</span>(<span>`The file '<span>${filePath}</span>' contains <span>${wordCount}</span> words and <span>${charCount}</span> characters.`</span>);
});
</code></pre>
</div>
<p>Save this file as <code>wordcount.ts</code>.</p>
<p>Copilot goes on to explain how to run the new file using Node.</p>
<ol>
<li>
<p><strong>Install Node.js:</strong> If you don't have it already, download and install Node.js from the official website: <a href="https://nodejs.org/">https://nodejs.org/</a>.</p>
</li>
<li>
<p><strong>Install TypeScript:</strong></p>
<pre><code>npm install -g typescript
</code></pre>
</li>
<li>
<p><strong>Compile the TypeScript code:</strong></p>
<pre><code>tsc wordcount.ts
</code></pre>
<p>This will create a <code>wordcount.js</code> file in the same directory.</p>
</li>
<li>
<p><strong>Run the JavaScript file with Node.js:</strong></p>
<pre><code>node wordcount.js
</code></pre>
</li>
</ol>
<h2><a href="#further-reading">Further reading</a></h2>
<ul>
<li><a href="/en/copilot/using-github-copilot/prompt-engineering-for-github-copilot">Prompt engineering for Copilot Chat</a></li>
<li><a href="/en/copilot/using-github-copilot/best-practices-for-using-github-copilot">Best practices for using GitHub Copilot</a></li>
</ul>
</div></div></div>
</div>
</div></main>
</div></body></html>